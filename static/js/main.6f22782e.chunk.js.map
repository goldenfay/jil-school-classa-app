{"version":3,"sources":["Admin/shared/notifiers/toaster/ToasterSnackBar.js","Admin/shared/LoadingComponent.js","services/config.js","services/shared.js","services/managerServices.js","redux/actions/managerActions.js","services/teacherServices.js","redux/actions/teacherActions.js","Admin/auth/pages/Login.js","Admin/auth/pages/Signup.js","Admin/auth/pages/Auth.js","Admin/auth/pages/Logout.js","Admin/shared/sidebar/SidebarItem.js","Admin/shared/sidebar/SidebarItemList.js","utils/functions.js","Admin/shared/ProfileAvatar.js","Admin/shared/sidebar/SidebarProfile.js","Admin/shared/sidebar/index.js","Admin/Manager/dashboard/pages/DashboardLayout.js","Admin/Teacher/dashboard/pages/Dashboard.js","themes/palettes.js","Admin/shared/Page.js","Admin/shared/tables/CustomCollapsibleTable.js","Admin/Manager/dashboard/pages/dashboard/Dashboard.js","Admin/shared/tables/CustomTableHead.js","Admin/shared/tables/CustomTableToolbar.js","Admin/shared/tables/CustomTable.js","Admin/shared/CustomForm.js","Admin/Manager/dashboard/pages/enseignants/Add.js","Admin/shared/Modal.js","Admin/Manager/dashboard/pages/enseignants/InfoCard.js","Admin/data/tableHeads.js","Admin/Manager/dashboard/pages/enseignants/Enseignants.js","Admin/Manager/dashboard/pages/Abonnes.js","Admin/Manager/dashboard/pages/Eleves.js","themes/tinyTheme.js","Admin/Manager/dashboard/pages/Profile.js","Admin/shared/CustomUploaderButton.js","Admin/Manager/dashboard/pages/pubs/Update.js","Admin/Manager/dashboard/pages/pubs/Pubs.js","Admin/shared/charts/BarChart.js","Admin/shared/charts/PieChart.js","Admin/Manager/dashboard/components/charts/ElevesStatCharts.js","Admin/Manager/dashboard/components/charts/ProfsGeoPartition.js","Admin/shared/charts/FunnelChart.js","Admin/Manager/dashboard/components/charts/ClassesByProfDist.js","Admin/Manager/dashboard/components/charts/Summary.js","Admin/Manager/dashboard/pages/Statistiques.js","Admin/Teacher/dashboard/pages/contenu/Add/styles.js","Admin/shared/CustomStepper.js","Admin/Teacher/dashboard/pages/contenu/Add/AjouterVideo.js","Admin/Teacher/dashboard/pages/contenu/Add/AjouterResume.js","Admin/Teacher/dashboard/pages/contenu/Add/QuizQuestion.js","Admin/Teacher/dashboard/pages/contenu/Add/AjouterQuiz.js","Admin/Teacher/dashboard/pages/contenu/Add/AjouterCours.js","Admin/Teacher/dashboard/pages/contenu/Contenu.js","Admin/Teacher/dashboard/pages/Eleves.js","Admin/Teacher/dashboard/pages/Profile.js","Admin/Teacher/dashboard/pages/Statistiques.js","router.js","Admin/statecontexts/LayoutContext.js","redux/reducers/managerReducer.js","redux/reducers/teacherReducer.js","redux/reducers/adminReducer.js","redux/stores/managerStore.js","redux/stores/adminStore.js","redux/stores/teacherStore.js","AppAdmin.js","App.js","serviceWorker.js","index.js"],"names":["defaultTransition","props","Slide","direction","ToasterSnackBar","children","Snackbar","open","onClose","handleClose","TransitionComponent","key","Transition","name","useStyles","makeStyles","theme","container","height","minHeight","box","width","wrapper","margin","spacing","position","buttonProgress","LoadingComponent","classes","Container","className","controller","Box","display","alignContent","alignItems","justifyContent","CircularProgress","progressStyles","component","USERS_API_URL","STATS_API_URL","teacherConfig","managerConfig","login","username","password","adminType","requestOptions","method","headers","body","JSON","stringify","fetch","then","handleResponse","res","adminObj","admin","description","matiere","titre","token","localStorage","setItem","err","Promise","reject","message","authHeader","parse","getItem","checkRoleAutorizationFail","data","role","response","text","ok","error","status","statusText","resolve","managerService","updateProfile","params","fd","FormData","Object","keys","forEach","el","includes","append","id","getAllAbonnements","getAllAbonnes","getAllEleves","getAllClasses","getAllMatieres","getAllClassesMatieres","getAllPubs","addPub","optionalOpts","requiredParams","every","attr","find","link","updatePub","deletePub","getProfsStatistics","getElevesStatistics","exports","formData","ManagerService","type","payload","console","logout","removeItem","dispatch","getState","updateSelectedLink","teacherService","register","filter","getAll","getById","getProfCourses","addNewCourse","set","questionsList","map","qst","questionImgName","questionImg","file","answerImgName","answerImg","deleteCourse","getProfEleves","TeacherService","oldUser","updateUser","paper","marginTop","flexDirection","avatar","backgroundColor","palette","secondary","main","form","submit","color","grey","top","left","marginLeft","connect","state","loginStatus","adminReducer","Actions","navigator","useNavigate","useState","setUsername","setPassword","isManager","setIsManager","ButtonRef","createRef","alertOpen","setAlertOpen","loading","setloading","toasterContent","Alert","variant","severity","handleChange","e","target","value","checked","maxWidth","CssBaseline","autoHideDuration","Avatar","Typography","TextField","required","fullWidth","label","onChange","autoComplete","autoFocus","FormControlLabel","control","Checkbox","disabled","Button","RouteLink","to","onClick","preventDefault","log","returnValue","ref","SignUp","noValidate","Grid","item","xs","sm","href","justify","Link","switchAuthMode","Auth","authMode","setAuthMode","prevMode","Login","window","location","assign","listItem","primary","light","selected","selectedLink","managerLayoutReducer","ItemIcon","isLinkActive","pathname","indexOf","mylink","Divider","ListItem","button","ListItemIcon","ListItemText","SidebarItemList","mylabel","setLabel","navItems","List","handleClick","getInitials","fullname","replace","split","slice","v","toUpperCase","join","marginBottom","cursor","contrastText","title","textTransform","ProfileAvatar","firstname","lastname","descriptionTitle","src","gutterBottom","dateText","user","image","nom","prenom","index","handleDrawerClose","Drawer","clsx","drawerPaper","drawerPaperClose","toolbarIcon","IconButton","CastForEducationIcon","LoyaltyIcon","PeopleIcon","GradientIcon","BarChartIcon","PersonIcon","ExitToAppIcon","root","toolbar","paddingRight","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","marginRight","menuButtonHidden","flexGrow","whiteSpace","overflowX","breakpoints","up","appBarSpacer","content","overflow","paddingTop","paddingBottom","fixedHeight","Dashboard","React","setOpen","AppBar","Toolbar","edge","aria-label","noWrap","decendentprops","SchoolIcon","TeacherLayoutTheme","createMuiTheme","purple","red","boxShadow","shadows","defaultTheme","bootstraptheme","cyclesTheme","deepOrange","deepPurple","default","green","Page","forwardRef","rest","Helmet","useRowStyles","borderBottom","head","fontWeight","fontSize","rowHead","Row","row","headLabels","subHeadersTitle","subHeaderLabels","Fragment","TableRow","TableCell","size","align","style","colSpan","Collapse","in","timeout","unmountOnExit","Table","TableHead","idx","TableBody","subRow","rowIdx","CollapsibleTable","rows","TableContainer","Paper","prototype","PropTypes","object","isRequired","array","fab","success","DataRows","setDataRows","isLoading","setisLoading","useEffect","cycle","classe","push","codeCl","p","m","Fab","Add","EnhancedTableHead","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","headCells","withActions","withStartCheckbox","indeterminate","inputProps","headCell","disablePadding","sortDirection","TableSortLabel","active","property","event","visuallyHidden","useToolbarStyles","paddingLeft","highlight","lighten","dark","flex","EnhancedTableToolbar","Tooltip","descendingComparator","a","b","chip","table","minWidth","tableRow","border","clip","EnhancedTable","tableTitle","indexName","handleRowSelected","withFiltering","actionButtons","customtheme","inheritTheme","useTheme","setOrder","setOrderBy","setSelected","page","setPage","dense","setDense","rowsPerPage","setRowsPerPage","selectedIndex","newSelected","concat","length","emptyRows","Math","min","aria-labelledby","newSelecteds","n","comparator","stabilizedThis","sort","stableSort","getComparator","isItemSelected","labelId","hover","rowClickHandler","aria-checked","tabIndex","column","columnName","withAvatar","avatarUrl","withChip","vals","Array","usesInnerTheme","innerTheme","Chip","withChildComponent","btn","ThemeProvider","md","startIcon","clickHandler","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","parseInt","Switch","CustomForm","submitBtnRef","useRef","submitRefTracker","initialValues","initialState","validationSchema","enableReinitialize","reset","onSubmit","errors","handleBlur","handleSubmit","touched","isSubmitting","values","encType","fieldsHiearchy","gridRow","rowidx","field","columnidx","floor","Boolean","helperText","onBlur","option","MenuItem","noSubmit","submitLabel","Yup","max","email","phone","trim","matches","commune","wilaya","AddEnseignant","matieresIds","defaultFormValues","setdefaultFormValues","formRef","formState","listeW","listC","formStructure","setState","toasterOpen","setToasterOpen","alertProps","setAlertProps","json","wilayas","codeW","listWilayas","nomW","hiearchy","select","baladiya","dataResp","listeAnnes","ItemsMatieres","matieres","listeMatieres","defaultForm","multiple","SelectProps","filteredCommunes","filteredCycles","from","Set","codeCycle","filteredClasses","dexription","matiereId","classesIds","DialogTitle","withStyles","closeButton","right","other","disableTypography","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","CustomModal","Dialog","dividers","actions","action","bool","any","InfoCard","elevation","Card","CardContent","jobTitle","additionalContent","customersHeadCells","numeric","ordersHeadCells","profsHeadCells","elevesHeadCells","pubsHeadCells","coursHeadCells","ErrorOutlineIcon","RemoveIcon","successtheme","indigo","Enseignants","profsRows","setProfsRows","filtredProfsRows","setFiltredProfsRows","showAddForm","setShowAddForm","popupOpen","setPopupOpen","enseignants","ens","cl","clickable","popupBody","setpopupBody","Modal","mt","InputProps","startAdornment","InputAdornment","SvgIcon","placeholder","handleSearchInputChange","profId","prof","Timeline","cours","TimelineItem","TimelineOppositeContent","Date","date_ajout","toLocaleDateString","toLocaleTimeString","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","activeInactiveTheme","grid","Abonnes","fixedHeightPaper","customersRows","setCutomersRows","filtredCustomersRows","setFiltredCutomersRows","ordersRows","setOrdersRows","clients","modified","eleves","eleve","alt","is_abonne","abonnements","owner","client","classesLabels","Eleves","dataColumns","filtredElevesRows","setFiltredElevesRows","columns","options","filterType","tinycolor","toHexString","darken","warning","info","hint","background","customShadows","widget","widgetDark","widgetWide","overrides","MuiBackdrop","MuiMenu","MuiSelect","icon","MuiListItem","MuiTouchRipple","child","MuiTableRow","MuiTableCell","card","newpassword","currentpassword","test","this","parent","constructPasswordField","endAdornment","handleClickShowPassword","showPassword","cardProps","isLoding","setisLoding","showCurrentPassword","setShowCurrentPassword","showNewPassword","setShowNewPassword","handleShowPassword","lg","imgFile","CardActions","hidden","accept","currentTarget","files","fileReader","FileReader","onload","fileToAdd","result","isUploading","changesObj","onerror","readAsDataURL","htmlFor","CardHeader","subheader","tinyTheme","changes","oldPassword","newPassword","CustomUploaderButton","inputValue","btnColor","btnLabel","btnSize","setParentInput","withProgress","clickhandler","handleProgress","input","setInput","mr","LinearProgress","round","alignSelf","textAlign","progress","onabort","alert","handleUploadClick","click","previewBox","thumbnail","maxHeight","sponsor","UpdatePub","oldPubProps","newPubState","setNewPubState","progressValue","setProgressValue","imageName","setImageName","currentFile","setCurrentFile","sendUpdate","_id","onUploadProgress","progressEvent","loaded","total","setTimeout","CardMedia","bgcolor","Pubs","pubsRows","setPubRows","setRows","isModalOpen","setIsModalOpen","modalActions","defaultState","pubToUpdate","setPubToUpdate","titreField","sponsorField","typeAdField","pubs","pubId","Edit","Cancel","onUpload","defaultHandler","Update","BarChart","chartData","valueField","yName","argumentField","xName","COLORS","RADIAN","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","toFixed","CustomTooltip","borderRadius","px","PieChartComponent","justifyItems","isAnimationActive","labelLine","dataKey","entry","ElevesStatCharts","PieChart","elevesBySexe","labelsTitle","valuesTitles","valuesName","labelsName","elevesByAge","xTitle","yTitle","ProfsGeoPartition","FunnelChartComponent","ClassesByProfDist","FunnelChart","redBg","blueBg","greenBg","Summary","profs","setstate","LocalLibrary","AttachMoney","Statistiques","setProfsSummary","setProfsSummaryisLoading","setElevesSummary","setElevesSummaryisLoading","profsSummaryisLoading","elevesSummaryisLoading","profsByWilaya","classesByprof","profsSummary","elevesSummary","summary","useColorlibStepIconStyles","completed","sucess","ColorlibConnector","alternativeLabel","line","StepConnector","ColorlibStepIcon","icons","String","instructions","CustomStepper","labelStepsIconsClasses","steps","activeStep","setActiveStep","handleNext","nexHandler","prevActiveStep","Stepper","connector","step","Step","StepLabel","StepIconComponent","finalStep","backBtnIcon","nextBtnIcon","trimestre","integer","oneOf","ordre","positive","lien","url","trimestreField","lienField","thumbnailField","linkRefHandle","preview","setpreview","withTitle","setFormStructure","actualClassCourses","courses","currentClasse","submitHandler","updateStepsStatus","frameborder","allow","allowfullscreen","visibility","titrePdf","document","AjouterDocument","pdfFile","DOC","labelRef","uploadRequired","setUploadRequired","invalidQuestion","typography","uploadLabel","questionText","answerText","QuizQuestion","question","valid","questIsImg","setQuestionIsImg","answerIsImg","setAnswerIsImg","handleLoadImg","updateState","onBlurHandler","numQuestion","FormGroup","multiline","makeEmptyArray","AjouterQuiz","onSubmitHandler","Slider","defaultValue","marks","valueLabelDisplay","questIndex","1","Movie","2","3","LiveHelp","AjouterCours","stepIconStyles","registerCourseFeedback","setregisterCourseFeedback","globalState","SetGlobalState","stepsPassed","setStepsPassed","addVideoRef","setaddVideoRef","addResumeRef","setaddResumeRef","addQuizRef","setaddQuizRef","val","endIcon","teacher","video","pdf","enseignant","onApprendNewCours","newCours","current","validateStep","buttonRed","buttonPurple","coursRows","setCoursRows","filtredCoursRows","setFiltredCoursRows","displayedCourses","setDisplayedCourses","setCurrentClasse","deleteCoursPopup","setDeleteCoursPopup","coursToDelete","deleteCoursActions","setDeleteCoursActions","parseCoursRow","DBrow","deleteCours","attachements","quiz","firstClasseRows","newcourses","ofCurrentYear","newRows","appendNewCours","PrivateRoute","Component","element","isLoggedIn","currentAdminType","path","ManagerDashboardLayout","TeacherDashboardLayout","LayoutStateContext","createContext","LayoutDispatchContext","layoutReducer","isSidebarOpened","Error","LayoutProvider","useReducer","Provider","layoutState","userState","combined","combineReducers","managerReducer","createStore","ManagerReducers","__REDUX_DEVTOOLS_EXTENSION__","store","TeacherReducer","compose","applyMiddleware","thunk","AdminReducer","App","AdminStore","AppAdmin","hostname","match","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.6f22782e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport {Slide} from '@material-ui/core';\r\n\r\nconst defaultTransition=(props)=> <Slide {...props}  direction=\"up\" />;\r\nfunction ToasterSnackBar({children,...props}) {\r\n    // const [open,setOpen]=useState(typeof props.open ===\"undefined\" ? true:props.open)\r\n  return (\r\n    <Snackbar\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n      TransitionComponent={defaultTransition}\r\n    //   message={props.message || ''}\r\n      key={props.Transition ? props.Transition.name : \"defaultTransition.key\"}\r\n      {...props}\r\n    >\r\n        {children}\r\n\r\n    </Snackbar>\r\n  );\r\n}\r\n\r\nToasterSnackBar.propTypes = {\r\n  // children: PropTypes.any.isRequired(),\r\n};\r\n\r\nexport default ToasterSnackBar;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {CircularProgress,Box,Container} from \"@material-ui/core\"\r\nimport {makeStyles} from \"@material-ui/core/styles\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container:{\r\n      height: \"100%\",\r\n      minHeight: 300\r\n    },\r\n    box:{\r\n      height: \"100%\",\r\n      width: \"100%\",\r\n    },\r\n   \r\n    wrapper: {\r\n        margin: theme.spacing(1),\r\n        position: 'relative',\r\n      },\r\n    \r\n    buttonProgress: {\r\n    //   color: grey[400],\r\n    //   position: 'absolute',\r\n    //   top: '50%',\r\n    //   left: '50%',\r\n      height: \"50%\",\r\n    //   marginTop: \"-25%\",\r\n    //   marginLeft: \"-25%\",\r\n    },\r\n  }));\r\nfunction LoadingComponent(props) {\r\n    const classes=useStyles();\r\n \r\n   \r\n  \r\n    return (\r\n        <Container className={classes.container}>\r\n        {/* <div> */}\r\n            {props.controller && \r\n            <Box display=\"flex\" className={classes.container} alignContent=\"center\" alignItems=\"center\" justifyContent=\"center\">\r\n                <CircularProgress  className={classes.buttonProgress}  {...props.progressStyles}/>\r\n            </Box>\r\n            \r\n            }\r\n            {!props.controller && props.component}\r\n\r\n            \r\n        {/* </div> */}\r\n        </Container>\r\n    )\r\n}\r\n\r\nLoadingComponent.propTypes = {\r\n    controller: PropTypes.bool.isRequired,\r\n    component: PropTypes.node.isRequired\r\n\r\n\r\n}\r\n\r\nexport default LoadingComponent\r\n\r\n","const USERS_API_URL=\"https://agile-stream-82857.herokuapp.com/api/user\";\r\nconst STATS_API_URL=\"https://agile-stream-82857.herokuapp.com/api/statistics\";\r\nconst teacherConfig={\r\n    API_URL: \"https://agile-stream-82857.herokuapp.com/api/admin/enseignants\",\r\n    USERS_API_URL,\r\n    STATS_API_URL\r\n}\r\nconst managerConfig={\r\n    API_URL: \"https://agile-stream-82857.herokuapp.com/api/admin\",\r\n    USERS_API_URL,\r\n    STATS_API_URL\r\n\r\n}\r\n\r\n\r\n\r\nexport {teacherConfig,managerConfig}","import {managerConfig} from './config'\r\n\r\n/**\r\n * Login service API call, for both Manager and Teacher\r\n * @param {*} username : Admin (Teacher or Manager) username\r\n * @param {*} password : Admin's password\r\n * @param {*} adminType : Admin type (Teacher or Manager)\r\n * Return: Promise with : admin row and token if success. reject otherwise\r\n */\r\nconst login =(username,password,adminType)=>{\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username, password,adminType })\r\n      }\r\n      return fetch(`${managerConfig.API_URL}/signin`, requestOptions)\r\n      .then(handleResponse)\r\n      .then(res => {\r\n        let adminObj={...res.admin,description: adminType==='manager'?\"Admin d'application\":`Enseignant(e) en ${res.admin.matiere.titre}`};\r\n        // login successful if there's a jwt token in the response\r\n        if (res.token) {\r\n          // store user details and jwt token in local storage to keep user logged \r\n          localStorage.setItem(adminType==='manager'?'manager':'enseignant', JSON.stringify(adminObj))\r\n          localStorage.setItem('token', JSON.stringify(res.token))\r\n        }\r\n  \r\n        return adminObj\r\n      },\r\n      err=>{\r\n        return  Promise.reject(err.message?err.message: err);\r\n      }\r\n   \r\n      )  \r\n\r\n\r\n}\r\n\r\n\r\n\r\n/**\r\n * get Database general counts\r\n * \r\n */\r\nconst getGeneralStatistics = () => {\r\n  \r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {'Content-Type':'application/json'}\r\n  };\r\n\r\n  return fetch(`${managerConfig.STATS_API_URL}/counts`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Add token Authorization entry to header request.\r\n */\r\n\r\nfunction authHeader () {\r\n    // return authorization header with jwt token\r\n    let token = JSON.parse(localStorage.getItem('token'))\r\n  \r\n    if (token) {\r\n      return { 'Authorization': 'Bearer ' + token }\r\n    } else {\r\n      return {'Authorization':''}\r\n    }\r\n  }\r\n\r\n/**\r\n * Check if the requester is the application manager.\r\n * @param {*} data \r\n */  \r\nconst checkRoleAutorizationFail = (data,role=\"manager\") => {\r\n  return !(data.adminType && data.adminType === role);\r\n};\r\n\r\nfunction handleResponse (response) {\r\n    return response.text().then(text => {\r\n      const data = text && JSON.parse(text)\r\n      if (!response.ok) {\r\n       \r\n  \r\n        const error = (data && data.message) || (response.status>=500?\"Impossible de contacter le serveur\":response.statusText)\r\n        return Promise.reject(error)\r\n      }\r\n  \r\n      return Promise.resolve(data)\r\n    })\r\n  }\r\n\r\n\r\nexport {handleResponse,login,authHeader,checkRoleAutorizationFail,getGeneralStatistics}  ","import {managerConfig} from './config'\r\nimport {handleResponse,checkRoleAutorizationFail,authHeader,login} from './shared'\r\n\r\n/**\r\n * Update teacher profile.\r\n * @param {*} data \r\n */\r\nconst updateProfile = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement l'administrateur qui peut mettre  jours son profile\",\r\n    });\r\n    const params = [\r\n      \"id\",\r\n      \"nom\",\r\n      \"prenom\",\r\n      \"email\",\r\n      \"phone\",\r\n      \"image\",\r\n      \"password\",\r\n      \"oldPassword\",\r\n      \"newPassword\"\r\n    ];\r\n    const {adminType}=data;\r\n    const fd = new FormData();\r\n    Object.keys(data).forEach(el=> {\r\n      if(params.includes(el)) fd.append(el,data[el])\r\n    })\r\n    fd.append('adminType',adminType)\r\n    \r\n    const requestOptions = {\r\n      method: \"PUT\",\r\n      headers:{...authHeader()},\r\n      body:fd\r\n    };\r\n    return fetch(`${managerConfig.API_URL}/${data.id}`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n};\r\n\r\n\r\n\r\n/**\r\n * Fetch all abonnements\r\n * @param {*} data An object containing infos about the requester\r\n */\r\nconst getAllAbonnements = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autoris! Uniquement le Manager qui rcuprer tous les abonnements\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),'Content-Type':'application/json', 'adminType':data.adminType}\r\n      // body: JSON.stringify(data),\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/abonnements`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n\r\n/**\r\n * Fetch all customers from the Database. Only Managers of the application can do such request\r\n * @param {*} data An object containing infos about the requester\r\n */\r\nconst getAllAbonnes = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autoris! Uniquement le Manager qui rcuprer tous les abonns\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),'Content-Type':'application/json', 'adminType':data.adminType}\r\n      // body: JSON.stringify(data),\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/clients`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n/**\r\n * Fetch all students from the Database. Only Managers of the application can do such request\r\n * @param {*} data \r\n */\r\nconst getAllEleves = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autoris! Uniquement le Manager qui rcuprer tous les lves\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),'Content-Type':'application/json', 'adminType':data.adminType}\r\n      // body: JSON.stringify(data),\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/eleves`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n\r\n\r\n/**\r\n * Fetch all classes\r\n * @param {*} data \r\n */\r\nconst getAllClasses = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autoris! Uniquement le Manager qui rcuprer tous les classes\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),'Content-Type':'application/json', 'adminType':data.adminType}\r\n      // body: JSON.stringify(data),\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/classes`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n/**\r\n * Fetch all classes with all matieres\r\n * @param {*} data \r\n */\r\nconst getAllMatieres = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autoris! Uniquement le Manager qui rcuprer tous les classes\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),adminType: data.adminType},\r\n      // body: JSON.stringify(data),\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/matieres/`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n/**\r\n * Fetch all classes with all matieres\r\n * @param {*} data \r\n */\r\nconst getAllClassesMatieres = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autoris! Uniquement le Manager qui rcuprer tous les classes\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),adminType: data.adminType}\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/classes/matieres`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n/**\r\n * Insert a new Pub.\r\n * @param {*} data \r\n */\r\nconst addPub = (data,optionalOpts) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement l'administrateur qui peut ajouter des Pubs\",\r\n    });\r\n  const requiredParams = [\r\n    \"sponsor\", \"titre\",\"type\",\"image\"\r\n  ];\r\n  if(!requiredParams.every(attr=> Object.keys(data).find(key=> key===attr)))\r\n  return Promise.reject({\r\n    message:\r\n      \"Paramtres manquants\",\r\n  });\r\n  const {adminType}=data;\r\n  const fd = new FormData();\r\n  Object.keys(data).forEach(el=> {\r\n    if(requiredParams.includes(el)) fd.append(el,data[el])\r\n  })\r\n  fd.append('adminType',adminType)\r\n  if (data.link) fd.append('link',data.link)\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: {...authHeader()},\r\n    body: fd,\r\n    ...optionalOpts\r\n  };\r\n  return fetch(`${managerConfig.USERS_API_URL}/pubs/new`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n/**\r\n * Update a pub.\r\n * @param {*} data \r\n */\r\nconst updatePub = (data,optionalOpts) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement l'administrateur qui peut ajouter des Pubs\",\r\n    });\r\n  \r\n  if(!data.id)\r\n  return Promise.reject({\r\n    message:\r\n      \"Paramtres manquants\",\r\n  });\r\n  const params = [\r\n    \"sponsor\", \"titre\",\"type\",\"image\"\r\n  ];\r\n  const {adminType}=data;\r\n  const fd = new FormData();\r\n  Object.keys(data).forEach(el=> {\r\n    if(params.includes(el)) fd.append(el,data[el])\r\n  })\r\n  fd.append('adminType',adminType)\r\n  if (data.link) fd.append('link',data.link)\r\n  const requestOptions = {\r\n    method: \"PUT\",\r\n    headers: {...authHeader()},\r\n    body: fd,\r\n    ...optionalOpts\r\n  };\r\n  return fetch(`${managerConfig.USERS_API_URL}/pubs/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n/**\r\n * Delete a pub.\r\n * @param {*} data \r\n */\r\nconst deletePub = (data,optionalOpts) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement l'administrateur qui peut ajouter des Pubs\",\r\n    });\r\n  if(!data.id)\r\n    return Promise.reject({\r\n      message:\r\n        \"Paramtres manquants\",\r\n    });\r\n  \r\n  const requestOptions = {\r\n    method: \"DELETE\",\r\n    headers: {...authHeader(),'Content-Type':'application/json'},\r\n    body: JSON.stringify(data),\r\n   \r\n  };\r\n  return fetch(`${managerConfig.USERS_API_URL}/pubs/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n/**\r\n * Fetch all pubs\r\n * @param {*} data \r\n */\r\nconst getAllPubs = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement le Manager qui rcuprer toutes les pubs\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType,'Content-Type':'application/json'}\r\n  };\r\n\r\n  return fetch(`${managerConfig.USERS_API_URL}/pubs`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n\r\n/**\r\n * Fetch Profs summary\r\n * @param {*} data \r\n */\r\nconst getProfsStatistics = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement le Manager qui rcuprer ces informations\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType}\r\n  };\r\n\r\n  return fetch(`${managerConfig.STATS_API_URL}/enseignants/summary`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n/**\r\n * Fetch Eleves summary\r\n * @param {*} data \r\n */\r\nconst getElevesStatistics = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement le Manager qui rcuprer ces informations\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType}\r\n  };\r\n\r\n  return fetch(`${managerConfig.STATS_API_URL}/eleves/summary`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\nconst managerService={\r\n    login,\r\n    updateProfile,\r\n    getAllAbonnements,\r\n    getAllAbonnes,\r\n    getAllEleves,\r\n    getAllClasses,\r\n    getAllMatieres,\r\n    getAllClassesMatieres,\r\n    getAllPubs,\r\n    addPub,\r\n    updatePub,\r\n    deletePub,\r\n    getProfsStatistics,\r\n    getElevesStatistics\r\n\r\n\r\n}\r\n\r\nexport default managerService","import ManagerService from \"../../services/managerServices\";\r\n\r\nconst login = (formData) => {\r\n  const { username, password, adminType } = formData;\r\n  return ManagerService.login(username, password, adminType).then(\r\n    (admin) => {\r\n\r\n      return { type:adminType===\"manager\"? \"SET_CURRENT_MANAGER\":\"SET_CURRENT_TEACHER\", payload: admin };\r\n    },\r\n    (err) => {\r\n        console.error(\"Une errur s'est produite lors de la connexion : \",err);\r\n        return {type: \"MANAGER_LOGIN_FAILED\", payload: err};\r\n    }\r\n  );\r\n};\r\nconst logout = () => {\r\n  localStorage.removeItem('manager');\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('enseignant');\r\n  return { type: \"LOGOUT\"};\r\n\r\n  \r\n};\r\nconst updateProfile = (payload,adminType=\"manager\") => {\r\n  return function(dispatch,getState){\r\n    return ManagerService.updateProfile(payload)\r\n    .then(\r\n      res=>{\r\n      localStorage.setItem('manager', JSON.stringify(res));\r\n       \r\n       dispatch({ type: \"UPDATE_PROFILE\", payload: res });\r\n       return Promise.resolve({ok:true})\r\n      },\r\n      err=>{\r\n       dispatch({ type: \"UPDATE_PROFILE_FAILED\", payload: err });\r\n        return Promise.reject({message: err})\r\n      }\r\n    )\r\n    }\r\n};\r\n\r\n/******************************************** LAYOUT ACTIONS *****************************************/\r\nconst updateSelectedLink = (payload) => {\r\n  return { type: \"UPDATE_SELECTED_NAVLINK\", payload };\r\n};\r\n\r\nconst exports = {\r\n  login,  \r\n  logout,\r\n  updateProfile,\r\n  updateSelectedLink,\r\n};\r\n\r\nexport default exports;\r\n","import { teacherConfig,managerConfig } from \"./config\";\r\nimport { handleResponse,checkRoleAutorizationFail, authHeader, login } from \"./shared\";\r\n\r\n\r\n\r\n/**\r\n * Register a new teacher to the Admin application. Only Managers of the application can do such request due to privacy politic.\r\n * @param {*} data \r\n */\r\nconst register = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement le Manager qui peut ajouter un enseignant\",\r\n    });\r\n  const params = [\r\n    \"username\",\r\n    \"nom\",\r\n    \"prenom\",\r\n    \"email\",\r\n    \"phone\",\r\n    \"matiereId\",\r\n    \"classesIds\",\r\n    \"wilaya\",\r\n    \"commune\",\r\n    \r\n  ];\r\n    // Filter any params out of params Set\r\n  const keys=Object.keys(data).filter(el=>params.includes(el));\r\n    // Ensure that there is only params attributs, not less, not more\r\n  if (!params.every((key) => keys.includes(key)))\r\n    return Promise.reject({\r\n      message: \"Les paramtres de formulaire sont invalides\",\r\n    });\r\n\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\",...authHeader() },\r\n    body: JSON.stringify(data),\r\n  };\r\n\r\n  return fetch(`${teacherConfig.API_URL}/new`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n\r\n/**\r\n * Delete prof.\r\n * @param {*} data \r\n */\r\nconst deleteProf = (data,optionalOpts) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement l'enseignant qui peut supprimer un cours\",\r\n    });\r\n  if(!data.id)\r\n    return Promise.reject({\r\n      message:\r\n        \"Paramtres manquants\",\r\n    });\r\n  \r\n  const requestOptions = {\r\n    method: \"DELETE\",\r\n    headers: {...authHeader(),'Content-Type':'application/json'},\r\n    body: JSON.stringify(data),\r\n   \r\n  };\r\n  return fetch(`${managerConfig.API_URL}/cours/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n\r\n/**\r\n * Update teacher profile.\r\n * @param {*} data \r\n */\r\nconst updateProfile = (data) => {\r\n  if (checkRoleAutorizationFail(data,\"enseignant\"))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement l'enseignant qui peut mettre  jours son profile\",\r\n    });\r\n  const params = [\r\n    \"id\",\r\n    \"nom\",\r\n    \"prenom\",\r\n    \"email\",\r\n    \"phone\",\r\n    \"image\",\r\n    \"password\",\r\n    \"oldPassword\",\r\n    \"newPassword\"\r\n  ];\r\n  const {adminType}=data;\r\n  const fd = new FormData();\r\n  Object.keys(data).forEach(el=> {\r\n    if(params.includes(el)) fd.append(el,data[el])\r\n  })\r\n  fd.append('adminType',adminType)\r\n  \r\n  const requestOptions = {\r\n    method: \"PUT\",\r\n    headers:{...authHeader()},\r\n    body:fd\r\n  };\r\n  return fetch(`${managerConfig.API_URL}/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n\r\n/**\r\n * Fetch all teachers of the application. Only Managers of the application can do such request due to privacy politic.\r\n * @param {*} data \r\n */\r\nconst getAll = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement le Manager qui rcuprer tous les enseignants\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType},\r\n  };\r\n\r\n  return fetch(`${teacherConfig.API_URL}/`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n\r\n/**\r\n * Fetch a teacher by its ID.\r\n * @param {*} id ID of the requested teacher\r\n * @returns\r\n */\r\nfunction getById(data) {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement le Manager qui rcuprer tous les enseignants\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType},\r\n  };\r\n\r\n  return fetch(`${teacherConfig.API_URL}/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n}\r\n\r\n/**\r\n * Fetch all teacher courses.\r\n * @param {*} data \r\n */\r\nfunction getProfCourses(data){\r\n  if (!(data.adminType && data.adminType===\"enseignant\"))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement l'enseignant qui rcuprer tous ses cours\",\r\n    });\r\n  if (!data.id)\r\n    return Promise.reject({\r\n      message:\r\n        \"Paramtres invalides\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType},\r\n  };\r\n\r\n  return fetch(`${teacherConfig.USERS_API_URL}/cours/enseignants/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n\r\n}\r\n\r\n/**\r\n * Add a new course.\r\n * @param {*} data \r\n */\r\nfunction addNewCourse(data){\r\n  if (checkRoleAutorizationFail(data,\"enseignant\"))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement l'enseignant qui peut ajouter un cours\",\r\n      });\r\n  const params = [\r\n    \"titre\",\r\n    \"ordre\",\r\n    \"trimestre\",\r\n    \"video\",\r\n    \"enseignant\",\r\n    \"matiere\",\r\n    \"classe\",\r\n    \"thumbnail\",\r\n    \"titrePdf\",\r\n    \"pdf\",\r\n    \"questionsList\",\r\n  ];\r\n  const keys=Object.keys(data);\r\n  if (!params.every((key) => keys.includes(key)))\r\n    return Promise.reject({\r\n      message: \"Les paramtres de formulaire sont invalides\",\r\n    });\r\n\r\n    const fd=new FormData()\r\n  params.forEach(key=> fd.append(key,data[key]) )\r\n  fd.set('questionsList',JSON.stringify(data.questionsList.map(qst=>({\r\n    questionImgName: qst.questionImg!==null ?qst.questionImg.file.name:null,\r\n    answerImgName: qst.answerImg!==null?qst.answerImg.file.name:null,\r\n  }))))\r\n  data.questionsList.forEach(qst=>{\r\n    if(qst.questionImg && qst.questionImg!==null)\r\n    fd.append('cartesQuestions',qst.questionImg.file)\r\n    if(qst.answerImg && qst.answerImg!==null)\r\n    fd.append('cartesAnswers',qst.answerImg.file)\r\n  })\r\n  fd.append(\"adminType\",data[\"adminType\"])\r\n  // fd.append('cartes',data.questionsList.map(qst=>qst.questionImg).filter(el=> el && el!==null))\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: { ...authHeader() },\r\n    body: fd\r\n  };\r\n  \r\n  return fetch(`${teacherConfig.USERS_API_URL}/cours/new`, requestOptions).then(\r\n    handleResponse\r\n    );\r\n    \r\n  }\r\n\r\n\r\n/**\r\n * Delete a course.\r\n * @param {*} data \r\n */\r\nconst deleteCourse = (data,optionalOpts) => {\r\n  if (checkRoleAutorizationFail(data,\"enseignant\"))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement l'enseignant qui peut supprimer un cours\",\r\n    });\r\n  if(!data.id)\r\n    return Promise.reject({\r\n      message:\r\n        \"Paramtres manquants\",\r\n    });\r\n  \r\n  const requestOptions = {\r\n    method: \"DELETE\",\r\n    headers: {...authHeader(),'Content-Type':'application/json'},\r\n    body: JSON.stringify(data),\r\n   \r\n  };\r\n  return fetch(`${teacherConfig.USERS_API_URL}/cours/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n/**\r\n * Fetch all students teached by a teacher.\r\n * @param {*} data \r\n */\r\nfunction getProfEleves(data){\r\n  if (checkRoleAutorizationFail(data,\"enseignant\"))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autoris! Uniquement l'enseignant qui rcuprer les lves spcifis\",\r\n    });\r\n  if (!data.id)\r\n    return Promise.reject({\r\n      message:\r\n        \"Paramtres invalides\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType},\r\n  };\r\n\r\n  return fetch(`${teacherConfig.USERS_API_URL}/eleves/enseignants/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n\r\n}\r\n\r\nconst teacherService = {\r\n  login,\r\n  register,\r\n  updateProfile,\r\n  getAll,\r\n  getById,\r\n  getProfCourses,\r\n  addNewCourse,\r\n  deleteCourse,\r\n  getProfEleves\r\n};\r\n\r\nexport default teacherService;\r\n","import TeacherService from \"../../services/teacherServices\";\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('enseignant');\r\n  return { type: \"LOGOUT\"};\r\n\r\n  \r\n};\r\n\r\nconst updateProfile = (payload) => {\r\n  return function(dispatch,getState){\r\n  return TeacherService.updateProfile(payload)\r\n  .then(\r\n    res=>{\r\n      const oldUser=JSON.parse(localStorage.getItem('enseignant'))\r\n      const updateUser={...oldUser,...res};\r\n    localStorage.setItem('enseignant', JSON.stringify(updateUser));\r\n     \r\n     dispatch({ type: \"UPDATE_PROFILE\", payload: updateUser });\r\n     return Promise.resolve({ok:true})\r\n    },\r\n    err=>{\r\n     dispatch({ type: \"UPDATE_PROFILE_FAILED\", payload: err });\r\n      return Promise.reject({message: err})\r\n    }\r\n  )\r\n  }\r\n\r\n  // const old=JSON.parse(localStorage.getItem(adminType));\r\n  // localStorage.setItem(adminType,JSON.stringify({...old,...payload}));\r\n\r\n};\r\nconst exports = {\r\n    logout,\r\n    updateProfile\r\n  };\r\n  \r\n  export default exports;","import React, { useState,createRef } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Typography,\r\n  Container,\r\n  CssBaseline,\r\n  TextField,\r\n  FormControlLabel,\r\n  Checkbox,\r\n} from \"@material-ui/core\";\r\nimport {grey} from \"@material-ui/core/colors\"\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Link as RouteLink,useNavigate } from \"react-router-dom\";\r\n\r\n// Components\r\nimport ToasterSnackBar from \"../../shared/notifiers/toaster/ToasterSnackBar\";\r\nimport LoadingComponent from \"../../shared/LoadingComponent\";\r\n \r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { ManagerActions as Actions } from \"../../../redux/actions/\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  buttonProgress: {\r\n    color: grey[400],\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nexport function SignIn(props) {\r\n  const navigator=useNavigate();\r\n\r\n\r\n  const classes = useStyles();\r\n\r\n  const [loginStatus, setLoginStatus] = useState(props.loginStatus);\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isManager, setIsManager] = useState(false);\r\n\r\n  const ButtonRef=createRef();\r\n\r\n  const [alertOpen, setAlertOpen] = useState(false);\r\n  const [loading, setloading] = useState(false);\r\n  const toasterContent = (\r\n    <Alert variant=\"filled\" severity=\"error\">\r\n      Erreur d'authentification.   \r\n      {props.loginStatus && props.loginStatus.message ? props.loginStatus.message: \"\"}\r\n    </Alert>\r\n  );\r\n  const closeToaster = () => setAlertOpen(false);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.name === \"username\") setUsername(e.target.value);\r\n    if (e.target.name === \"password\") setPassword(e.target.value);\r\n    if (e.target.name === \"adminCheckbox\") setIsManager(e.target.checked);\r\n  };\r\n\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    setloading(true);\r\n    props.login({ username, password, adminType: isManager?\"manager\":\"enseignant\" }).then(\r\n      \r\n      res=> { \r\n        if(res.type==='MANAGER_LOGIN_FAILED') {\r\n        setAlertOpen(true);\r\n        setloading(false);\r\n      }\r\n      else {\r\n        console.log('success'); \r\n        e.returnValue = true;\r\n        isManager && navigator('/');\r\n        // isManager && navigator(-1);\r\n        !isManager && navigator('/teacher');\r\n\r\n      }\r\n    },\r\n      err=> {\r\n       \r\n      }\r\n    );\r\n\r\n  };\r\n  \r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <ToasterSnackBar\r\n        open={alertOpen}\r\n        onClose={closeToaster}\r\n        autoHideDuration={6000}\r\n        children={toasterContent}\r\n      />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Authentification\r\n        </Typography>\r\n        <form className={classes.form} >\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"username\"\r\n            label=\"Nom d'utilisateur\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={handleChange}\r\n            autoComplete=\"username\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Mot de passe\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={handleChange}\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox name=\"adminCheckbox\" value=\"remember\" checked={isManager} color=\"primary\" disabled={loading} onChange={handleChange}/>}\r\n            label=\"Je suis un administrateur de l'application\"\r\n          />\r\n          <LoadingComponent \r\n          component={<Button\r\n            // type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            component={RouteLink}\r\n            to={\"/\"}\r\n            onClick={handleLogin}\r\n            disabled={loading}\r\n            ref={ButtonRef}\r\n          >\r\n            Se connecter\r\n          {/* {loading && <CircularProgress size={24} className={classes.buttonProgress} />} */}\r\n          </Button>} \r\n          controller={loading}\r\n          progressStyles={{color:\"primary\"}}\r\n          />\r\n          \r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {return ({\r\n  // loginStatus: state.managerReducer.loginStatus,\r\n  loginStatus: state.adminReducer.status.loginStatus,\r\n})};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    login: (params) => Actions.login(params).then((res) => dispatch(res)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\r\n","import React from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignUp(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            href=\"/dashboard\"\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Link\r\n              component=\"button\"\r\n              onClick={props.switchAuthMode}\r\n              variant=\"body2\"\r\n            >\r\n              {\"Already have an account? Sign In\"}\r\n            </Link>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n\r\nimport Login from \"./Login\";\r\nimport Signup from \"./Signup\";\r\nconst Auth = (props) => {\r\n  const [authMode, setAuthMode] = useState(true);\r\n  \r\n  \r\n  \r\n\r\n  const switchAuthMode = () => {\r\n    setAuthMode((prevMode) => !prevMode);\r\n  };\r\n  return (\r\n    <div>\r\n      {authMode ? (\r\n        <Login switchAuthMode={switchAuthMode} {...props} />\r\n      ) : (\r\n        <Signup switchAuthMode={switchAuthMode} {...props}/>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Actions from '../../../redux/actions/managerActions'\r\nexport const Logout = (props) => {\r\n    props.logout();\r\n    window.location.assign('/login');\r\n    \r\n\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    \r\n})\r\n\r\nconst mapDispatchToProps =(dispatch) =>({\r\n    logout: ()=> dispatch(Actions.logout())\r\n    \r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Logout)\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { ManagerActions as Actions } from \"../../../redux/actions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  listItem: {\r\n    \"&$selected\": {\r\n      backgroundColor: `${theme.palette.primary.light}`,\r\n      color: \"white\",\r\n    },\r\n  },\r\n  selected: {\r\n    backgroundColor: `${theme.palette.primary.light}`,\r\n    color: \"white\",\r\n  },\r\n}));\r\nfunction SidebarItem(props) {\r\n  const classes = useStyles();\r\n  const { link, ItemIcon, label, type } = props.item;\r\n  // const mylabel=props.label\r\n  const isLinkActive =\r\n    link &&\r\n    (window.location.pathname === link ||\r\n      window.location.pathname.indexOf(link) !== -1);\r\n  // const [isLinkActive,setLinkActive] =useState(false);\r\n  const [mylink, setMylink] = useState(link);\r\n\r\n  if (isLinkActive) props.updateSelectedLink({ selectedLink: mylink });\r\n\r\n  const handleClick = () => {\r\n    // props.handleClick();\r\n    // setLinkActive(true);\r\n    props.updateSelectedLink({ selectedLink: mylink });\r\n  };\r\n  if (type === \"divider\") return <Divider />;\r\n  return (\r\n    <ListItem\r\n      button\r\n      to={link}\r\n      selected={props.selectedLink === mylink}\r\n      className={classes.listItem}\r\n      component={Link}\r\n      onClick={() => handleClick()}\r\n    >\r\n      <ListItemIcon>\r\n        <ItemIcon />\r\n      </ListItemIcon>\r\n\r\n      <ListItemText primary={label} />\r\n    </ListItem>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // selectedLink: state.managerLayoutReducer.selectedLink,\r\n  selectedLink: state.managerLayoutReducer.selectedLink,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateSelectedLink: (params) =>\r\n      dispatch(Actions.updateSelectedLink(params)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SidebarItem);\r\n","import React, {useState} from \"react\";\r\nimport List from \"@material-ui/core/List\";\r\n\r\n\r\n//components\r\nimport SidebarItem from './SidebarItem'\r\n// import {useLayoutState,useLayoutDispatch,changeLink } from \"../../../statecontexts/LayoutContext\";\r\n\r\n\r\nfunction SidebarItemList(props) {\r\n    const [mylabel,setLabel]=useState('hello');\r\n    const {navItems}=props;\r\n    \r\n    return (\r\n        <List>\r\n            {navItems.map((item,key)=>\r\n                <SidebarItem key={key} item={item} handleClick={()=>setLabel(item.link) }  label={mylabel} />\r\n\r\n            )}\r\n            \r\n        </List>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default SidebarItemList\r\n\r\n","const getInitials = (fullname) =>\r\n    fullname\r\n      .replace(/\\s+/, \" \")\r\n      .split(\" \")\r\n      .slice(0, 2)\r\n      .map((v) => v && v[0].toUpperCase())\r\n      .join(\"\");\r\n\r\n\r\nexport {getInitials}      ","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Avatar,Box,Typography} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\n// utils\r\nimport {getInitials} from \"../../utils/functions\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box:{\r\n    marginBottom: theme.spacing(2)\r\n\r\n  },\r\n  avatar: {\r\n    cursor: 'pointer',\r\n    width: 64,\r\n    height: 64,\r\n    color: theme.palette.secondary.contrastText,\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  title:{\r\n    textTransform: \"capitalize\"\r\n  }\r\n}));\r\n\r\n\r\nfunction ProfileAvatar(props) {\r\n    const {avatar,firstname,lastname,descriptionTitle}=props\r\n    const classes=useStyles();\r\n    return (\r\n        <Box\r\n          alignItems=\"center\"\r\n          justifyContent=\"center\"\r\n          display=\"flex\"\r\n          flexDirection=\"column\"\r\n        >\r\n          <Avatar\r\n            className={`${props.classes? props.classes.avatar : classes.avatar}`}\r\n            src={avatar}\r\n            color={\"secondary\"}\r\n          > {getInitials(`${firstname} ${lastname}`)}\r\n            </Avatar>\r\n          <Typography\r\n            color=\"textPrimary\"\r\n            gutterBottom\r\n            variant=\"h6\"\r\n            className={classes.title}\r\n          >\r\n            {`${firstname} ${lastname}`}\r\n          </Typography>\r\n          <Typography\r\n            color=\"textSecondary\"\r\n            variant=\"body1\"\r\n          >\r\n            {descriptionTitle}\r\n          </Typography>\r\n          <Typography\r\n            className={classes.dateText}\r\n            color=\"textSecondary\"\r\n            variant=\"body1\"\r\n          >\r\n          </Typography>\r\n        </Box>\r\n    )\r\n}\r\n\r\nProfileAvatar.propTypes = {\r\n    avatar: PropTypes.string,\r\n    firstname: PropTypes.string,\r\n    lastname: PropTypes.string,\r\n    descriptionTitle: PropTypes.string\r\n\r\n}\r\n\r\nexport default ProfileAvatar\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n\r\n// components\r\nimport ProfileAvatar from \"../ProfileAvatar\";\r\n\r\nfunction SidebarProfile(props) {\r\n  const { user } = props;\r\n  return (\r\n    <ProfileAvatar\r\n      avatar={user.image}\r\n      firstname={user.nom}\r\n      lastname={user.prenom}\r\n      descriptionTitle={user.description}\r\n    />\r\n  );\r\n}\r\n\r\nSidebarProfile.propTypes = {\r\n    user: PropTypes.shape({\r\n        avatar: PropTypes.string,\r\n        firstname: PropTypes.string,\r\n        lastname: PropTypes.string,\r\n\r\n        })\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // user: state.managerReducer.user,\r\n  user: state.adminReducer.user,\r\n});\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(SidebarProfile);\r\n\r\n","\r\nimport React from 'react'\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport clsx from \"clsx\";\r\n\r\n\r\n//components\r\nimport SidebarItemsList from './SidebarItemList'\r\nimport SidebarProfile from './SidebarProfile'\r\nimport { Divider } from '@material-ui/core';\r\n\r\nexport default function index(props) {\r\n    const {classes,open,handleDrawerClose}=props;\r\n   \r\n    return (\r\n        <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        {open && <SidebarProfile  />}\r\n        <div className={classes.toolbarIcon}>\r\n         \r\n        </div>\r\n        <Divider/>\r\n        <SidebarItemsList navItems={props.navItems}  />\r\n       \r\n      </Drawer>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport {Outlet } from \"react-router-dom\";\r\n\r\n\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport BarChartIcon from \"@material-ui/icons/BarChart\";\r\nimport CastForEducationIcon from '@material-ui/icons/CastForEducation';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport GradientIcon from '@material-ui/icons/Gradient';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\n\r\n\r\n// components\r\nimport Sidebar from '../../../shared/sidebar'\r\n\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst navItems=[\r\n  {\r\n      link:'/enseignants',\r\n      ItemIcon:CastForEducationIcon,\r\n      label:'Enseignants'\r\n  },\r\n  {\r\n      link:'/abonnes',\r\n      ItemIcon:LoyaltyIcon,\r\n      label:'Abonns'\r\n  },\r\n  {\r\n      link:'/eleves',\r\n      ItemIcon:PeopleIcon,\r\n      label:'Eleves'\r\n  },\r\n  {\r\n      link:'/pubs',\r\n      ItemIcon:GradientIcon,\r\n      label:'Pubs'\r\n  },\r\n  {\r\n      link:'/statistiques',\r\n      ItemIcon:BarChartIcon,\r\n      label:'Statistiques'\r\n  },\r\n  {\r\n      type:'divider'\r\n   \r\n  },\r\n  {\r\n      link:'/profile',\r\n      ItemIcon:PersonIcon,\r\n      label:'Profile'\r\n  },\r\n  {\r\n      link:'/logout',\r\n      ItemIcon:ExitToAppIcon,\r\n      label:'Deconnexion'\r\n  },\r\n\r\n]\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function Dashboard(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"absolute\"\r\n        className={clsx(classes.appBar, open && classes.appBarShift)}\r\n      >\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(\r\n              classes.menuButton,\r\n              open && classes.menuButtonHidden\r\n            )}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography\r\n            component=\"h1\"\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n            Dashboard\r\n          </Typography>\r\n          {/* <IconButton color=\"inherit\">\r\n            <Badge badgeContent={4} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton> */}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Sidebar navItems={navItems} open={open} classes={classes} handleDrawerClose={handleDrawerClose} decendentprops={{classes:classes}}/>\r\n      \r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n\r\n       <Outlet/>     \r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles,createMuiTheme,MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport {purple,red} from \"@material-ui/core/colors\"\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport {Outlet } from \"react-router-dom\";\r\n\r\n\r\nimport SchoolIcon from \"@material-ui/icons/School\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport BarChartIcon from \"@material-ui/icons/BarChart\";\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\n\r\n// components\r\nimport Sidebar from '../../../shared/sidebar/'\r\n\r\n\r\nconst drawerWidth = 300;\r\n\r\n\r\nconst navItems=[\r\n  {\r\n      link:'/teacher/contenu',\r\n      ItemIcon:SchoolIcon,\r\n      label:'Contenu'\r\n  },\r\n  {\r\n      link:'/teacher/eleves',\r\n      ItemIcon:PeopleIcon,\r\n      label:'Eleves'\r\n  },\r\n  {\r\n      link:'/teacher/statistiques',\r\n      ItemIcon:BarChartIcon,\r\n      label:'Statistiques'\r\n  },\r\n  {\r\n      type:'divider'\r\n   \r\n  },\r\n  {\r\n      link:'/teacher/profile',\r\n      ItemIcon:PersonIcon,\r\n      label:'Profile'\r\n  },\r\n  {\r\n      link:'/logout',\r\n      ItemIcon:ExitToAppIcon,\r\n      label:'Deconnexion'\r\n  },\r\n\r\n]\r\n\r\nconst TeacherLayoutTheme=createMuiTheme({palette: {\r\n  primary: purple,\r\n  secondary: red,\r\n}},)\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    boxShadow: theme.shadows[14],\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    boxShadow: theme.shadows[1],\r\n\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function Dashboard(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n\r\n  return (\r\n    <MuiThemeProvider theme={TeacherLayoutTheme}>\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"absolute\"\r\n        className={clsx(classes.appBar, open && classes.appBarShift)}\r\n      >\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(\r\n              classes.menuButton,\r\n              open && classes.menuButtonHidden\r\n            )}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography\r\n            component=\"h1\"\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n            Dashboard\r\n          </Typography>\r\n          {/* <IconButton color=\"inherit\">\r\n            <Badge badgeContent={4} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton> */}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Sidebar navItems={navItems} open={open} classes={classes} handleDrawerClose={handleDrawerClose} decendentprops={{classes:classes}}/>\r\n      \r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        \r\n         \r\n        \r\n       <Outlet/>\r\n\r\n        \r\n      </main>\r\n    </div>\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport {\r\n  indigo,\r\n  deepPurple,\r\n  purple,\r\n  red,\r\n  green,\r\n  deepOrange,\r\n} from \"@material-ui/core/colors\";\r\nconst defaultTheme = createMuiTheme();\r\n\r\nconst bootstraptheme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#ff9800\",\r\n    },\r\n    secondary: {\r\n      main: \"#f44336\",\r\n    },\r\n  },\r\n});\r\nconst cyclesTheme = createMuiTheme({\r\n  palette: {\r\n    primary: deepOrange,\r\n    secondary: deepPurple,\r\n    default: green,\r\n  },\r\n});\r\n\r\nexport { defaultTheme, bootstraptheme, cyclesTheme };\r\n","import React, { forwardRef } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Page = forwardRef(({\r\n  children,\r\n  title = '',\r\n  ...rest\r\n}, ref) => {\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      {...rest}\r\n    >\r\n      <Helmet>\r\n        <title>{title}</title>\r\n      </Helmet>\r\n      {children}\r\n    </div>\r\n  );\r\n});\r\n\r\nPage.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  title: PropTypes.string\r\n};\r\n\r\nexport default Page;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\n\r\nconst useRowStyles = makeStyles({\r\n  root: {\r\n    '& > *': {\r\n      borderBottom: 'unset',\r\n    },\r\n  },\r\n  head: {\r\n    fontWeight: \"bold\",\r\n    fontSize: \"1.0rem\"\r\n\r\n  },\r\n  rowHead:{\r\n      fontWeight: \"bold\",\r\n      fontSize: \"0.9rem\"\r\n  }\r\n});\r\n\r\n\r\n\r\nfunction Row(props) {\r\n  const { row,headLabels,subHeadersTitle,subHeaderLabels } = props;\r\n  const [open, setOpen] = React.useState(false);\r\n  const classes = useRowStyles();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <TableRow className={classes.root}>\r\n        <TableCell width={10}>\r\n          <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n        </TableCell>\r\n        {/* <TableCell component=\"th\" scope=\"row\">\r\n          {row.name}\r\n        </TableCell> */}\r\n        \r\n        {headLabels.map((label)=>(\r\n        <TableCell className={classes.rowHead} key={`${label.key}-value`} align=\"left\">{row[label.key]}</TableCell>\r\n        ))}\r\n      </TableRow>\r\n      <TableRow>\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <Box margin={1}>\r\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                {subHeadersTitle}\r\n              </Typography>\r\n              <Table size=\"small\" >\r\n                <TableHead>\r\n                  <TableRow>\r\n                    \r\n                    {subHeaderLabels.map((label,idx)=>(<TableCell key={`${idx}-${label.label}`}align=\"left\">{label.label}</TableCell>))}\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {row.children.map((subRow,rowIdx) => (\r\n                    <TableRow key={rowIdx}>\r\n                     \r\n                      {subHeaderLabels.map((label,index)=>(<TableCell key={`${index}-${subRow[label.key]}`}>{subRow[label.key]}</TableCell>))}\r\n                      \r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </Box>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\nRow.prototype={\r\n    row:PropTypes.object.isRequired,\r\n    headLabels:PropTypes.array.isRequired,\r\n    subHeadersTitle:PropTypes.array.isRequired,\r\n    subHeaderLabels: PropTypes.array.isRequired\r\n}\r\n\r\nexport default function CollapsibleTable(\r\n   { headLabels,\r\n    subHeaderLabels,\r\n    subHeadersTitle,\r\n    rows,\r\n    ...props}\r\n) {\r\n    const classes = useRowStyles();\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table aria-label=\"collapsible table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell width={10}/>\r\n            \r\n            {headLabels.map((label)=>(\r\n            <TableCell className={classes.head} align=\"left\" key={label.key}>{label.label}</TableCell>\r\n            ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row,idx) => (\r\n            <Row key={idx} row={row} subHeaderLabels={subHeaderLabels} subHeadersTitle={subHeadersTitle} headLabels={headLabels}   />\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n\r\nCollapsibleTable.prototype={\r\n    rows:PropTypes.array.isRequired,\r\n    headLabels:PropTypes.array.isRequired,\r\n    subHeadersTitle:PropTypes.array.isRequired,\r\n    subHeaderLabels: PropTypes.array.isRequired\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Box,\r\n  Fab\r\n} from \"@material-ui/core\";\r\n\r\n//themes\r\nimport { defaultTheme } from \"../../../../../themes/palettes\";\r\n\r\n// components\r\nimport Page from \"../../../../shared/Page\";\r\nimport LoadingComponent from \"../../../../shared/LoadingComponent\";\r\nimport CollapssibleTable from \"../../../../shared/tables/CustomCollapsibleTable\";\r\nimport { Add as AddIcon } from \"@material-ui/icons\";\r\n\r\nimport ManagerService from '../../../../../services/managerServices'\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n  fab: {\r\n      color: \"white\",\r\n      backgroundColor: theme.palette.success.light\r\n  }\r\n}));\r\nexport default function Dashboard(props) {\r\n  const classes = useStyles();\r\n\r\n//   const dataRows = [{cycle: \"Primaire\",children: []},{cycle: \"CEM\",children: []},{cycle: \"Lyc\",children: []}];\r\n  const dataColumns = [{key:\"cycle\", label: \"Cycles\"}];\r\n  const subHeaders=[{key:\"codeCl\", label: \"Classe\"},{key:\"description\", label: \"Intitul\"}];\r\n//   const dataColumns = headCells.map((el) => el.label);\r\n\r\n  // States\r\n  const [DataRows, setDataRows] = useState([]);\r\n  const [isLoading, setisLoading] = useState(false);\r\n\r\n    // On Component Di mount, fetch required infos ( wilayas/communes, cycles,years,matieres)\r\n    useEffect(() => {\r\n        setisLoading(true);\r\n        ManagerService.getAllClasses({adminType: 'manager'})\r\n          .then((res) => {\r\n                    const rows=[{cycle: \"Primaire\",children: []},{cycle: \"CEM\",children: []},{cycle: \"Lyc\",children: []}];\r\n                    res.classes.forEach((classe) => {\r\n                        rows[classe.cycle-1].children.push( {codeCl: classe.codeCl,description: classe.description});\r\n                    });\r\n                    setDataRows(rows)\r\n                    setisLoading(false);\r\n              },\r\n              (err) => {\r\n                setisLoading(false);\r\n              }\r\n          )\r\n    \r\n  }, []);\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Tableau de Bord\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <LoadingComponent\r\n                component={\r\n                  <Paper className={classes.paper}>\r\n                    <Box p={3}>\r\n                        <Typography variant=\"h4\" color=\"primary\">Annuaire des cycles/annes</Typography>\r\n                    </Box>\r\n                    <CollapssibleTable \r\n                    headLabels={dataColumns}\r\n                    rows={DataRows}\r\n                    subHeaderLabels={subHeaders}\r\n                    subHeadersTitle={\"Classes associes\"}\r\n\r\n                    \r\n                    />\r\n                    <Box m={3} p={3} display=\"flex\" justifyContent=\"flex-end\"><Fab className={classes.fab}>\r\n                        <AddIcon/>\r\n\r\n                    </Fab>\r\n                    </Box>\r\n                  </Paper>\r\n                }\r\n                controller={isLoading}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TableSortLabel,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Checkbox\r\n} from \"@material-ui/core\";\r\n\r\n\r\nexport default function EnhancedTableHead(props) {\r\n  const {\r\n    classes,\r\n    onSelectAllClick,\r\n    order,\r\n    orderBy,\r\n    numSelected,\r\n    rowCount,\r\n    onRequestSort,\r\n    headCells,\r\n    withActions,\r\n    withStartCheckbox,\r\n  } = props;\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {withStartCheckbox && (\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={rowCount > 0 && numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n              inputProps={{ \"aria-label\": \"select all desserts\" }}\r\n            />\r\n          </TableCell>\r\n        )}\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={\"left\"}\r\n            padding={headCell.disablePadding ? \"none\" : \"default\"}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : \"asc\"}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n        {withActions && (\r\n          <TableCell key={\"actionColumn\"} align={\"center\"}>\r\n            Actions\r\n          </TableCell>\r\n        )}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\nimport { lighten, makeStyles} from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport {\r\n  Toolbar,\r\n  Typography,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n    root: {\r\n      paddingLeft: theme.spacing(2),\r\n      paddingRight: theme.spacing(1),\r\n    },\r\n    highlight:\r\n      theme.palette.type === \"light\"\r\n        ? {\r\n            color: theme.palette.secondary.main,\r\n            backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n          }\r\n        : {\r\n            color: theme.palette.text.primary,\r\n            backgroundColor: theme.palette.secondary.dark,\r\n          },\r\n    title: {\r\n      flex: \"1 1 100%\",\r\n    },\r\n  }));\r\n  \r\n  export default function EnhancedTableToolbar (props)  {\r\n    const classes = useToolbarStyles();\r\n    const { numSelected, title } = props;\r\n  \r\n    return (\r\n      <Toolbar\r\n        className={clsx(classes.root, {\r\n          [classes.highlight]: numSelected > 0,\r\n        })}\r\n      >\r\n        {numSelected > 0 ? (\r\n          <Typography\r\n            className={classes.title}\r\n            color=\"inherit\"\r\n            variant=\"subtitle1\"\r\n            component=\"div\"\r\n          >\r\n            {numSelected} selected\r\n          </Typography>\r\n        ) : (\r\n          <Typography\r\n            className={classes.title}\r\n            variant=\"h6\"\r\n            id=\"tableTitle\"\r\n            component=\"div\"\r\n          >\r\n            {title}\r\n          </Typography>\r\n        )}\r\n  \r\n        {numSelected > 0 ? (\r\n          <Tooltip title=\"Delete\">\r\n            <IconButton aria-label=\"delete\">\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        ) : (\r\n          <Tooltip title=\"Filter list\">\r\n            <IconButton aria-label=\"filter list\">\r\n              <FilterListIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        )}\r\n      </Toolbar>\r\n    );\r\n  };\r\n  \r\n  EnhancedTableToolbar.propTypes = {\r\n    numSelected: PropTypes.number.isRequired,\r\n  };","import React from \"react\";\r\nimport {  makeStyles, ThemeProvider,useTheme  } from \"@material-ui/core/styles\";\r\nimport {\r\n  Grid,\r\n  Box,\r\n  Avatar,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TablePagination,\r\n  TableRow,\r\n  MuiThemeProvider,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Button,\r\n  IconButton,\r\n  Typography,\r\n  Paper,\r\n  FormControlLabel,\r\n  Switch,\r\n  Checkbox,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\n\r\n\r\n\r\n// components\r\nimport EnhancedTableHead from './CustomTableHead'\r\nimport EnhancedTableToolbar from './CustomTableToolbar'\r\n// utils\r\nimport {getInitials} from '../../../utils/functions'\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === \"desc\"\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  paper: {\r\n    width: \"100%\",\r\n    marginBottom: theme.spacing(2),\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  chip: {\r\n    margin: theme.spacing(0.5),\r\n    color: theme.palette.primary\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableRow: {\r\n    cursor: \"pointer\"\r\n\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: \"rect(0 0 0 0)\",\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: \"hidden\",\r\n    padding: 0,\r\n    position: \"absolute\",\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function EnhancedTable({\r\n  tableTitle,\r\n  rows,\r\n  headCells,\r\n  indexName,\r\n  handleRowSelected,\r\n  withStartCheckbox = true,\r\n  withFiltering,\r\n  withActions = false,\r\n  actionButtons,\r\n  customtheme,\r\n  ...props\r\n}) {\r\n  const classes = useStyles();\r\n  const inheritTheme=useTheme ();\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"calories\");\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(true);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = rows.map((n) => n.name);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n  const handleClick = (event, name) => {\r\n    const selectedIndex = selected.indexOf(name);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const handleChangeDense = (event) => {\r\n    setDense(event.target.checked);\r\n  };\r\n\r\n  const isSelected = (name) => selected.indexOf(name) !== -1;\r\n\r\n  const emptyRows =\r\n    rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\r\n  \r\n  const hasAvatar = (columnName) => {\r\n    return (\r\n      typeof headCells.find(\r\n        (column) => column.id === columnName && column.withAvatar === true\r\n      ) !== \"undefined\"\r\n    );\r\n  };\r\n  return (\r\n      <div className={classes.root}>\r\n        <Paper className={classes.paper}>\r\n          <EnhancedTableToolbar\r\n            numSelected={selected.length}\r\n            title={tableTitle}\r\n          />\r\n          <TableContainer>\r\n            <Table\r\n              className={classes.table}\r\n              aria-labelledby=\"tableTitle\"\r\n              size={dense ? \"small\" : \"medium\"}\r\n              aria-label=\"enhanced table\"\r\n            >\r\n              <EnhancedTableHead\r\n                headCells={headCells}\r\n                withStartCheckbox={withStartCheckbox}\r\n                withActions={withActions}\r\n                classes={classes}\r\n                numSelected={selected.length}\r\n                order={order}\r\n                orderBy={orderBy}\r\n                onSelectAllClick={handleSelectAllClick}\r\n                onRequestSort={handleRequestSort}\r\n                rowCount={rows.length}\r\n              />\r\n              <TableBody>\r\n                {stableSort(rows, getComparator(order, orderBy))\r\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                  .map((row, index) => {\r\n                    const isItemSelected = isSelected(row[indexName]);\r\n                    const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                    return (\r\n                      <TableRow\r\n                        hover\r\n                        className={classes.tableRow}\r\n                        onClick={(event) => {if (props.rowClickHandler) props.rowClickHandler(row[indexName]); else if(handleRowSelected) handleRowSelected(event, row[indexName],handleClick); else handleClick(event, row[indexName])}}\r\n                        // onClick={(event) => {if(handleRowSelected) handleRowSelected(event, row[indexName],handleClick); else handleClick(event, row[indexName])}}\r\n                        role=\"checkbox\"\r\n                        aria-checked={isItemSelected}\r\n                        tabIndex={-1}\r\n                        key={row[indexName]}\r\n                        selected={isItemSelected}\r\n                      >\r\n                        {withStartCheckbox && (\r\n                          <TableCell padding=\"checkbox\">\r\n                            <Checkbox\r\n                              checked={isItemSelected}\r\n                              inputProps={{ \"aria-labelledby\": labelId }}\r\n                            />\r\n                          </TableCell>\r\n                        )}\r\n                        {/* Data Rows */}\r\n                        {/* <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\r\n                        {row[indexName]}\r\n                      </TableCell> */}\r\n                        {headCells.map((column, idx) => {\r\n                          const key = column.id;\r\n                          return (\r\n                            <TableCell align=\"left\" key={`${column.id}-${idx}`}>\r\n                              <Box display=\"flex\" alignItems=\"center\">\r\n                                {hasAvatar(key) ? (\r\n                                  <Box display=\"flex\" alignItems=\"center\" >\r\n                                    <Avatar\r\n                                    className={classes.avatar}\r\n                                    src={row.avatarUrl}\r\n                                  >\r\n                                    {getInitials(row[key])}\r\n                                  </Avatar>\r\n                                  </Box>\r\n                                ) : null}\r\n                               \r\n                                  {column.withChip &&\r\n                                    (() => {\r\n                                      var vals = row[key];\r\n                                      if (!(vals instanceof Array)) {\r\n                                        vals = [vals];\r\n                                      }\r\n\r\n                                      if (column.usesInnerTheme)\r\n                                        return (\r\n                                          <MuiThemeProvider theme={props.innerTheme}>\r\n                                            {vals.map((el,index) => (\r\n                                              <Chip\r\n                                                key={index}\r\n                                                className={classes.chip}\r\n                                                {...el}\r\n                                                color={el.color || (index%3===0?\"primary\":index%3===1?\"secondary\":\"default\")}\r\n                                                label={el.label}\r\n                                                size=\"small\"\r\n                                              />\r\n                                            ))}\r\n                                          </MuiThemeProvider>\r\n                                        );\r\n                                      else\r\n                                        return <MuiThemeProvider theme={inheritTheme}>\r\n                                        {vals.map((el,index) => (\r\n                                          <Chip\r\n                                          key={index}\r\n                                            className={`${classes.chip}`}\r\n                                            {...el}\r\n                                            color={el.color || (index%3===0?\"primary\":index%3===1?\"secondary\":\"default\")}\r\n                                            style={{color:el.variant!==\"outlined\"?\"white\":\"inherit\"}}\r\n                                            label={el.label}\r\n                                            size=\"small\"\r\n                                          />\r\n                                        ))}\r\n                                      </MuiThemeProvider>\r\n                                    })()}\r\n                                  {column.withChildComponent && (\r\n                                    <>{row[key]}</>\r\n                                  )\r\n\r\n                                  }  \r\n                                  {!column.withChip && !column.withChildComponent && (\r\n                                    <Typography\r\n                                      color=\"textPrimary\"\r\n                                      variant=\"body1\"\r\n                                      className=\"mx-2\"\r\n                                    >\r\n                                      {row[key]}\r\n                                    </Typography>\r\n                                  )}\r\n                                  {}\r\n                               \r\n                              </Box>\r\n                            </TableCell>\r\n                          );\r\n                        })}\r\n                        {/* Actions cells */}\r\n                        {withActions && (\r\n                          <TableCell align=\"center\">\r\n                            {withActions &&\r\n                              actionButtons &&\r\n                              actionButtons.map((btn, idx) => {\r\n                                if (!customtheme)\r\n                                  return (\r\n                                    <Button\r\n                                    key={idx}\r\n                                      fullWidth={btn.fullWidth ? btn.fullWidth: true}\r\n                                      color={btn.color || \"success\"}\r\n                                      className={`px-2 ${classes.button}`}\r\n                                      variant={btn.variant || \"contained\"}\r\n                                      startIcon={<btn.startIcon />}\r\n                                      onClick={() =>\r\n                                        btn.clickHandler(row[indexName])\r\n                                      }\r\n                                    >\r\n                                      {btn.label}\r\n                                    </Button>\r\n                                  );\r\n                                else\r\n                                  return (\r\n                                    <Grid\r\n                                      container\r\n                                      justify=\"center\"\r\n                                      spacing={3}\r\n                                    >\r\n                                      <ThemeProvider theme={customtheme}>\r\n                                        <Grid item xs={12} md={10}>\r\n                                          {\" \"}\r\n                                          <Button\r\n                                            fullWidth\r\n                                            color={btn.color || \"primary\"}\r\n                                            className=\"px-2\"\r\n                                            variant=\"contained\"\r\n                                            startIcon={<btn.startIcon />}\r\n                                            onClick={() =>\r\n                                              btn.clickHandler(row[indexName])\r\n                                            }\r\n                                          >\r\n                                            {btn.label}\r\n                                          </Button>\r\n                                        </Grid>\r\n                                      </ThemeProvider>\r\n                                    </Grid>\r\n                                  );\r\n                              })}\r\n                          </TableCell>\r\n                        )}\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                {emptyRows > 0 && (\r\n                  <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\r\n                    <TableCell colSpan={6} />\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n          <TablePagination\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n            component=\"div\"\r\n            count={rows.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onChangePage={handleChangePage}\r\n            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n          />\r\n        </Paper>\r\n        <FormControlLabel\r\n          control={<Switch checked={dense} onChange={handleChangeDense} />}\r\n          label={dense?\"Condens\":\"Condenser\"}\r\n        />\r\n      </div>\r\n  );\r\n}\r\n","import React, {useEffect, useRef} from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {  MenuItem } from \"@material-ui/core\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Formik } from \"formik\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n  form: {\r\n    // width: \"100%\", // Fix IE 11 issue.\r\n    margin: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst CustomForm=React.forwardRef((props,ref)=> {\r\n  const classes = useStyles();\r\n  const submitBtnRef=useRef();\r\n\r\n  useEffect(()=>{\r\n    if(props.submitRefTracker) props.submitRefTracker(submitBtnRef);\r\n  },[submitBtnRef])\r\n \r\n  return (\r\n    <Formik\r\n      initialValues={props.initialState}\r\n      validationSchema={props.validationSchema}\r\n      enableReinitialize={props.reset?props.reset:true}\r\n      onSubmit={props.onSubmit}\r\n    >\r\n      {({\r\n        errors,\r\n        handleBlur,\r\n        handleChange,\r\n        handleSubmit,\r\n        isSubmitting,\r\n        touched,\r\n        values,\r\n      }) => (\r\n        <form className={classes.form}  onSubmit={(e)=>{e.preventDefault(); handleSubmit(e); }} ref={ref} encType=\"multipart/form-data\">\r\n          <Grid container spacing={2}>\r\n            {props.fieldsHiearchy && props.fieldsHiearchy.map((gridRow,rowidx) => {\r\n              if (!(gridRow instanceof Array)) {\r\n                gridRow = [gridRow];\r\n              }\r\n              return gridRow.map((field,columnidx) => (\r\n                <Grid item xs={12} sm={Math.floor(12 / gridRow.length)} key={`${rowidx}-${columnidx}`}>\r\n                  {field.type === \"input\" && (\r\n                    <TextField\r\n                    key={field.props.name}\r\n                      error={Boolean(touched[field.props.name] && errors[field.props.name])}\r\n                      helperText={touched[field.props.name] && errors[field.props.name]}\r\n                      onBlur={handleBlur}\r\n                      onChange={(e)=> {handleChange(e);if(props.onChange) props.onChange(e)} }\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      id={`${field.props.name}-input`}\r\n                      {...field.props}\r\n\r\n                    />\r\n                  )}\r\n                  {field.type === \"select\" && (\r\n                    <TextField \r\n                      error={Boolean(touched[field.props.name] && errors[field.props.name])}\r\n                      helperText={touched[field.props.name] && errors[field.props.name]}\r\n                      onBlur={handleBlur}\r\n                      onChange={(e)=> {handleChange(e); if(props.onChange) props.onChange(e)} }\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      id={`${field.props.name}-input`}\r\n                      {...field.props}\r\n                    >\r\n                      {field.children &&\r\n                        field.children.map((option, idx) => (\r\n                          <MenuItem key={option.key} value={option.value} >\r\n                            {option.label}\r\n                          </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                  )}\r\n                  {field.type === \"formControl\" && (<>{field.children}</>)}\r\n                </Grid>\r\n              ));\r\n            })}\r\n\r\n            \r\n          </Grid>\r\n          {!props.noSubmit && (<Grid container justify=\"flex-end\">\r\n            <Grid item xs={12} sm={4}>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                ref={submitBtnRef}\r\n              >\r\n                {props.submitLabel}\r\n              </Button>\r\n            </Grid>\r\n          </Grid>)}\r\n        </form>\r\n      )}\r\n    </Formik>\r\n  );\r\n})\r\n\r\nCustomForm.propTypes = {\r\n    submitLabel: PropTypes.string,\r\n    validationSchema: PropTypes.object,\r\n    fieldsHiearchy: PropTypes.array,\r\n    onSubmit: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n  };\r\n\r\n\r\n\r\nexport default CustomForm\r\n","import React, { useState, useEffect, createRef } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport * as Yup from \"yup\";\r\n\r\n// components\r\nimport CustomForm from \"../../../../shared/CustomForm\";\r\nimport LoadingComponent from \"../../../../shared/LoadingComponent\";\r\nimport ToasterSnackBar from \"../../../../shared/notifiers/toaster/ToasterSnackBar\";\r\n// Services\r\nimport ManagerService from \"../../../../../services/managerServices\";\r\nimport TeacherService from \"../../../../../services/teacherServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  username: Yup.string()\r\n    .max(20, \"Le nom de famille ne doit pas dpasser 20 caractres\")\r\n    .min(5, \"Le nom d'utilisateur doit contenir au moins 5 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  nom: Yup.string()\r\n    .min(3, \"Le nom doit contenir au moins 3 caractres\")\r\n    .max(20, \"Le nom de famille ne doit pas dpasser 20 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  prenom: Yup.string()\r\n    .min(3, \"Le prnom doit contenir au moins 3 caractres\")\r\n    .max(50, \"Le prnom ne doit pas dpasser 50 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  email: Yup.string()\r\n    .email(\"Adresse Email invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  phone: Yup.string()\r\n    .trim()\r\n    .matches(/^0[5679]\\d{8}$/, \"Numro de tlephone invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  cycle: Yup.number().required(\"Champs Obligatoire\"),\r\n  matiere: Yup.string().required(\"Champs Obligatoire\"),\r\n  // matieresIds: Yup.array().required(\"Champs Obligatoire\"),\r\n  classes: Yup.array().required(\"Champs Obligatoire\"),\r\n  commune: Yup.string().required(\"Champs Obligatoire\"),\r\n  wilaya: Yup.string().required(\"Champs Obligatoire\"),\r\n});\r\nconst username = {\r\n  type: \"input\",\r\n  props: {\r\n    name: \"username\",\r\n    required: true,\r\n    type: \"text\",\r\n    label: \"Nom d'utilisateur\",\r\n  },\r\n};\r\nconst nom = {\r\n  type: \"input\",\r\n  props: { name: \"nom\", required: true, type: \"text\", label: \"Nom\" },\r\n};\r\nconst prenom = {\r\n  type: \"input\",\r\n  props: { name: \"prenom\", required: true, type: \"text\", label: \"Prenom\" },\r\n};\r\nconst email = {\r\n  type: \"input\",\r\n  props: { name: \"email\", required: true, type: \"email\", label: \"Email\" },\r\n};\r\nconst phone = {\r\n  type: \"input\",\r\n  props: { name: \"phone\", required: true, type: \"text\", label: \"Tlephone\" },\r\n};\r\n\r\nexport default function AddEnseignant(props) {\r\n  const initialState = {\r\n    username: \"\",\r\n    nom: \"\",\r\n    prenom: \"\",\r\n    wilaya: \"\",\r\n    commune: \"\",\r\n    cycle: \"\",\r\n    matieresIds: [],\r\n    classes: [],\r\n    matiere: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    \r\n  };\r\n  const [defaultFormValues, setdefaultFormValues] = useState([]);\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const formRef = createRef();\r\n\r\n  const [state, setState] = useState({\r\n    formState: initialState,\r\n    listeW: [],\r\n    listC: [],\r\n    formStructure: [],\r\n  });\r\n\r\n  // Define notification state\r\n  const [toasterOpen, setToasterOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({\r\n    severity : \"success\",\r\n    message: 'Enseignant enregistr avec succs'\r\n  });\r\n  const closeToaster = () => setToasterOpen(false);\r\n\r\n    // On Component Di mount, fetch required infos ( wilayas/communes, cycles,years,matieres)\r\n  useEffect(() => {\r\n    fetch(\"/assets/communes-wilayas-ar.json\")\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        const wilayas = {};\r\n        data.forEach((item) => {\r\n          wilayas[item.codeW] = item.wilaya;\r\n        });\r\n        const listWilayas = Object.keys(wilayas).map((key) => ({\r\n          codeW: key,\r\n          nomW: wilayas[key],\r\n        }));\r\n          // Bind form inputs with state attributes\r\n        username.props.value = state.formState.username;\r\n        nom.props.value = state.formState.nom;\r\n        prenom.props.value = state.formState.prenom;\r\n        email.props.value = state.formState.email;\r\n        phone.props.value = state.formState.phone;\r\n          // Define the row containing Wilaya & Commune\r\n        const hiearchy = [\r\n          {\r\n            type: \"select\",\r\n            props: {\r\n              name: \"wilaya\",\r\n              required: true,\r\n              select: true,\r\n              label: \"Wilaya\",\r\n              value: state.formState.wilaya,\r\n              // onChange: handleChange\r\n            },\r\n            children: listWilayas.map((item) => ({\r\n              key: item.codeW,\r\n              value: item.nomW,\r\n              label: item.nomW,\r\n            })),\r\n          },\r\n          {\r\n            type: \"select\",\r\n            props: {\r\n              name: \"commune\",\r\n              required: true,\r\n              select: true,\r\n              label: \"Commune\",\r\n              value: state.formState.commune,\r\n            },\r\n            children: data.map((item) => ({\r\n              key: item.id,\r\n              value: item.id,\r\n              label: item.baladiya,\r\n            })),\r\n          },\r\n        ];\r\n          // Fetch cycles, years, & matieres\r\n          ManagerService.getAllClassesMatieres({adminType:\"manager\"})\r\n          .then((dataResp) => {\r\n            console.log(\"Server response for classes :\",dataResp)\r\n            const ItemsAnnes=[],listeAnnes=[];\r\n            const ItemsMatieres=[];\r\n            dataResp.classes.forEach((classe) => {\r\n                  listeAnnes.push(classe);\r\n                  // listeAnnes.push({...classe,id: `${classe.codeCl}#${classe.codeCl}#${classe.codeCl}`}); // To be replaced by the above after Backend implemented\r\n\r\n                classe.matieres.forEach((matiere, index) => {\r\n             \r\n                    if(!ItemsMatieres.find(el=>el.titre===matiere.titre)) ItemsMatieres.push({...matiere}); \r\n                });\r\n         \r\n            });\r\n            const listeMatieres=ItemsMatieres;\r\n            const cycles = {\r\n              type: \"select\",\r\n              props: {\r\n                name: \"cycle\",\r\n                required: true,\r\n                select: true,\r\n                multiple: true,\r\n                label: \"Cycle\",\r\n                value: \"\"\r\n                // value: state.formState.cycle,\r\n                \r\n              },\r\n              children:[]\r\n           \r\n            };\r\n            const matieres = {\r\n              type: \"select\",\r\n              props: {\r\n                name: \"matiere\",\r\n                required: true,\r\n                select: true,\r\n                label: \"Matire\",\r\n                value: state.formState.matiere,\r\n                \r\n              },\r\n              // children: listeMatieres,\r\n                // New changes by mahdi\r\n              children: listeMatieres.map((matiere)=>({\r\n                key: matiere.id,\r\n                value: matiere.id,\r\n                label: matiere.titre,\r\n              }))\r\n            };\r\n         \r\n            const years = {\r\n              type: \"select\",\r\n              props: {\r\n                // name: \"matieresIds\",\r\n                name: \"classes\",\r\n                required: true,\r\n                select: true,\r\n                multiple: true,\r\n                label: \"Classes enseigns\",\r\n                value: [],\r\n              \r\n                SelectProps: {\r\n                  multiple: true\r\n                }\r\n              },\r\n              children: []\r\n            };\r\n            const defaultForm=[\r\n              ...state.formStructure,\r\n              [username],\r\n              [nom, prenom],\r\n              [matieres,cycles,years],\r\n              hiearchy,\r\n              [email],\r\n              [phone],\r\n            ]\r\n            setdefaultFormValues(defaultForm)\r\n            setState({\r\n              ...state,\r\n              listC: data,\r\n              listeW: listWilayas,\r\n              listeAnnes: listeAnnes,\r\n              listeMatieres: listeMatieres,\r\n              formStructure: defaultForm,\r\n            });\r\n          },\r\n          err=>{\r\n            console.log(err)\r\n          });\r\n      });\r\n  }, []);\r\n\r\n\r\n  /**\r\n   * Handle form changes\r\n   * @param {*} event input onChange event\r\n   */\r\n  const handleChange = (event) => {\r\n   \r\n    setState({\r\n      ...state,\r\n      formState: {...state.formState,\r\n        [event.target.name]:\r\n        event.target.name === \"commune\"\r\n          ? state.listC.find((el) => el.id === event.target.value).baladiya\r\n          : event.target.value},\r\n      formStructure: state.formStructure.map((row) => {\r\n        return row.map((el) => {\r\n            // Change Commune's possible values according to choosed Wilaya\r\n          if (event.target.name === \"wilaya\" && el.props.name === \"commune\") {\r\n            const filteredCommunes = state.listC\r\n              .filter((commune) => commune.wilaya === event.target.value)\r\n              .map((item) => ({\r\n                key: item.id,\r\n                value: item.id,\r\n                label: item.baladiya,\r\n              }));\r\n            return {\r\n              ...el,\r\n              children: filteredCommunes,\r\n\r\n              props: { ...el.props, value: filteredCommunes[0].value },\r\n            };\r\n          } else \r\n\r\n            // New changes by mahdi\r\n          if (event.target.name === \"matiere\" && el.props.name === \"cycle\") {\r\n            const  labels= Array.from( new Set(state.listeAnnes\r\n              .filter((classe) => typeof (classe.matieres.find(el=> el.id===event.target.value)) !==\"undefined\")\r\n              .map((classe) => classe.cycle\r\n              ))); \r\n              const filteredCycles=labels.map((codeCycle)=>({\r\n                key: codeCycle,\r\n                value: codeCycle,\r\n                label: codeCycle===1?\"Primaire\":codeCycle===2?\"Moyen\":\"Lyc\",\r\n                }))\r\n           \r\n            return {\r\n              ...el,\r\n              children: filteredCycles,\r\n\r\n              props: { ...el.props,value: \"\" },\r\n            };\r\n          }\r\n          if (event.target.name === \"matiere\" && el.props.name === \"classes\") {     \r\n            return {\r\n              ...el,\r\n              children: [],\r\n\r\n              props: { ...el.props, value: \"\" },\r\n            };\r\n          }\r\n          else\r\n       \r\n            // New changes by mahdi\r\n          if (event.target.name === \"cycle\" && el.props.name === \"classes\") {\r\n            const  filteredClasses= state.listeAnnes\r\n              .filter((classe) => classe.cycle === event.target.value && classe.matieres.find(el=>el.id===state.formState.matiere))\r\n              .map((classe) => (\r\n                {key: `${classe.id}`,\r\n                value: `${classe.id}`,\r\n                label: `${(classe.dexription && classe.dexription!==\"\" && classe.dexription) || classe.codeCl}`\r\n            })\r\n              );\r\n        \r\n            return {\r\n              ...el,\r\n              children: filteredClasses,\r\n\r\n              props: { ...el.props, value: [] },\r\n            };\r\n          }else\r\n          \r\n            // Else, Standard process, update form input values\r\n          if (el.props.name === event.target.name)\r\n            return {\r\n              ...el,\r\n              props: { ...el.props, value: event.target.value },\r\n            };\r\n          return el;\r\n        });\r\n      }),\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Handle Submit form\r\n   * @param {*} data the data returned from Formik\r\n   */\r\n  const handleSubmit = (data) => {\r\n    const {username,nom,prenom,email,phone,wilaya,commune,matiere,classes}=state.formState;\r\n   \r\n    \r\n    setisLoading(true);\r\n    TeacherService.register({\r\n      username,nom,prenom,\r\n      email,phone,wilaya,commune,\r\n      // matieresIds,\r\n      matiereId:matiere,\r\n      // classesIds,\r\n      classesIds:classes,\r\n      adminType: \"manager\",\r\n    }).then(\r\n      (res) => {\r\n        console.log(\"Registration results : \",res);\r\n        setAlertProps({\r\n          severity : \"success\",\r\n          message: 'Enseignant enregistr avec succs'\r\n        });\r\n        setToasterOpen(true);\r\n        setisLoading(false);\r\n        // Reset form and formState values\r\n        setState({\r\n          ...state,\r\n          formState: initialState,\r\n          formStructure: defaultFormValues\r\n        })\r\n      },\r\n\r\n      (err) => {\r\n        console.error(err);\r\n        setAlertProps({\r\n          severity:'error',\r\n          message : `Une erreur s'est produite ${(err.message && err.message) || err }`\r\n        });\r\n        setToasterOpen(true);\r\n        setisLoading(false);\r\n      }\r\n    );\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <ToasterSnackBar\r\n          open={toasterOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={<Alert variant=\"filled\" severity={alertProps.severity}>\r\n          {alertProps.message}\r\n        </Alert>}\r\n        \r\n        />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Ajouter un nouvel enseignant\r\n        </Typography>\r\n\r\n        <LoadingComponent\r\n          component={\r\n            <CustomForm\r\n              ref={formRef}\r\n              validationSchema={validationSchema}\r\n              fieldsHiearchy={state.formStructure}\r\n              initialState={state.formState}\r\n              onChange={handleChange}\r\n              onSubmit={handleSubmit}\r\n              submitLabel={\"Enregistrer\"}\r\n              state={state}\r\n            />\r\n          }\r\n          controller={isLoading}\r\n        />\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nfunction CustomModal(props) {\r\n  const [open, setOpen] = React.useState(props.open);\r\n\r\n  useEffect(()=>{\r\n      setOpen(props.open)\r\n\r\n  },[props.open])\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <Dialog onClose={props.handleClose} aria-labelledby=\"customized-dialog-title\" open={open} maxWidth=\"lg\" fullWidth>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={props.handleClose || handleClose}>\r\n          {props.title}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          {props.body}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {props.actions && props.actions.map((action,index)=><Button autoFocus key={index} onClick={action.clickHandler} {...action} color={action.color || \"primary\"}>\r\n            {action.label}\r\n          </Button>)}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nCustomModal.prototype={\r\n    open: PropTypes.bool.isRequired,\r\n    title: PropTypes.any.isRequired,\r\n    body: PropTypes.any.isRequired\r\n}\r\n\r\n\r\nexport default  CustomModal\r\n\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Paper,Card,CardContent,Divider} from '@material-ui/core';\r\n\r\n// Components\r\nimport ProfileAvatar from \"../../../../shared/ProfileAvatar\";\r\n\r\nfunction InfoCard(props) {\r\n    return (\r\n<Paper elevation={3}>\r\n<Card\r\n            >\r\n              <CardContent>\r\n                <ProfileAvatar\r\n                  firstname={props.nom}\r\n                  lastname={props.prenom}\r\n                  avatar={props.image}\r\n                  descriptionTitle={props.jobTitle}\r\n                  classes={props.classes}\r\n                />\r\n              </CardContent>\r\n              <Divider />\r\n              {props.additionalContent}\r\n              \r\n            </Card>\r\n    \r\n\r\n</Paper>\r\n    )\r\n}\r\n\r\nInfoCard.propTypes = {\r\n    nom: PropTypes.string.isRequired,\r\n    prenom: PropTypes.string.isRequired,\r\n    image: PropTypes.string.isRequired,\r\n    jobTitle: PropTypes.string.isRequired,\r\n    classes: PropTypes.array.isRequired,\r\n\r\n}\r\n\r\nexport default InfoCard\r\n\r\n","const customersHeadCells = [\r\n    // { id: \"id\", numeric: false, disablePadding: true, label: \"id\" },\r\n    { id: \"nom\", numeric: false, disablePadding: true, label: \"Nom\" },\r\n    { id: \"prenom\", numeric: false, disablePadding: false, label: \"Prnom\" },\r\n    { id: \"eleves\", numeric: false, disablePadding: true, label: \"Eleves\",withChip: true,usesInnerTheme: true },\r\n    { id: \"wilaya\", numeric: false, disablePadding: false, label: \"Wilaya\" },\r\n    { id: \"commune\", numeric: false, disablePadding: false, label: \"Commune\" },\r\n    { id: \"phone\", numeric: false, disablePadding: false, label: \"Tlephone\" },\r\n    { id: \"status\", numeric: false, disablePadding: false, label: \"Etat\", withChip: true },\r\n  ];\r\n  const ordersHeadCells = [\r\n    { id: \"code_achat\", numeric: false, disablePadding: true, label: \"Code d'achat\" },\r\n    { id: \"date_debut\", numeric: false, disablePadding: false, label: \"Date\" },\r\n    { id: \"type\", numeric: false, disablePadding: true, label: \"Type\" },\r\n    { id: \"duree\", numeric: false, disablePadding: true, label: \"Durre\" },\r\n    { id: \"classesLabels\", numeric: false, disablePadding: true, label: \"Classes Inscrites\",withChip: true,usesInnerTheme: true },\r\n    { id: \"owner\", numeric: false, disablePadding: false, label: \"Client\" },\r\n    { id: \"status\", numeric: false, disablePadding: false, label: \"Etat\", withChip: true },\r\n  ];\r\n  const profsHeadCells = [\r\n    // { id: \"id\", numeric: false, disablePadding: true, label: \"id\" },\r\n    { id: \"nom\", numeric: false, disablePadding: true, label: \"Nom\" ,withAvatar:true},\r\n    { id: \"prenom\", numeric: false, disablePadding: false, label: \"Prnom\" },\r\n    { id: \"classes\", numeric: false, disablePadding: false, label: \"Classes\",withChip: true,usesInnerTheme: true },\r\n    { id: \"matiere\", numeric: false, disablePadding: false, label: \"Matire\" },\r\n    { id: \"wilaya\", numeric: false, disablePadding: false, label: \"Wilaya\" },\r\n    { id: \"commune\", numeric: false, disablePadding: false, label: \"Commune\" },\r\n    { id: \"date_ajout\", numeric: false, disablePadding: false, label: \"Date d'ajout \" },\r\n  ];\r\n  const elevesHeadCells = [\r\n    { id: \"nom\", numeric: false, disablePadding: true, label: \"Nom\" ,withAvatar:true},\r\n    { id: \"classe\", numeric: false, disablePadding: false, label: \"Classe\",withChip: true,usesInnerTheme: true },\r\n    { id: \"age\", numeric: false, disablePadding: false, label: \"Age\" },\r\n    { id: \"sexe\", numeric: false, disablePadding: false, label: \"Genre\" },\r\n    { id: \"date_ajout\", numeric: false, disablePadding: false, label: \"Date d'ajout \" },\r\n  ];\r\n  const pubsHeadCells = [\r\n    { id: \"titre\", numeric: false, disablePadding: true, label: \"Titre\" },\r\n    { id: \"sponsor\", numeric: false, disablePadding: false, label: \"Publicateur\" },\r\n    { id: \"thumbnail\", numeric: false, disablePadding: false, label: \"Aperu\",withChildComponent:true },\r\n    { id: \"actions\", numeric: false, disablePadding: false, label: \"Actions\",withChildComponent:true },\r\n    \r\n  ];\r\n  const coursHeadCells = [\r\n    // { id: \"id\", numeric: false, disablePadding: true, label: \"id\" },\r\n    { id: \"titre\", numeric: false, disablePadding: true, label: \"Titre\" },\r\n    { id: \"video\", numeric: false, disablePadding: false, label: \"URL Vido\" },\r\n    { id: \"thumbnail\", numeric: false, disablePadding: false, label: \"Apru\" },\r\n    { id: \"date_ajout\", numeric: false, disablePadding: false, label: \"Date d'ajout\" },\r\n   \r\n  ];\r\n\r\n  export {customersHeadCells,ordersHeadCells,profsHeadCells,elevesHeadCells,pubsHeadCells,coursHeadCells}","import React, { useState,useEffect } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  MuiThemeProvider,\r\n  createMuiTheme,\r\n} from \"@material-ui/core/styles\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Box,\r\n  TextField,\r\n  InputAdornment,\r\n  SvgIcon,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport Timeline from '@material-ui/lab/Timeline';\r\nimport TimelineItem from '@material-ui/lab/TimelineItem';\r\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\r\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\r\nimport {TimelineContent,TimelineOppositeContent}  from '@material-ui/lab';\r\nimport TimelineDot from '@material-ui/lab/TimelineDot';\r\n\r\n\r\nimport {red,indigo,deepPurple} from \"@material-ui/core/colors\"\r\nimport { Search as SearchIcon } from \"react-feather\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\n//themes\r\nimport { defaultTheme, bootstraptheme } from \"../../../../../themes/palettes\";\r\n\r\n// components\r\nimport CustomTable from \"../../../../shared/tables/CustomTable\";\r\nimport AddEnseignantsForm from \"./Add\";\r\nimport Page from \"../../../../shared/Page\";\r\nimport LoadingComponent from '../../../../shared/LoadingComponent' \r\nimport Modal from '../../../../shared/Modal' \r\nimport InforCard from './InfoCard' \r\n\r\n// Data\r\nimport { profsHeadCells } from \"../../../../data/tableHeads\";\r\n// import {ManagerActions} from \"../../../../../redux/actions/\";\r\nimport TeacherService from \"../../../../../services/teacherServices\";\r\n\r\nconst actions = [\r\n  {\r\n    color: \"primary\",\r\n    label: \"Signaler\",\r\n    clickHandler: (id) => console.log(id),\r\n    startIcon: ErrorOutlineIcon,\r\n  },\r\n  {\r\n    color: \"secondary\",\r\n    label: \"Rsilier\",\r\n    clickHandler: (id) => console.log(id),\r\n    startIcon: RemoveIcon,\r\n  },\r\n];\r\n\r\nconst successtheme = createMuiTheme({\r\n  palette: {\r\n    primary: { main: \"#4caf50\" },\r\n    secondary: {\r\n      main: \"#f44336\",\r\n    },\r\n  },\r\n});\r\nconst cyclesTheme = createMuiTheme({\r\n  palette: {\r\n    primary: red,\r\n    secondary: deepPurple,\r\n    error: indigo,\r\n  },\r\n});\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function Enseignants(props) {\r\n  const classes = useStyles();\r\n  // States\r\n  const [profsRows, setProfsRows] = useState([]); //the original rows\r\n  const [filtredProfsRows, setFiltredProfsRows] = useState([]); // The filtered rows after searching changes\r\n  const [isLoading, setisLoading] = useState(false); // Loading spinners controller\r\n  const [showAddForm, setShowAddForm] = useState(false); // Loading spinners controller\r\n  const [popupOpen, setPopupOpen] = useState(false); // info card modal controller\r\n\r\n    // On component did mount, fetch teachers infos\r\n  useEffect(()=>{\r\n    setisLoading(true);\r\n\r\n    TeacherService.getAll({adminType:\"manager\"}).then(\r\n      res=>{\r\n        setisLoading(false);\r\n        console.log('Suceess Fetch profs',res);\r\n        const rows=res.enseignants.map((ens)=>({\r\n          ...ens,\r\n          matiere: ens.matiere.titre,\r\n          classes: ens.classes.map(cl=>({\r\n      \r\n            // avatar: <Avatar alt={eleve.username}  src={eleve.avatar} />,\r\n            label:cl.codeCl,\r\n            // variant:\"outlined\" ,\r\n            clickable : true\r\n          }))\r\n        }))\r\n        setFiltredProfsRows(rows);\r\n        setProfsRows(rows);\r\n\r\n      },\r\n      err=>{\r\n        setisLoading(false);\r\n        console.log('Error ',err)\r\n      }\r\n    )\r\n    \r\n\r\n  },[])\r\n\r\n  const [popupBody,setpopupBody]=useState((<></>));\r\n\r\n  // SearcheBar handle changes\r\n  const handleSearchInputChange = (e) => {\r\n\r\n    if (e.target.value.length < 4) {\r\n      setFiltredProfsRows(profsRows);\r\n      return;\r\n    }\r\n    const value = e.target.value;\r\n    setFiltredProfsRows(\r\n      profsRows.filter(\r\n        (row) =>\r\n          (row.nom && row.nom.indexOf(value) !== -1) ||\r\n          (row.prenom && row.prenom.indexOf(value) !== -1)\r\n      )\r\n    );\r\n  };\r\n\r\n  const rowClickHandler=(profId)=>{\r\n    // const prof=profsRows.find(ens=>ens.id===profId);\r\n    // if(!prof) {\r\n    //   console.error(\"Le prof clcik n'a pas t trouv\");\r\n    //   return;\r\n    // }\r\n    TeacherService.getById({id: profId, adminType: \"manager\"}).then(\r\n      res=>{\r\n        const prof=res;\r\n\r\n        const {nom,prenom,image,classes}=prof;\r\n        setPopupOpen(true);\r\n        setpopupBody(\r\n          (\r\n            <Container >\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12} sm={5}>\r\n            <InforCard \r\n            nom={nom}\r\n            prenom={prenom}\r\n            image={image}\r\n            jobTitle={`Enseignant en ${prof.matiere.titre}`}\r\n            classes={classes}\r\n    \r\n            />\r\n    \r\n          </Grid>\r\n          <Grid item xs={12} sm={7}>\r\n    \r\n        <Paper elevation={3} style={{padding: \"1rem\"}}>\r\n          <Typography color=\"textPrimary\" variant=\"h6\">\r\n            Derniers cours ajouts\r\n          </Typography>\r\n          <Timeline align=\"alternate\">\r\n            {!prof.cours.length && <Typography color=\"textSecondary\" variant=\"caption\">\r\n           Aucun cours n'est ajout par cet enseignant\r\n          </Typography>}\r\n          {prof.cours.map((cours,index)=> \r\n          <TimelineItem key={index}>\r\n            <TimelineOppositeContent>\r\n          <Typography color=\"textSecondary\">{new Date(cours.date_ajout).toLocaleDateString('fr-FR')} {new Date(cours.date_ajout).toLocaleTimeString('fr-FR')}</Typography>\r\n              </TimelineOppositeContent>\r\n              <TimelineSeparator>\r\n                <TimelineDot color={index%2===0?\"primary\":\"secondary\"} />\r\n                <TimelineConnector />\r\n              </TimelineSeparator>\r\n              <TimelineContent>\r\n                <Typography>{cours.titre}</Typography>\r\n              </TimelineContent>\r\n          </TimelineItem>)}\r\n          \r\n        </Timeline>\r\n        </Paper>\r\n    \r\n          </Grid>\r\n    \r\n        </Grid>\r\n    \r\n      </Container>\r\n          )\r\n        )\r\n      },\r\n      err=>{\r\n\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Enseignants\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          <Modal \r\n          open={popupOpen}\r\n          title={\"Carte Informative\"}\r\n          body={popupBody}\r\n          handleClose={()=>setPopupOpen(false)}\r\n           />\r\n          <Grid container spacing={3}>\r\n            {/* Liste des enseignants */}\r\n            <Grid container justify=\"flex-end\"></Grid>\r\n            {/* Recherche d'abonnes */}\r\n            <Grid item xs={12} sm={8}>\r\n              <Box mt={3}>\r\n                \r\n                    <Box maxWidth={500}>\r\n                      <TextField\r\n                        fullWidth\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                              <SvgIcon fontSize=\"small\" color=\"action\">\r\n                                <SearchIcon />\r\n                              </SvgIcon>\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                        placeholder=\"Rechercher un enseignants ...\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e) => handleSearchInputChange(e)}\r\n                      />\r\n                    </Box>\r\n                 \r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <Box mt={3} alignItems=\"center\" justifyContent=\"center\" display=\"flex\" flexDirection=\"row\">\r\n                <MuiThemeProvider theme={successtheme}>\r\n                  <Button\r\n                    size=\"medium\"\r\n                    variant=\"contained\"\r\n                    className={classes.button}\r\n                    startIcon={<AddIcon />}\r\n                    color=\"primary\"\r\n                    onClick={(e)=>setShowAddForm(true)}\r\n                  >\r\n                    Ajouter\r\n                  </Button>\r\n                </MuiThemeProvider>\r\n              </Box>\r\n            </Grid>\r\n            {/* Liste des enseignants */}\r\n            <Grid item xs={12}>\r\n              <Paper className={classes.paper}>\r\n                <MuiThemeProvider theme={bootstraptheme}>\r\n                  <LoadingComponent component={<CustomTable\r\n                    tableTitle={\"Liste des enseignants\"}\r\n                    headCells={profsHeadCells}\r\n                    rows={filtredProfsRows}\r\n                    rowClickHandler={rowClickHandler}\r\n                    indexName={\"id\"}\r\n                    withActions={true}\r\n                    actionButtons={actions}\r\n                    innerTheme={cyclesTheme}\r\n                  />}\r\n                  controller={isLoading}\r\n\r\n                  />\r\n                </MuiThemeProvider>\r\n              </Paper>\r\n            </Grid>\r\n            {showAddForm && (<Grid item xs={12}>\r\n              <Paper className={classes.paper}>\r\n                <MuiThemeProvider theme={defaultTheme}>\r\n                  <AddEnseignantsForm />\r\n                </MuiThemeProvider>\r\n              </Paper>\r\n            </Grid>)}\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\n","import React, {useState,useEffect} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { red, green } from \"@material-ui/core/colors\";\r\nimport {\r\n  Container,\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  TextField,\r\n  InputAdornment,\r\n  SvgIcon,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Avatar,\r\n  MuiThemeProvider,\r\n} from \"@material-ui/core\";\r\nimport { Search as SearchIcon } from \"react-feather\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport clsx from \"clsx\";\r\n\r\n//themes\r\nimport {\r\n  defaultTheme,\r\n  bootstraptheme,\r\n  cyclesTheme,\r\n} from \"../../../../themes/palettes\";\r\n// components\r\nimport CustomTable from \"../../../shared/tables/CustomTable\";\r\nimport Page from \"../../../shared/Page\";\r\nimport LoadingComponent from '../../../shared/LoadingComponent' \r\n\r\n// Data\r\nimport { ordersHeadCells,customersHeadCells} from \"../../../data/tableHeads\";\r\nimport ManagerService from \"../../../../services/managerServices\";\r\n\r\nconst actions = [\r\n  {\r\n    color: \"secondary\",\r\n    label: \"Desabonner\",\r\n    clickHandler: (id) => console.log(id),\r\n    startIcon: RemoveIcon,\r\n  },\r\n];\r\n\r\nconst activeInactiveTheme = createMuiTheme({\r\n  palette: {\r\n    primary: green,\r\n    secondary: red,\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(2),\r\n  },\r\n  grid: {\r\n    margin: theme.spacing(2),\r\n    padding: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  chip: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\nexport default function Abonnes(props) {\r\n  // Styles\r\n  const classes = useStyles(bootstraptheme);\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  \r\n      // States\r\n     \r\n    const [customersRows,setCutomersRows]=useState([]);   // Original rows \r\n    const [filtredCustomersRows,setFiltredCutomersRows]=useState([]);   // Filtered rows after search changes\r\n    const [ordersRows,setOrdersRows]=useState([]);   // Original rows \r\n  \r\n    \r\n\r\n  const [isLoading, setisLoading] = useState(false);\r\n  \r\n  useEffect(()=>{\r\n    setisLoading(true);\r\n    ManagerService.getAllAbonnes({adminType: \"manager\"}).then(\r\n      res=>{ \r\n        const rows=res.clients.map((row)=>{\r\n          const modified=row.eleves.map((eleve)=>({\r\n            \r\n            avatar: <Avatar alt={eleve.nom}  src={eleve.avatar} />,\r\n            label:eleve.nom,\r\n            variant:\"outlined\" ,\r\n            component:Link ,\r\n            to:`/eleves?eleveId=${eleve.id}`,\r\n            clickable : true\r\n          }));\r\n          \r\n          return {\r\n            ...row,\r\n            eleves: modified,\r\n            status: {\r\n              color :row.is_abonne?\"primary\":\"secondary\",\r\n              label: row.is_abonne?\"Actif\":\"Non Actif\"}\r\n          }\r\n          \r\n        })\r\n        setFiltredCutomersRows(rows);\r\n        setCutomersRows(rows);\r\n        setisLoading(false);\r\n\r\n      },\r\n      err=>{ \r\n        console.log(err);\r\n        setisLoading(false);\r\n\r\n      }\r\n    )\r\n      // Fetch all abonnements\r\n    ManagerService.getAllAbonnements({adminType: \"manager\"}).then(\r\n      res=>{ \r\n        console.log(res);\r\n        const rows=res.abonnements.map((row)=>{\r\n          \r\n          \r\n          return {\r\n            ...row,\r\n            type: row.type[0]===\"3\"?\"3 classes\":row.type[0]===\"1\"? \"1 classe\": \"Autre\",\r\n            owner: row.client.username,\r\n            classesLabels:row.classes.map(el=>({\r\n              label: el.codeCl\r\n\r\n            })),\r\n            status: {\r\n              color :row.is_abonne?\"primary\":\"secondary\",\r\n              label: row.is_abonne?\"Actif\":\"Expir\"}\r\n          }\r\n          \r\n        })\r\n        setOrdersRows(rows);\r\n        setisLoading(false);\r\n\r\n      },\r\n      err=>{ \r\n        console.error(\"An Error occured when fetching abonnements :\",err);\r\n        setisLoading(false);\r\n\r\n      }\r\n    )\r\n\r\n\r\n  },[])\r\n\r\n    // SearcheBar handle changes\r\n  const handleSearchInputChange=(e)=>{\r\n\r\n    if(e.target.value.length<4) {\r\n      setFiltredCutomersRows(customersRows); \r\n      return;\r\n    }\r\n    const value=e.target.value;\r\n    setFiltredCutomersRows(\r\n      customersRows.filter((row)=> ((row.nom && row.nom.indexOf(value)!==-1) || (row.prenom && row.prenom.indexOf(value)!==-1) ) )\r\n    );\r\n\r\n  }  \r\n  return (\r\n    <Page className={classes.root} title=\"Abonnements\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          <Grid container spacing={3}>\r\n            {/* Derniers abonnements */}\r\n            <MuiThemeProvider theme={activeInactiveTheme}>\r\n              <Grid item container className={`${classes.grid}`} xs={12}>\r\n                <Grid item xs={12} sm={12}>\r\n                  <LoadingComponent\r\n                   component={<Paper className={fixedHeightPaper}>\r\n                    <CustomTable\r\n                      tableTitle={\"Liste des derniers abonnements\"}\r\n                      headCells={ordersHeadCells}\r\n                      rows={ordersRows}\r\n                      indexName={\"code_achat\"}\r\n                      withStartCheckbox={true}\r\n                      withActions={false}\r\n                      innerTheme={cyclesTheme}\r\n                    />\r\n                  </Paper>}\r\n                  controller={isLoading}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </MuiThemeProvider>\r\n            {/* Top abonnes */}\r\n            {/* <MuiThemeProvider theme={activeInactiveTheme}>\r\n              <Grid\r\n                item\r\n                container\r\n                className={`${classes.grid}`}\r\n                xs={12}\r\n                spacing={3}\r\n              >\r\n                <Grid item xs={12} sm={8}>\r\n                <LoadingComponent\r\n                   component={<Paper className={fixedHeightPaper}>\r\n                    <CustomTable\r\n                      tableTitle={\"Les abonnes les plus fidles\"}\r\n                      headCells={customersHeadCells}\r\n                      rows={customersRows}\r\n                      indexName={\"id\"}\r\n                      withStartCheckbox={false}\r\n                      withActions={false}\r\n                      innerTheme={cyclesTheme}\r\n                    />\r\n                  </Paper>}\r\n                  controller={isLoading}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                  <Typography variant=\"h6\">Carte Informative</Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </MuiThemeProvider> */}\r\n\r\n            {/* Recherche d'abonnes */}\r\n            <Grid item xs={12}>\r\n              <Box mt={3}>\r\n                <Card>\r\n                  <CardContent>\r\n                    <Box maxWidth={500}>\r\n                      <TextField\r\n                        fullWidth\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                              <SvgIcon fontSize=\"small\" color=\"action\">\r\n                                <SearchIcon />\r\n                              </SvgIcon>\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                        placeholder=\"Rechercher un abonn ...\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e)=>handleSearchInputChange(e)}\r\n                      />\r\n                    </Box>\r\n                  </CardContent>\r\n                </Card>\r\n              </Box>\r\n            </Grid>\r\n\r\n            {/* Liste des abonnes */}\r\n            <MuiThemeProvider theme={activeInactiveTheme}>\r\n              <Grid item xs={12}>\r\n              <LoadingComponent\r\n                   component={<Paper className={classes.paper}>\r\n                  <CustomTable\r\n                    tableTitle={\"Tous les abonnes\"}\r\n                    headCells={customersHeadCells}\r\n                    rows={filtredCustomersRows}\r\n                    indexName={\"id\"}\r\n                    withActions={true}\r\n                    actionButtons={actions}\r\n                    innerTheme={cyclesTheme}\r\n                  />\r\n                </Paper>}\r\n                controller={isLoading}\r\n                />\r\n              </Grid>\r\n            </MuiThemeProvider>\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport MUIDataTable from \"mui-datatables\";\r\n\r\n//themes\r\nimport { defaultTheme } from \"../../../../themes/palettes\";\r\n\r\n// components\r\nimport Page from \"../../../shared/Page\";\r\nimport LoadingComponent from \"../../../shared/LoadingComponent\";\r\n\r\n// Data\r\nimport { elevesHeadCells } from \"../../../data/tableHeads\";\r\nimport ManagerService from \"../../../../services/managerServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n}));\r\nexport default function Eleves(props) {\r\n  const classes = useStyles();\r\n\r\n  const dataColumns = elevesHeadCells.map((el) => el.label);\r\n\r\n\r\n  // States\r\n  const [filtredElevesRows, setFiltredElevesRows] = useState([]);\r\n  const [isLoading, setisLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setisLoading(true);\r\n    ManagerService.getAllEleves({ adminType: \"manager\" }).then(\r\n      (res) => {\r\n        console.log(res)\r\n\r\n        setFiltredElevesRows(\r\n          res.eleves.map((row) => \r\n          elevesHeadCells.map((column) => \r\n          column.id===\"classe\"?row.classe.codeCl:row[column.id]\r\n          ))\r\n          );\r\n          setisLoading(false);\r\n      },\r\n      (err) => {\r\n        setisLoading(false);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Eleves\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <LoadingComponent\r\n                component={\r\n                  <Paper className={classes.paper}>\r\n                    <MUIDataTable\r\n                      title=\"Liste des lves\"\r\n                      data={filtredElevesRows}\r\n                      columns={dataColumns}\r\n                      options={{\r\n                        filterType: \"checkbox\",\r\n                      }}\r\n                    />\r\n                  </Paper>\r\n                }\r\n                controller={isLoading}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\n","import tinycolor from \"tinycolor2\";\r\nimport {createMuiTheme} from \"@material-ui/core/styles\"\r\nconst primary = \"#536DFE\";\r\nconst secondary = \"#FF5C93\";\r\nconst warning = \"#FFC260\";\r\nconst success = \"#3CD4A0\";\r\nconst info = \"#9013FE\";\r\n\r\nconst lightenRate = 7.5;\r\nconst darkenRate = 15;\r\n\r\nexport default createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: primary,\r\n      light: tinycolor(primary)\r\n        .lighten(lightenRate)\r\n        .toHexString(),\r\n      dark: tinycolor(primary)\r\n        .darken(darkenRate)\r\n        .toHexString(),\r\n    },\r\n    secondary: {\r\n      main: secondary,\r\n      light: tinycolor(secondary)\r\n        .lighten(lightenRate)\r\n        .toHexString(),\r\n      dark: tinycolor(secondary)\r\n        .darken(darkenRate)\r\n        .toHexString(),\r\n      contrastText: \"#FFFFFF\",\r\n    },\r\n    warning: {\r\n      main: warning,\r\n      light: tinycolor(warning)\r\n        .lighten(lightenRate)\r\n        .toHexString(),\r\n      dark: tinycolor(warning)\r\n        .darken(darkenRate)\r\n        .toHexString(),\r\n    },\r\n    success: {\r\n      main: success,\r\n      light: tinycolor(success)\r\n        .lighten(lightenRate)\r\n        .toHexString(),\r\n      dark: tinycolor(success)\r\n        .darken(darkenRate)\r\n        .toHexString(),\r\n    },\r\n    info: {\r\n      main: info,\r\n      light: tinycolor(info)\r\n        .lighten(lightenRate)\r\n        .toHexString(),\r\n      dark: tinycolor(info)\r\n        .darken(darkenRate)\r\n        .toHexString(),\r\n    },\r\n    text: {\r\n      primary: \"#4A4A4A\",\r\n      secondary: \"#6E6E6E\",\r\n      hint: \"#B9B9B9\",\r\n    },\r\n    background: {\r\n      default: \"#F6F7FF\",\r\n      light: \"#F3F5FF\",\r\n    },\r\n  },\r\n  customShadows: {\r\n    widget:\r\n      \"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n    widgetDark:\r\n      \"0px 3px 18px 0px #4558A3B3, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n    widgetWide:\r\n      \"0px 12px 33px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n  },\r\n  overrides: {\r\n    MuiBackdrop: {\r\n      root: {\r\n        backgroundColor: \"#4A4A4A1A\",\r\n      },\r\n    },\r\n    MuiMenu: {\r\n      paper: {\r\n        boxShadow:\r\n          \"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n      },\r\n    },\r\n    MuiSelect: {\r\n      icon: {\r\n        color: \"#B9B9B9\",\r\n      },\r\n    },\r\n    MuiListItem: {\r\n      root: {\r\n        \"&$selected\": {\r\n          backgroundColor: \"#F3F5FF !important\",\r\n          \"&:focus\": {\r\n            backgroundColor: \"#F3F5FF\",\r\n          },\r\n        },\r\n      },\r\n      button: {\r\n        \"&:hover, &:focus\": {\r\n          backgroundColor: \"#F3F5FF\",\r\n        },\r\n      },\r\n    },\r\n    MuiTouchRipple: {\r\n      child: {\r\n        backgroundColor: \"white\",\r\n      },\r\n    },\r\n    MuiTableRow: {\r\n      root: {\r\n        height: 56,\r\n      },\r\n    },\r\n    MuiTableCell: {\r\n      root: {\r\n        borderBottom: \"1px solid rgba(224, 224, 224, .5)\",\r\n      },\r\n      head: {\r\n        fontSize: \"0.95rem\",\r\n      },\r\n      body: {\r\n        fontSize: \"0.95rem\",\r\n      },\r\n    },\r\n  },\r\n});\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Grid,\r\n  Container,\r\n  Button,\r\n  IconButton,\r\n  Card,\r\n  CardHeader,\r\n  CardActions,\r\n  CardContent,\r\n  Divider,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { InputAdornment } from \"@material-ui/core\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport * as Yup from \"yup\";\r\n// import { ToastContainer, toast } from \"react-toastify\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { ManagerActions as Actions } from \"../../../../redux/actions/\";\r\n\r\n// components\r\nimport Page from \"../../../shared/Page\";\r\nimport ProfileAvatar from \"../../../shared/ProfileAvatar\";\r\nimport CustomForm from \"../../../shared/CustomForm\";\r\nimport LoadingComponent from \"../../../shared/LoadingComponent\";\r\nimport tinyTheme from \"../../../../themes/tinyTheme\";\r\nimport ToasterSnackBar from \"../../../shared/notifiers/toaster/ToasterSnackBar\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n  card: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    height: 100,\r\n    width: 100,\r\n    color: theme.palette.secondary.contrastText,\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  nom: Yup.string()\r\n    .max(20, \"Le nom de famille ne doit pas dpasser 20 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  prenom: Yup.string()\r\n    .max(50, \"Le prnom ne doit pas dpasser 50 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  email: Yup.string()\r\n    .email(\"Adresse Email invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  phone: Yup.string()\r\n    .trim()\r\n    .matches(/^0[5679]\\d{8}$/, \"Numro de tlephone invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  newpassword: Yup.string(),\r\n  currentpassword: Yup.string()\r\n  .test('passwords-match', \"Vous devez saisir le mot de passe actuel\", function(value) {\r\n    // console.log(this.parent);\r\n    return !this.parent.newpassword || (this.parent.newpassword === \"\") || (this.parent.newpassword !== \"\" && value && value!==\"\");\r\n    // return false;\r\n  }),\r\n});\r\nconst nom = {\r\n  type: \"input\",\r\n  props: { name: \"nom\", required: true, type: \"text\", label: \"Nom\" },\r\n};\r\nconst prenom = {\r\n  type: \"input\",\r\n  props: { name: \"prenom\", required: true, type: \"text\", label: \"Prenom\" },\r\n};\r\nconst email = {\r\n  type: \"input\",\r\n  props: { name: \"email\", required: true, type: \"email\", label: \"Email\" },\r\n};\r\nconst phone = {\r\n  type: \"input\",\r\n  props: { name: \"phone\", required: true, type: \"tel\", label: \"Tlephone\" },\r\n};\r\n\r\nconst constructPasswordField = (params) => ({\r\n  endAdornment: (\r\n    <InputAdornment position=\"end\">\r\n      <IconButton\r\n        aria-label=\"toggle password visibility\"\r\n        onClick={params.handleClickShowPassword}\r\n      >\r\n        {params.showPassword ? <Visibility /> : <VisibilityOff />}\r\n      </IconButton>\r\n    </InputAdornment>\r\n  ),\r\n});\r\n\r\nexport const Profile = ({ className, cardProps, ...props }) => {\r\n  const classes = useStyles();\r\n  const user = props.user;\r\n  // const {username,nom,prenom,email,image,phone,_id}\r\n    // States\r\n  const [isLoding, setisLoding] = useState(false);\r\n  const [state, setState] = useState({...user, newpassword:\"\",currentpassword: \"\"});\r\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false);\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n\r\n  // Define notification state\r\n  const [alertOpen, setAlertOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({\r\n    severity : \"success\",\r\n    message: 'Profile mis  jours avec succs'\r\n  });\r\n  const toasterContent = (\r\n    <Alert variant=\"filled\" severity={alertProps.severity}>\r\n      {alertProps.message}\r\n    </Alert>\r\n  );\r\n  const closeToaster = () => setAlertOpen(false);\r\n  // const [progressValue, setProgressValue] = useState(0);\r\n  // Update field's initial values\r\n  nom.props.value = state.nom;\r\n  prenom.props.value = state.prenom;\r\n  email.props.value = state.email;\r\n  phone.props.value = state.phone;\r\n\r\n    // Show/Hide password trigger\r\n  const handleShowPassword = (name) => {\r\n    if (name === \"currentpassword\")\r\n      setShowCurrentPassword(!showCurrentPassword);\r\n    if (name === \"newpassword\") setShowNewPassword(!showNewPassword);\r\n  };\r\n  const currentpassword = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"currentpassword\",\r\n      type: showCurrentPassword ? \"text\" : \"password\",\r\n      label: \"Mot de passe actuel\",\r\n      InputProps: constructPasswordField({\r\n        showPassword: showCurrentPassword,\r\n        handleClickShowPassword: (e) => handleShowPassword(\"currentpassword\"),\r\n      }),\r\n    },\r\n  };\r\n  const newpassword = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"newpassword\",\r\n      type: showNewPassword ? \"text\" : \"password\",\r\n      label: \"Nouveau mot de passe\",\r\n      InputProps: constructPasswordField({\r\n        showPassword: showNewPassword,\r\n        handleClickShowPassword: (e) => handleShowPassword(\"newpassword\"),\r\n      }),\r\n    },\r\n  };\r\n  \r\n\r\n  // Define the shape of the form\r\n  const formStructure = [\r\n    [nom, prenom], // This is a row in the form grid\r\n    [email, phone],\r\n    [currentpassword, newpassword],\r\n  ];\r\n\r\n  const handleLoadImg=(event)=>{\r\n    const file = event.currentTarget.files[0];\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      const fileToAdd = {\r\n        file: file,\r\n        data: fileReader.result,\r\n        isUploading: false,\r\n      };\r\n      const changesObj={\r\n        ...state,\r\n        imgFile: fileToAdd,\r\n      };\r\n      setState(changesObj);\r\n\r\n    };\r\n    fileReader.onerror = () => {\r\n      console.log(\"Une est s'est produite lors de chargement de l'image depuis le disque\");\r\n    };\r\n\r\n    fileReader.readAsDataURL(file);\r\n\r\n  }\r\n\r\n\r\n  const handleChange = (event) => {\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  \r\n\r\n  const handleSubmit = (data) => {\r\n      // Grap only changed fields\r\n    const changes=Object.assign({}, ...(Object.keys(user).map((key)=>{\r\n      if(data[key] && user[key]!==data[key] && data[key]!==\"\")\r\n      return {\r\n        [key]: data[key]\r\n      } \r\n      else return undefined\r\n    }).filter((el)=> !(typeof el===\"undefined\"))));\r\n\r\n    if(state.imgFile)\r\n      changes.image=state.imgFile.file;\r\n\r\n    if(data.currentpassword && data.newpassword){\r\n      changes.oldPassword=data.currentpassword;\r\n      changes.newPassword=data.newpassword;\r\n    }\r\n    // console.log(changes);\r\n\r\n  \r\n    \r\n      // If no field is changed, do not do anything, quit\r\n    if (! Object.keys(changes).length) return;\r\n    changes.id=user.id\r\n\r\n    setisLoding(true)\r\n    props.updateProfile({...changes,adminType: \"manager\",id: user.id}).then(\r\n      res=>{\r\n        setAlertProps({\r\n                severity : \"success\",\r\n                message: 'Profile mis  jours avec succs'\r\n              });\r\n              setAlertOpen(true)\r\n              setisLoding(false)\r\n        \r\n      },\r\n      err=>{\r\n        // props.updateProfile({ type: \"UPDATE_PROFILE_FAILED\", err });\r\n            setAlertProps({\r\n                    severity:'error',\r\n                    message : `Une erreur s'est produite ${err.message ? err.message:\"\"}`\r\n                  });\r\n            setAlertOpen(true);\r\n            setisLoding(false)\r\n\r\n      }\r\n      )\r\n   \r\n  };\r\n  return (\r\n    <Page className={classes.root} title=\"Compte\">\r\n      <Container maxWidth=\"lg\">\r\n        <ToasterSnackBar\r\n          open={alertOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={toasterContent}\r\n        />\r\n\r\n        <Grid container spacing={3}>\r\n          <Grid item lg={4} md={6} xs={12}>\r\n            <Card\r\n              //   className={clsx(classes.root, className)}\r\n              {...cardProps}\r\n            >\r\n              <CardContent>\r\n                <ProfileAvatar\r\n                  firstname={user.nom}\r\n                  lastname={user.prenom}\r\n                  avatar={(state.imgFile && state.imgFile.data ) || user.image}\r\n                  descriptionTitle={user.jobTitle}\r\n                  classes={classes}\r\n                />\r\n              </CardContent>\r\n              <Divider />\r\n              <CardActions>\r\n              <input \r\n                type=\"file\" \r\n                id=\"profilePicture\" name=\"profilePicture\" \r\n                hidden\r\n                accept=\"image/png, image/jpeg\"\r\n                onChange={handleLoadImg}\r\n                />\r\n                <Button component=\"label\"  htmlFor=\"profilePicture\" \r\n                color=\"primary\" fullWidth variant=\"text\"\r\n                >\r\n                  Modifier votre avatar\r\n                </Button>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item lg={8} md={6} xs={12}>\r\n            <Card>\r\n              <CardHeader\r\n                subheader=\"Vous pouvez modifier vos informations\"\r\n                title=\"Paramtres du profile\"\r\n              />\r\n              <Divider />\r\n              <MuiThemeProvider theme={tinyTheme}>\r\n                <LoadingComponent \r\n                component={<CustomForm\r\n                  validationSchema={validationSchema}\r\n                  fieldsHiearchy={formStructure}\r\n                  initialState={state}\r\n                  onChange={handleChange}\r\n                  onSubmit={handleSubmit}\r\n                  submitLabel={\"Mettre  jours\"}\r\n                />}\r\n                controller={isLoding}\r\n                />\r\n              </MuiThemeProvider>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Page>\r\n  );\r\n};\r\n\r\nProfile.propTypes = {\r\n  className: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // user: state.managerReducer.user,\r\n  user: state.adminReducer.user,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateProfile: (params) => dispatch(Actions.updateProfile(params)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Fab, Box, LinearProgress, Typography } from \"@material-ui/core\";\r\n\r\nfunction CustomUploaderButton({\r\n  name,\r\n  inputValue,\r\n  id,\r\n  btnColor,\r\n  btnLabel,\r\n  btnSize,\r\n  setParentInput,\r\n  clickhandler,\r\n  handleProgress,\r\n  withProgress,\r\n  ...props\r\n}) {\r\n  const [input, setInput] = useState(null);\r\n\r\n  const handleUploadClick = (e) => {\r\n    const file = e.currentTarget.files[0];\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      const fileToAdd = {\r\n        file: file,\r\n        data: fileReader.result,\r\n        isUploading: false,\r\n        progress: 0,\r\n      };\r\n      console.log(\"File object assigned\");\r\n      //Add file to both inner and parent State\r\n      setParentInput(fileToAdd);\r\n    };\r\n    fileReader.onabort = () => {\r\n      alert(\"Reading Aborted\");\r\n    };\r\n    fileReader.onerror = () => {\r\n      console.log(\"Error occuren when Uploading file from disk\");\r\n    };\r\n\r\n    fileReader.readAsDataURL(file);\r\n  };\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\" width=\"100%\">\r\n      {withProgress && (\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n          <Box width=\"100%\" mr={1}>\r\n            <LinearProgress\r\n              variant=\"determinate\"\r\n              color={btnColor || \"primary\"}\r\n              {...props}\r\n            />\r\n          </Box>\r\n          <Box minWidth={35}>\r\n            <Typography variant=\"body2\" color=\"textSecondary\">\r\n              {`${Math.round(props.value)}%`}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n      )}\r\n      <Box\r\n        display=\"flex\"\r\n        alignSelf=\"center\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <label style={{ textAlign: \"center\", width: \"100%\" }}>\r\n          <input\r\n            {...props.inputProps}\r\n            style={{ display: \"none\" }}\r\n            id={id || name}\r\n            name={name}\r\n            type=\"file\"\r\n            ref={(input) => setInput(input)}\r\n            value={inputValue || \"\"}\r\n            onChange={(e) => handleUploadClick(e)}\r\n            onClick={(e) => console.log(e.target.value)}\r\n          />\r\n          <Fab\r\n            color={btnColor || \"primary\"}\r\n            size={btnSize || \"small\"}\r\n            // component=\"span\"\r\n            aria-label=\"add\"\r\n            variant=\"extended\"\r\n            onClick={(e) => input.click()}\r\n          >\r\n            {btnLabel}\r\n          </Fab>\r\n        </label>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nCustomUploaderButton.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  inputValue: PropTypes.string,\r\n  btnLabel: PropTypes.string.isRequired,\r\n  //   clickhandler: PropTypes.func.isRequired,\r\n  setParentInput: PropTypes.func.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default CustomUploaderButton;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  Box,\r\n  Container,\r\n  Card,\r\n  CardMedia,\r\n  CardHeader,\r\n  CardActions,\r\n  CardContent,\r\n  Divider,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport * as Yup from \"yup\";\r\n\r\n// components\r\nimport CustomForm from \"../../../../shared/CustomForm\";\r\nimport CustomUploadButton from \"../../../../shared/CustomUploaderButton\";\r\nimport tinyTheme from \"../../../../../themes/tinyTheme\";\r\nimport ToasterSnackBar from \"../../../../shared/notifiers/toaster/ToasterSnackBar\";\r\n\r\n\r\nimport managerService from \"../../../../../services/managerServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n  card: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    height: 200,\r\n    width: 200,\r\n  },\r\n  previewBox: {\r\n    minHeight: 200,\r\n    minWidth: 200,\r\n  },\r\n  thumbnail: {\r\n    maxHeight: 60,\r\n    maxWidth: 60,\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  titre: Yup.string()\r\n    .max(50, \"Le titre ne doit pas dpasser 20 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  sponsor: Yup.string()\r\n    .max(50, \"Le nom de la compagnie ne doit pas dpasser 50 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  type: Yup.string().required(\"Champs Obligatoire\"),\r\n});\r\n\r\nexport const UpdatePub = ({ className, cardProps,oldPubProps, ...props }) => {\r\n  const classes = useStyles();\r\n\r\n  \r\n  const [newPubState, setNewPubState] = useState({\r\n    titre: oldPubProps.titre,\r\n    sponsor: oldPubProps.sponsor,\r\n    type: oldPubProps.type,\r\n  });\r\n  const [progressValue, setProgressValue] = useState(0);\r\n  const [imageName, setImageName] = useState(\"\");\r\n  const [currentFile, setCurrentFile] = useState(null);\r\n\r\n  const inputChangeHandler = (file) => {\r\n    setCurrentFile(file);\r\n    // setImageName();\r\n  };\r\n\r\n  // Define notification state\r\n  const [toasterOpen, setToasterOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({\r\n    severity: \"success\",\r\n    message: \"Annonce mise  jours avec succs\",\r\n  });\r\n\r\n  const closeToaster = () => setToasterOpen(false);\r\n\r\n  const titreField = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"titre\",\r\n      required: true,\r\n      type: \"text\",\r\n      label: \"Titre de l'annonce\",\r\n      value: newPubState.titre,\r\n    },\r\n  };\r\n  const sponsorField = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"sponsor\",\r\n      required: true,\r\n      type: \"text\",\r\n      label: \"Compagnie\",\r\n      value: newPubState.sponsor,\r\n    },\r\n  };\r\n  const typeAdField = {\r\n    type: \"select\",\r\n    props: {\r\n      name: \"type\",\r\n      required: true,\r\n      select: true,\r\n      label: \"Type de la banire publicitaire\",\r\n      value: newPubState.type,\r\n    },\r\n    children: [\r\n      {\r\n        key: 1,\r\n        value: 1,\r\n        label: \"Type 1 : Petite annonce latrale\",\r\n      },\r\n      { key: 2, value: 2, label: \"Type 2 : Large annonce en bas\" },\r\n      { key: 3, value: 3, label: \"Type 3 : Large annonce libre\" },\r\n    ],\r\n  };\r\n\r\n  // Define the shape of the form\r\n  const formStructure = [\r\n    [titreField, sponsorField], // This is a row in the form grid\r\n    [typeAdField],\r\n  ];\r\n\r\n  const resetStates = () => {\r\n    setProgressValue(0);\r\n    setNewPubState({\r\n      titre: \"\",\r\n      sponsor: \"\",\r\n      type: \"type1\",\r\n    });\r\n    setCurrentFile(null);\r\n    setImageName(\"\");\r\n  };\r\n\r\n  // Define handlers\r\n  const sendUpdate = () => {\r\n    const changes={}\r\n    Object.keys(newPubState).forEach(key=>{\r\n      if (newPubState[key]!== oldPubProps[key])\r\n      changes[key]=newPubState[key]\r\n    })\r\n    if(currentFile && currentFile!==null){\r\n      changes.image=currentFile.file\r\n\r\n      //Update file (Change its state to uploading)\r\n      setCurrentFile({\r\n        ...currentFile,\r\n        isUploading: true,\r\n        progress: 0,\r\n      });\r\n     \r\n    }\r\n    changes.id=oldPubProps._id\r\n\r\n    managerService\r\n      .updatePub(\r\n        { ...changes, adminType: \"manager\" },\r\n        {\r\n          onUploadProgress: (progressEvent) => {\r\n            setProgressValue(\r\n              (progressEvent.loaded / progressEvent.total) * 100\r\n            );\r\n          },\r\n        }\r\n      )\r\n      .then(\r\n        (res) => {\r\n          // then print response status\r\n          console.log(`Server result : ${res}`);\r\n\r\n          console.log(\"File successfullly uploaded.\");\r\n          // Display notification snackbar toaster\r\n          setTimeout(() => {\r\n            setProgressValue(0);\r\n          }, 3000);\r\n          setAlertProps({\r\n            severity: \"success\",\r\n            message: \"Annonce mise  jours avec succs\",\r\n          });\r\n          setToasterOpen(true);\r\n          resetStates();\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          setAlertProps({\r\n            severity: \"error\",\r\n            message: `Une erreur s'est produite ${\r\n              err.message ? err.message : err\r\n            }`,\r\n          });\r\n          setToasterOpen(true);\r\n        }\r\n      );\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setNewPubState({\r\n      ...newPubState,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  const handleSubmit = (data) => {\r\n    // Redux update action dispatch\r\n    sendUpdate();\r\n  };\r\n  return (\r\n      <Container maxWidth=\"lg\">\r\n        <ToasterSnackBar\r\n          open={toasterOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={\r\n            <Alert variant=\"filled\" severity={alertProps.severity}>\r\n              {alertProps.message}\r\n            </Alert>\r\n          }\r\n        />\r\n\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item lg={4} md={6} xs={12}>\r\n            <Card\r\n              //   className={clsx(classes.root, className)}\r\n              {...cardProps}\r\n            >\r\n              <CardContent>\r\n                <Box justifyContent=\"center\" alignItems=\"center\" display=\"flex\">\r\n                  <CardMedia image={\"assets/Dummy/Avatars/avatar_4.png\"}>\r\n                    <Box\r\n                      justifyContent=\"center\"\r\n                      alignItems=\"center\"\r\n                      display=\"flex\"\r\n                      flexDirection=\"column\"\r\n                      bgcolor=\"lightgrey\"\r\n                      className={classes.previewBox}\r\n                    >\r\n                      <Typography\r\n                        align=\"center\"\r\n                        variant=\"h6\"\r\n                        color=\"textSecondary\"\r\n                      >\r\n                        {newPubState.type === 1 && \"Type 1\"}\r\n                        {newPubState.type === 2 && \"Type 2\"}\r\n                        {newPubState.type === 3 && \"Type 3\"}\r\n                      </Typography>\r\n                      <Typography\r\n                        align=\"center\"\r\n                        variant=\"h5\"\r\n                        color=\"textSecondary\"\r\n                      >\r\n                        {newPubState.type === 1 && \"365 X 720\"}\r\n                        {newPubState.type === 2 && \"480 X 844\"}\r\n                        {newPubState.type === 3 && \"560 X 1024\"}\r\n                      </Typography>\r\n                    </Box>\r\n                  </CardMedia>\r\n                </Box>\r\n              </CardContent>\r\n              <Divider />\r\n              <CardActions>\r\n                <CustomUploadButton\r\n                  name=\"upload-ad-image-input\"\r\n                  inputValue={imageName}\r\n                  btnLabel=\"Charger la photo de l'annonce\"\r\n                  setParentInput={inputChangeHandler}\r\n                  withProgress\r\n                  value={progressValue}\r\n                />\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item lg={8} md={6} xs={12}>\r\n            <Card>\r\n              <CardHeader\r\n                subheader=\"Modifiez les champs souhaits\"\r\n                title=\"Editer l'annonce\"\r\n              />\r\n              <Divider />\r\n              <MuiThemeProvider theme={tinyTheme}>\r\n                <CustomForm\r\n                  validationSchema={validationSchema}\r\n                  fieldsHiearchy={formStructure}\r\n                  initialState={newPubState}\r\n                  onChange={handleChange}\r\n                  onSubmit={handleSubmit}\r\n                  submitLabel={\"Mettre  jours\"}\r\n                />\r\n              </MuiThemeProvider>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n  );\r\n};\r\n\r\nexport default UpdatePub;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  Box,\r\n  Container,\r\n  IconButton,\r\n  Paper,\r\n  Card,\r\n  CardMedia,\r\n  CardHeader,\r\n  CardActions,\r\n  CardContent,\r\n  Divider,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Cancel as CancelIcon, Edit } from \"@material-ui/icons\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport * as Yup from \"yup\";\r\n\r\n// components\r\nimport Page from \"../../../../shared/Page\";\r\nimport CustomForm from \"../../../../shared/CustomForm\";\r\nimport CustomUploadButton from \"../../../../shared/CustomUploaderButton\";\r\nimport CustomTable from \"../../../../shared/tables/CustomTable\";\r\nimport tinyTheme from \"../../../../../themes/tinyTheme\";\r\nimport ToasterSnackBar from \"../../../../shared/notifiers/toaster/ToasterSnackBar\";\r\nimport Modal from \"../../../../shared/Modal\";\r\nimport UpdatePub from \"./Update\";\r\n// Data\r\nimport { pubsHeadCells } from \"../../../../data/tableHeads\";\r\nimport managerService from \"../../../../../services/managerServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n  card: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    height: 200,\r\n    width: 200,\r\n  },\r\n  previewBox: {\r\n    minHeight: 200,\r\n    minWidth: 200,\r\n  },\r\n  thumbnail: {\r\n    maxHeight: 60,\r\n    maxWidth: 60,\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  titre: Yup.string()\r\n    .max(50, \"Le titre ne doit pas dpasser 20 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  sponsor: Yup.string()\r\n    .max(50, \"Le nom de la compagnie ne doit pas dpasser 50 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  type: Yup.string().required(\"Champs Obligatoire\"),\r\n});\r\n\r\nexport const Pubs = ({ className, cardProps, ...props }) => {\r\n  const classes = useStyles();\r\n\r\n  const [pubsRows, setPubRows] = useState([]);\r\n  const [rows, setRows] = useState([]);\r\n\r\n  // Update pub modal states and handlers\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const modalActions = [\r\n    {\r\n      label: \"Annuler\",\r\n      clickHandler: (e) => {\r\n        setIsModalOpen(false);\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openUpdatePub = (pubId) => {\r\n   \r\n    setPubToUpdate(rows.find(row=>row._id===pubId))\r\n    setIsModalOpen(true);\r\n  };\r\n  const deletePub = (pubId) => {\r\n    managerService.deletePub({ id: pubId, adminType: \"manager\" }).then(\r\n      (res) => {\r\n        setAlertProps({\r\n          severity: \"success\",\r\n          message: \"Annonce supprime avec succs\",\r\n        });\r\n        setToasterOpen(true);\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        setAlertProps({\r\n          severity: \"error\",\r\n          message: `Une erreur s'est produite ${\r\n            err.message ? err.message : err\r\n          }`,\r\n        });\r\n        setToasterOpen(true);\r\n      }\r\n    );\r\n  };\r\n  const defaultState = {\r\n    titre: \"\",\r\n    sponsor: \"\",\r\n    type: 1,\r\n  };\r\n  const [newPubState, setNewPubState] = useState(defaultState);\r\n  const [pubToUpdate, setPubToUpdate] = useState(defaultState);\r\n  const [progressValue, setProgressValue] = useState(0);\r\n  const [imageName, setImageName] = useState(\"\");\r\n  const [currentFile, setCurrentFile] = useState(null);\r\n\r\n  const inputChangeHandler = (file) => {\r\n    setCurrentFile(file);\r\n    // setImageName();\r\n  };\r\n\r\n  // Define notification state\r\n  const [toasterOpen, setToasterOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({\r\n    severity: \"success\",\r\n    message: \"Annonce ajoute avec succs\",\r\n  });\r\n\r\n  const closeToaster = () => setToasterOpen(false);\r\n\r\n  const titreField = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"titre\",\r\n      required: true,\r\n      type: \"text\",\r\n      label: \"Titre de l'annonce\",\r\n      value: newPubState.titre,\r\n    },\r\n  };\r\n  const sponsorField = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"sponsor\",\r\n      required: true,\r\n      type: \"text\",\r\n      label: \"Compagnie\",\r\n      value: newPubState.sponsor,\r\n    },\r\n  };\r\n  const typeAdField = {\r\n    type: \"select\",\r\n    props: {\r\n      name: \"type\",\r\n      required: true,\r\n      select: true,\r\n      label: \"Type de la banire publicitaire\",\r\n      value: newPubState.type,\r\n    },\r\n    children: [\r\n      {\r\n        key: 1,\r\n        value: 1,\r\n        label: \"Type 1 : Petite annonce latrale\",\r\n      },\r\n      { key: 2, value: 2, label: \"Type 2 : Large annonce en bas\" },\r\n      { key: 3, value: 3, label: \"Type 3 : Large annonce libre\" },\r\n    ],\r\n  };\r\n  useEffect(() => {\r\n    managerService.getAllPubs({ adminType: \"manager\" }).then(\r\n      (res) => {\r\n        setRows(res.pubs);\r\n      },\r\n      (err) => {\r\n        console.log(\"Error when fetching all pubs : \", err);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (rows !== []) {\r\n      setPubRows(\r\n        rows.map((row) => ({\r\n          ...row,\r\n          thumbnail: (\r\n            <Paper variant=\"outlined\">\r\n              <img\r\n                src={row.image}\r\n                alt=\"Lien d'annonce bris\"\r\n                className={classes.thumbnail}\r\n              />\r\n            </Paper>\r\n          ),\r\n          actions: (\r\n            <>\r\n              <IconButton\r\n                title=\"Modifier\"\r\n                color=\"primary\"\r\n                onClick={(e) => openUpdatePub(row._id)}\r\n              >\r\n                <Edit />\r\n              </IconButton>\r\n              <IconButton\r\n                title=\"Supprimer\"\r\n                color=\"secondary\"\r\n                onClick={(e) => deletePub(row._id)}\r\n              >\r\n                <CancelIcon />\r\n              </IconButton>\r\n            </>\r\n          ),\r\n        }))\r\n      );\r\n    }\r\n  }, [rows]);\r\n\r\n  // Define the shape of the form\r\n  const formStructure = [\r\n    [titreField, sponsorField], // This is a row in the form grid\r\n    [typeAdField],\r\n  ];\r\n\r\n  const resetStates = () => {\r\n    setProgressValue(0);\r\n    setNewPubState({\r\n      titre: \"\",\r\n      sponsor: \"\",\r\n      type: \"type1\",\r\n    });\r\n    setCurrentFile(null);\r\n    setImageName(\"\");\r\n  };\r\n\r\n  // Define handlers\r\n  const onUpload = () => {\r\n\r\n    //Update file (Change its state to uploading)\r\n    setCurrentFile({\r\n      ...currentFile,\r\n      isUploading: true,\r\n      progress: 0,\r\n    });\r\n\r\n    managerService\r\n      .addPub(\r\n        { ...newPubState, image: currentFile.file, adminType: \"manager\" },\r\n        {\r\n          onUploadProgress: (progressEvent) => {\r\n            setProgressValue(\r\n              (progressEvent.loaded / progressEvent.total) * 100\r\n            );\r\n          },\r\n        }\r\n      )\r\n      .then(\r\n        (res) => {\r\n          // then print response status\r\n          console.log(`Server result : ${res}`);\r\n\r\n          console.log(\"File successfullly uploaded.\");\r\n          // Display notification snackbar toaster\r\n          setTimeout(() => {\r\n            setProgressValue(0);\r\n          }, 3000);\r\n          setAlertProps({\r\n            severity: \"success\",\r\n            message: \"Annonce ajoute avec succs\",\r\n          });\r\n          setToasterOpen(true);\r\n          resetStates();\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          setAlertProps({\r\n            severity: \"error\",\r\n            message: `Une erreur s'est produite ${\r\n              err.message ? err.message : err\r\n            }`,\r\n          });\r\n          setToasterOpen(true);\r\n        }\r\n      );\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setNewPubState({\r\n      ...newPubState,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  const handleSubmit = (data) => {\r\n    // Redux update action dispatch\r\n    onUpload();\r\n  };\r\n  return (\r\n    <Page className={classes.root} title=\"Espace Publicits\">\r\n      <Container maxWidth=\"lg\">\r\n        <ToasterSnackBar\r\n          open={toasterOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={\r\n            <Alert variant=\"filled\" severity={alertProps.severity}>\r\n              {alertProps.message}\r\n            </Alert>\r\n          }\r\n        />\r\n\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <CustomTable\r\n                tableTitle={\"Tables des annonces\"}\r\n                headCells={pubsHeadCells}\r\n                rows={pubsRows}\r\n                indexName={\"_id\"}\r\n                withStartCheckbox={true}\r\n                handleRowSelected={(e, n, defaultHandler) => {}}\r\n                withActions={false}\r\n              />\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={3}>\r\n          <Grid item lg={4} md={6} xs={12}>\r\n            <Card\r\n              //   className={clsx(classes.root, className)}\r\n              {...cardProps}\r\n            >\r\n              <CardContent>\r\n                <Box justifyContent=\"center\" alignItems=\"center\" display=\"flex\">\r\n                  <CardMedia image={\"assets/Dummy/Avatars/avatar_4.png\"}>\r\n                    <Box\r\n                      justifyContent=\"center\"\r\n                      alignItems=\"center\"\r\n                      display=\"flex\"\r\n                      flexDirection=\"column\"\r\n                      bgcolor=\"lightgrey\"\r\n                      className={classes.previewBox}\r\n                    >\r\n                      <Typography\r\n                        align=\"center\"\r\n                        variant=\"h6\"\r\n                        color=\"textSecondary\"\r\n                      >\r\n                        {newPubState.type === 1 && \"Type 1\"}\r\n                        {newPubState.type === 2 && \"Type 2\"}\r\n                        {newPubState.type === 3 && \"Type 3\"}\r\n                      </Typography>\r\n                      <Typography\r\n                        align=\"center\"\r\n                        variant=\"h5\"\r\n                        color=\"textSecondary\"\r\n                      >\r\n                        {newPubState.type === 1 && \"365 X 720\"}\r\n                        {newPubState.type === 2 && \"480 X 844\"}\r\n                        {newPubState.type === 3 && \"560 X 1024\"}\r\n                      </Typography>\r\n                    </Box>\r\n                  </CardMedia>\r\n                </Box>\r\n              </CardContent>\r\n              <Divider />\r\n              <CardActions>\r\n                <CustomUploadButton\r\n                  name=\"upload-ad-image-input\"\r\n                  inputValue={imageName}\r\n                  btnLabel=\"Charger la photo de l'annonce\"\r\n                  setParentInput={inputChangeHandler}\r\n                  withProgress\r\n                  // handleProgress={true}\r\n                  // progressChangeHandler={(value)=>handleProgressChange(value)}\r\n                  // clickhandler={(e)=> console.log(e.target)}\r\n                  value={progressValue}\r\n                />\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item lg={8} md={6} xs={12}>\r\n            <Card>\r\n              <CardHeader\r\n                subheader=\"Veuillez remplir les champs indiqus\"\r\n                title=\"Ajouter une nouvelle annonce\"\r\n              />\r\n              <Divider />\r\n              <MuiThemeProvider theme={tinyTheme}>\r\n                <CustomForm\r\n                  validationSchema={validationSchema}\r\n                  fieldsHiearchy={formStructure}\r\n                  initialState={newPubState}\r\n                  onChange={handleChange}\r\n                  onSubmit={handleSubmit}\r\n                  submitLabel={\"Ajouter\"}\r\n                />\r\n              </MuiThemeProvider>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container>\r\n          <Modal\r\n            open={isModalOpen}\r\n            title={\"Edition de publicit\"}\r\n            body={\r\n              <UpdatePub\r\n                className={className}\r\n                cardProps={cardProps}\r\n                oldPubProps={pubToUpdate}\r\n                {...props}\r\n              />\r\n            }\r\n            actions={modalActions}\r\n            handleClose={(e) => setIsModalOpen(false)}\r\n          />\r\n        </Grid>\r\n      </Container>\r\n    </Page>\r\n  );\r\n};\r\nexport default Pubs;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Paper,Box, Typography} from '@material-ui/core';\r\nimport {\r\n  Chart,\r\n  BarSeries,\r\n  Title,\r\n  ArgumentAxis,\r\n  ValueAxis,\r\n} from '@devexpress/dx-react-chart-material-ui';\r\nimport { Animation } from '@devexpress/dx-react-chart';\r\n\r\nconst COLORS=[\"#00429d\",\r\n\"#325ba8\",\r\n\"#4f75af\",\r\n\"#6990b3\",\r\n\"#83acb2\",\r\n\"#9dc9a9\",\r\n\"#90ee90\",\r\n\"#ffe3ca\",\r\n\"#ffc6b4\",\r\n\"#ffa89c\",\r\n\"#ff8781\",\r\n\"#ff6162\",\r\n\"#ff2812\",]\r\nfunction BarChart(props) {\r\n    const {chartData}= props\r\n    return (\r\n\r\n      \r\n          <Paper>\r\n            <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\">\r\n        <Typography variant=\"caption\" color=\"textSecondary\" align=\"center\">\r\n          {props.title}\r\n        </Typography>\r\n      </Box>\r\n            <Chart\r\n              data={chartData}\r\n            >\r\n              <ArgumentAxis />\r\n              <ValueAxis />\r\n    \r\n              <BarSeries\r\n                valueField={props.yName}\r\n                argumentField={props.xName}\r\n              />\r\n              {/* <Title text={props.title} /> */}\r\n              <Animation />\r\n            </Chart>\r\n          </Paper>\r\n      \r\n    )\r\n}\r\n\r\nBarChart.propTypes = {\r\n    chartData: PropTypes.array.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    xTitle: PropTypes.string.isRequired,\r\n    yTitle: PropTypes.string.isRequired,\r\n    xName: PropTypes.string.isRequired,\r\n    yName: PropTypes.string.isRequired,\r\n\r\n}\r\n\r\nexport default BarChart\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { PieChart, Pie, Cell, Tooltip } from \"recharts\";\r\nimport { Box, Typography } from \"@material-ui/core\";\r\n\r\nconst COLORS = [\r\n  \"#003f5c\",\r\n  \"#2f4b7c\",\r\n  \"#665191\",\r\n  \"#a05195\",\r\n  \"#d45087\",\r\n  \"#f95d6a\",\r\n  \"#ff7c43\",\r\n  \"#ffa600\",\r\n];\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent,\r\n  index,\r\n}) => { \r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"white\"\r\n      textAnchor={x > cx ? \"start\" : \"end\"}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {`${(percent * 100).toFixed(0)}%`}\r\n    </text>\r\n  );\r\n};\r\nconst CustomTooltip = ({ active, payload, label }) => {\r\n  if (active) {\r\n    return (\r\n      <Box\r\n        bgcolor=\"black\"\r\n        borderRadius=\"10px\"\r\n        px={2}\r\n        display=\"flex\"\r\n        flexDirection=\"row\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <p\r\n          style={{ color: \"white\" }}\r\n        >{`${payload[0].name} : ${payload[0].value}`}</p>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\nfunction PieChartComponent(props) {\r\n  // const {chartData}= props\r\n  const chartData =props.chartData.map((el) => ({\r\n    name: el._id,\r\n    value: el.count,\r\n  }));\r\n  return (\r\n    <Paper>\r\n      <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\">\r\n        <Typography variant=\"caption\" color=\"textSecondary\" align=\"center\">\r\n          {props.title}\r\n        </Typography>\r\n      </Box>\r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"row\"\r\n        justifyContent=\"center\"\r\n        justifyItems=\"center\"\r\n      >\r\n        <PieChart width={520} height={320}>\r\n          <Pie\r\n          isAnimationActive={false}\r\n            data={chartData}\r\n            cx={250}\r\n            cy={160}\r\n            labelLine={false}\r\n            label={renderCustomizedLabel}\r\n            outerRadius={120}\r\n            fill=\"#8884d8\"\r\n            dataKey=\"value\"\r\n          >\r\n            {chartData.map((entry, index) => (\r\n              <Cell\r\n                key={`cell-${index}`}\r\n                fill={COLORS[index % COLORS.length]}\r\n              />\r\n            ))}\r\n          </Pie>\r\n          <Tooltip content={<CustomTooltip />} />\r\n        </PieChart>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nPieChartComponent.propTypes = {\r\n  chartData: PropTypes.array.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  labelsTitle: PropTypes.string.isRequired,\r\n  valuesTitles: PropTypes.string.isRequired,\r\n  labelsName: PropTypes.string.isRequired,\r\n  valuesName: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default PieChartComponent;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, Box} from \"@material-ui/core\"\r\n    // Components\r\nimport BarChart from '../../../../shared/charts/BarChart'\r\nimport PieChart from '../../../../shared/charts/PieChart'\r\nimport LoadingComponent from '../../../../shared/LoadingComponent'\r\n\r\nfunction ElevesStatCharts(props) {\r\n    const {data}=props\r\n\r\n    return (\r\n        <Grid container spacing={3} >\r\n        <Grid item xs={12} sm={6}>\r\n\r\n        <Box display=\"flex\" justifyContent=\"center\" width=\"100%\">\r\n            <LoadingComponent\r\n            controller={props.isLoading}\r\n            component={\r\n                <PieChart \r\n                chartData={data.elevesBySexe}\r\n                labelsTitle={\"Sexe\"}\r\n                valuesTitles={\"Nombre\"}\r\n                valuesName={\"count\"}\r\n                labelsName={\"_id\"}\r\n                title={\"Distribution du genre des lves\"}\r\n                />\r\n            }\r\n            />\r\n            \r\n        </Box>\r\n        </Grid>\r\n\r\n\r\n        <Grid item xs={12} sm={6}>\r\n\r\n        <Box display=\"flex\" justifyContent=\"center\" width=\"100%\">\r\n            <LoadingComponent\r\n            controller={props.isLoading}\r\n            component={\r\n                <BarChart \r\n                chartData={data.elevesByAge}\r\n                xName={\"_id\"}\r\n                yName={\"count\"}\r\n                xTitle={\"Age\"}\r\n                yTitle={\"Nombre\"}\r\n               \r\n               \r\n                title={\"Rpartition d'ge des lves\"}\r\n                />\r\n            }\r\n            />\r\n            \r\n        </Box>\r\n        </Grid>\r\n        </Grid>\r\n          \r\n    )\r\n}\r\n\r\nElevesStatCharts.propTypes = {\r\n    data: PropTypes.object.isRequired,\r\n    isLoading: PropTypes.bool.isRequired\r\n\r\n}\r\n\r\nexport default ElevesStatCharts\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n    // Components\r\nimport PieChart from '../../../../shared/charts/PieChart'\r\nimport LoadingComponent from '../../../../shared/LoadingComponent'\r\nimport { Box } from '@material-ui/core'\r\n\r\nfunction ProfsGeoPartition(props) {\r\n    const {data}=props\r\n\r\n    return (\r\n        <Box display=\"flex\" justifyContent=\"center\" width=\"100%\">\r\n            <LoadingComponent\r\n            controller={props.isLoading}\r\n            component={\r\n                <PieChart \r\n                chartData={data}\r\n                labelsTitle={\"Wilaya\"}\r\n                valuesTitles={\"Nombre\"}\r\n                valuesName={\"count\"}\r\n                labelsName={\"_id\"}\r\n                title={\"Rpartition gographique des enseignants\"}\r\n                />\r\n            }\r\n            />\r\n            \r\n        </Box>\r\n    )\r\n}\r\n\r\nProfsGeoPartition.propTypes = {\r\n    data: PropTypes.array.isRequired,\r\n    isLoading: PropTypes.bool.isRequired\r\n\r\n}\r\n\r\nexport default ProfsGeoPartition\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { FunnelChart, Funnel, Tooltip } from \"recharts\";\r\nimport { Box, Typography } from \"@material-ui/core\";\r\n\r\nconst COLORS = [\r\n    \"#941191\",\"#a34e8b\",\"#c69464\",\"#e9da3c\",\"#d2dc6c\",\"#bade9c\",\"#8ae1fc\",\"#48b8d0\"\r\n];\r\n\r\nconst CustomTooltip = ({ active, payload, label }) => {\r\n  if (active) {\r\n    return (\r\n      <Box\r\n        bgcolor=\"black\"\r\n        borderRadius=\"10px\"\r\n        px={2}\r\n        display=\"flex\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <p\r\n          style={{ color: \"white\" }}\r\n        >{`${payload[0].name} : ${payload[0].value}`}</p>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\nfunction FunnelChartComponent(props) {\r\n  // const {chartData}= props\r\n  const chartData = props.chartData.map((el, index) => ({\r\n    name: el._id,\r\n    value: el.count,\r\n    fill: COLORS[index % COLORS.length],\r\n  }));\r\n  return (\r\n    <Paper>\r\n      <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\">\r\n        <Typography variant=\"caption\" color=\"textSecondary\" align=\"center\">\r\n          {props.title}\r\n        </Typography>\r\n      </Box>\r\n      <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\">\r\n        {/* <ResponsiveContainer > */}\r\n        <FunnelChart height={280} width={320}>\r\n          <Tooltip content={<CustomTooltip />} />\r\n          <Funnel dataKey=\"value\" data={chartData} isAnimationActive>\r\n            {/* <LabelList position=\"right\" fill=\"#000\" stroke=\"none\" dataKey=\"name\" /> */}\r\n          </Funnel>\r\n        </FunnelChart>\r\n        {/* </ResponsiveContainer> */}\r\n      </Box>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nFunnelChartComponent.propTypes = {\r\n  chartData: PropTypes.array.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  // labelsTitle: PropTypes.string.isRequired,\r\n  // valuesTitles: PropTypes.string.isRequired,\r\n  // labelsName: PropTypes.string.isRequired,\r\n  // valuesName: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default FunnelChartComponent;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n    // Components\r\nimport PieChart from '../../../../shared/charts/PieChart'\r\nimport FunnelChart from '../../../../shared/charts/FunnelChart'\r\nimport LoadingComponent from '../../../../shared/LoadingComponent'\r\n\r\nfunction ClassesByProfDist(props) {\r\n    // const {data}=props\r\n    const data=props.data && props.data.map(el=>({_id: `${el.nom} ${el.prenom}`,count: el.count })).sort((a,b)=>b.count-a.count)\r\n\r\n\r\n    return (\r\n        <div>\r\n            <LoadingComponent\r\n            controller={props.isLoading}\r\n            component={\r\n                <FunnelChart\r\n                title=\"Classes enseignes par les enseignants\"\r\n                chartData={data}\r\n                />\r\n                \r\n            }\r\n            />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nClassesByProfDist.propTypes = {\r\n    data: PropTypes.array.isRequired,\r\n    isLoading: PropTypes.bool.isRequired\r\n\r\n}\r\n\r\nexport default ClassesByProfDist\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { Grid, Typography, Paper, Box } from \"@material-ui/core\";\r\nimport { People as PeopleIcon, LocalLibrary,AttachMoney } from \"@material-ui/icons\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n\r\nimport {getGeneralStatistics} from '../../../../../services/shared'\r\nconst useStyles = makeStyles((theme) => ({\r\n    redBg: {\r\n      backgroundColor: theme.palette.secondary.main,\r\n      color: \"white\",\r\n      borderRadius: \"50%\",\r\n      padding: theme.spacing(2),\r\n      fontSize: 60,\r\n    },\r\n    blueBg: {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: \"white\",\r\n      borderRadius: \"50%\",\r\n      padding: theme.spacing(2),\r\n      fontSize: 60,\r\n    },\r\n    greenBg: {\r\n      backgroundColor: theme.palette.success.main,\r\n      color: \"white\",\r\n      borderRadius: \"50%\",\r\n      padding: theme.spacing(2),\r\n      fontSize: 60,\r\n    },\r\n  }));\r\n  \r\n\r\nfunction Summary(props) {\r\n    const classes = useStyles();\r\n    const [state,setstate]=useState({\r\n      eleves: null,\r\n      abonnements: null,\r\n      profs: null\r\n    })\r\n\r\n    useEffect(()=>{\r\n      getGeneralStatistics().then(\r\n        res=>{\r\n          setstate({...res})\r\n\r\n        },\r\n        err=>{\r\n          console.error(err);\r\n\r\n        }\r\n      )\r\n\r\n    },[])\r\n    return (\r\n        <Grid container spacing={3} >\r\n        <Grid item xs={12}>\r\n          <Typography variant=\"h5\" color=\"textSecondary\">\r\n            Quelques chiffres\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}>\r\n          <Paper height=\"100%\" width=\"100%\">\r\n            <Grid container>\r\n              <Grid item xs={12} sm={9}>\r\n                <Box\r\n                  display=\"flex\"\r\n                  flexDirection=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                  height=\"100%\"\r\n                  width=\"100%\"\r\n                  p={5}\r\n                >\r\n                  <Box display=\"flex\" justifyContent=\"center\">\r\n                    <Typography variant=\"h6\" color=\"textSecondary\" align=\"center\">\r\n                      Total enseignants\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    flexDirection=\"column\"\r\n                    alignItems=\"center\"\r\n                  >\r\n                    <Typography variant=\"h4\" color=\"primary\">\r\n                      {state.profs}\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={3}>\r\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" height=\"100%\">\r\n                  {\" \"}\r\n                  <PeopleIcon\r\n                    className={classes.redBg}\r\n                    color=\"secondary\"\r\n                    fontSize=\"large\"\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}>\r\n          <Paper height=\"100%\" width=\"100%\">\r\n            <Grid container>\r\n              <Grid item xs={12} sm={9}>\r\n                <Box\r\n                  display=\"flex\"\r\n                  flexDirection=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                  height=\"100%\"\r\n                  width=\"100%\"\r\n                  p={5}\r\n                >\r\n                  <Box display=\"flex\" justifyContent=\"center\">\r\n                    <Typography variant=\"h6\" color=\"textSecondary\" align=\"center\">\r\n                      Nombre d'lves\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    flexDirection=\"column\"\r\n                    alignItems=\"center\"\r\n                  >\r\n                    <Typography variant=\"h4\" color=\"primary\">\r\n                      {state.eleves}\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={3}>\r\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" height=\"100%\">\r\n                  {\" \"}\r\n                  <LocalLibrary\r\n                    className={classes.blueBg}\r\n                    fontSize=\"large\"\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}>\r\n          <Paper height=\"100%\" width=\"100%\">\r\n            <Grid container>\r\n              <Grid item xs={12} sm={9}>\r\n                <Box\r\n                  display=\"flex\"\r\n                  flexDirection=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                  height=\"100%\"\r\n                  width=\"100%\"\r\n                  p={5}\r\n                >\r\n                  <Box display=\"flex\" justifyContent=\"center\">\r\n                    <Typography variant=\"h6\" color=\"textSecondary\" align=\"center\">\r\n                      Total des abonnements\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    flexDirection=\"column\"\r\n                    alignItems=\"center\"\r\n                  >\r\n                    <Typography variant=\"h4\" color=\"primary\">\r\n                      {state.abonnements}\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={3}>\r\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" height=\"100%\">\r\n                  {\" \"}\r\n                  <AttachMoney\r\n                    className={classes.greenBg}\r\n                    fontSize=\"large\"\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    )\r\n}\r\n\r\nSummary.propTypes = {\r\n    summary: PropTypes.object.isRequired\r\n\r\n}\r\n\r\nexport default Summary\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Grid, Container, Typography, Paper, Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n\r\n// Components\r\nimport Page from \"../../../shared/Page\";\r\nimport ElevesStatCharts from \"../components/charts/ElevesStatCharts\";\r\nimport ProfsGeoPartitionPie from \"../components/charts/ProfsGeoPartition\";\r\nimport ClassesByProfDist from \"../components/charts/ClassesByProfDist\";\r\nimport Summary from \"../components/charts/Summary\";\r\n\r\n// Services\r\nimport ManagerService from \"../../../../services/managerServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n  \r\n}));\r\n\r\nfunction Statistiques(props) {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n      // Fetch profs related statistics\r\n    ManagerService.getProfsStatistics({ adminType: \"manager\" }).then(\r\n      (res) => {\r\n        console.log(\"Profs statistics : \",res);\r\n        setProfsSummary(res);\r\n        setProfsSummaryisLoading(false);\r\n      },\r\n      (err) => {}\r\n    );\r\n      // Fetch eleves related statistics\r\n    ManagerService.getElevesStatistics({ adminType: \"manager\" }).then(\r\n      (res) => {\r\n        console.log(\"Eleves Statistics : \",res);\r\n        setElevesSummary(res);\r\n        setElevesSummaryisLoading(false);\r\n      },\r\n      (err) => {}\r\n    );\r\n  }, []);\r\n\r\n  // Loading flags states\r\n  const [profsSummaryisLoading, setProfsSummaryisLoading] = useState(true);\r\n  const [elevesSummaryisLoading, setElevesSummaryisLoading] = useState(true);\r\n  // Data states\r\n  const [profsSummary, setProfsSummary] = useState({ profsByWilaya: [],\r\n    classesByprof: [] });\r\n  const [elevesSummary, setElevesSummary] = useState({ \r\n    elevesByAge: [] ,\r\n    elevesBySexe: [] ,\r\n  });\r\n  return (\r\n    <Page className={classes.root} title=\"Statistiques\">\r\n    <Container>\r\n      {/* Quelques chifres */}\r\n      <Summary summary={{}}/>\r\n\r\n      \r\n      {/* Statistiques relies aux enseignants */}\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Typography variant=\"h5\" color=\"textSecondary\">\r\n            Enseignants\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <ProfsGeoPartitionPie\r\n            isLoading={profsSummaryisLoading}\r\n            data={profsSummary.profsByWilaya}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <ClassesByProfDist\r\n            isLoading={profsSummaryisLoading}\r\n            data={profsSummary.classesByprof}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      {/* Statistiques relies aux lves */}\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Typography variant=\"h6\" color=\"textPrimary\">Elves</Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12}>\r\n            <ElevesStatCharts \r\n            isLoading={elevesSummaryisLoading}\r\n            data={elevesSummary}\r\n\r\n\r\n            />\r\n\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Statistiques;\r\n","import { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport StepConnector from \"@material-ui/core/StepConnector\";\r\n\r\nconst useColorlibStepIconStyles = makeStyles((theme)=>({\r\n  root: {\r\n    backgroundColor: \"#ccc\",\r\n    zIndex: 1,\r\n    color: \"#fff\",\r\n    width: 50,\r\n    height: 50,\r\n    display: \"flex\",\r\n    borderRadius: \"50%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  active: {\r\n    background: theme.palette.secondary.light,\r\n      \r\n    boxShadow: \"0 4px 10px 0 rgba(0,0,0,.25)\",\r\n  },\r\n  completed: {\r\n    background: theme.palette.primary.main,\r\n      \r\n  },\r\n  form: {\r\n    // width: \"100%\", // Fix IE 11 issue.\r\n    margin: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  sucess: {\r\n    color: theme.palette.success.light\r\n  },\r\n  error: {\r\n    color: theme.palette.error.light\r\n\r\n  }\r\n//   active: {\r\n//     backgroundImage:\r\n//       \"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)\",\r\n//     boxShadow: \"0 4px 10px 0 rgba(0,0,0,.25)\",\r\n//   },\r\n//   completed: {\r\n//     backgroundImage:\r\n//       \"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)\",\r\n//   },\r\n}));\r\n\r\nconst ColorlibConnector = withStyles((theme)=>({\r\n  alternativeLabel: {\r\n    top: 22,\r\n  },\r\n  active: {\r\n    \"& $line\": {\r\n        background: theme.palette.primary.main,\r\n    },\r\n  },\r\n  completed: {\r\n    \"& $line\": {\r\n        background: theme.palette.primary.main,\r\n    },\r\n  },\r\n  line: {\r\n    height: 3,\r\n    border: 0,\r\n    backgroundColor: \"#eaeaf0\",\r\n    borderRadius: 1,\r\n  },\r\n}))(StepConnector);\r\n\r\nexport { useColorlibStepIconStyles, ColorlibConnector };\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport { StepContent } from \"@material-ui/core\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nfunction ColorlibStepIcon({ icons, classes, ...props }) {\r\n  //   const classes = useColorlibStepIconStyles();\r\n  const { active, completed } = props;\r\n\r\n  return (\r\n    <div\r\n      className={clsx(classes.root, {\r\n        [classes.active]: active,\r\n        [classes.completed]: completed,\r\n      })}\r\n    >\r\n      {icons[String(props.icon)]}\r\n    </div>\r\n  );\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n  active: PropTypes.bool,\r\n\r\n  completed: PropTypes.bool,\r\n\r\n  icon: PropTypes.node,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  button: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  instructions: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n    color: theme.palette.success.contrastText\r\n  },\r\n}));\r\n\r\nfunction CustomStepper({\r\n  StepConnector,\r\n  labelStepsIconsClasses,\r\n  icons,\r\n  steps,\r\n  ...props\r\n}) {\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = useState(2);\r\n\r\n  const handleNext = () => {\r\n    const feedBack=(props.nexHandler ? props.nexHandler(activeStep): true);\r\n    if(feedBack) setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setActiveStep(0);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Stepper\r\n        alternativeLabel\r\n        activeStep={activeStep}\r\n        connector={<StepConnector />}\r\n      >\r\n        {steps.map((step) => (\r\n          <Step key={step.title}>\r\n            <StepLabel\r\n              StepIconComponent={(props) => (\r\n                <ColorlibStepIcon classes={labelStepsIconsClasses} icons={icons} {...props}/>\r\n              )}\r\n              \r\n            >\r\n              {step.title}\r\n            </StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <div>\r\n          {activeStep !== steps.length && steps[activeStep].children}\r\n\r\n      </div>\r\n      <div>\r\n        {activeStep === steps.length ? (\r\n          <div>\r\n            {!props.finalStep && (<Typography className={classes.instructions}  align=\"center\">\r\n              C'est fini ! Toutes les tapes sont accomplies\r\n            </Typography>)}\r\n            {props.finalStep && props.finalStep}\r\n            <Button onClick={handleReset} className={classes.button}>\r\n              Rinitialiser\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <div>\r\n              <Button\r\n                disabled={activeStep === 0}\r\n                onClick={handleBack}\r\n                className={classes.button}\r\n                {...props.backBtnIcon}\r\n              >\r\n                Prcdent\r\n              </Button>\r\n              {activeStep !== steps.length - 1 && (<Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleNext}\r\n                className={classes.button}\r\n                {...props.nextBtnIcon}\r\n                \r\n              >\r\n                Suivant\r\n              \r\n              </Button>)}\r\n              {activeStep === steps.length - 1 && (<Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleNext}\r\n                className={classes.button}\r\n                \r\n              >\r\n                Terminer\r\n              \r\n              </Button>)}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nCustomStepper.prototype = {\r\n  steps: PropTypes.array.isRequired,\r\n  labelStepsIconsClasses: PropTypes.object.isRequired,\r\n  icons: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default CustomStepper;\r\n","\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  CssBaseline,\r\n  Button,\r\n  Typography,\r\n  Paper,\r\n  TextField,\r\n  MenuItem\r\n} from \"@material-ui/core\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport teacherService from \"../../../../../../services/teacherServices\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n\r\nconst validationSchema = Yup.object({\r\n  titre: Yup.string()\r\n    .min(5, \"Le titre du cours doit contenir au minimum 5 caractres\")\r\n    .max(70, \"Le titre du cours ne doit pas dpasser 70 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  trimestre: Yup.number()\r\n    .integer()\r\n    .oneOf([1,2,3])\r\n    .required(\"Champs Obligatoire\"),\r\n  ordre: Yup.number()\r\n    .integer()\r\n    .positive()\r\n    .required(\"Champs Obligatoire\"),\r\n  lien: Yup.string()\r\n    .url(\"Le lien de la vido est invalide\")\r\n    .matches(/https:\\/\\/vimeo.com\\/\\d{8,}(?=\\b|\\/)/, \"L'URL de la vido semble invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  thumbnail: Yup.string()\r\n    .url(\"Le lien de l'aperu la vido est invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n});\r\n\r\nconst titreField = {\r\n  type: \"input\",\r\n  props: {\r\n    name: \"titre\",\r\n    required: true,\r\n    type: \"text\",\r\n    label: \"Titre du cours\",\r\n  },\r\n};\r\nconst trimestreField= {\r\n  type: \"select\",\r\n  props: {\r\n    name: \"trimestre\",\r\n    required: true,\r\n    select: true,\r\n    label: \"Trimestre\",\r\n  },\r\n  children: [1,2,3].map((item) => ({\r\n    key: item,\r\n    value: item,\r\n    label: item,\r\n  })),\r\n}\r\nconst lienField = {\r\n  type: \"input\",\r\n  props: {\r\n    name: \"lien\",\r\n    required: true,\r\n    type: \"text\",\r\n    label: \"URL de la vido\",\r\n  },\r\n};\r\nconst thumbnailField = {\r\n  type: \"input\",\r\n  props: {\r\n    name: \"thumbnail\",\r\n    required: true,\r\n    type: \"text\",\r\n    label: \"URL de l'aperu de la vido\",\r\n  },\r\n};\r\n\r\nfunction AjouterVideo(props) {\r\n  const { classes } = props;\r\n  // const { titre, lien, thumbnail } = props.state;\r\n  const formRef = useRef();\r\n  useEffect(() => {\r\n    if (props.linkRefHandle) props.linkRefHandle(formRef,0);\r\n  }, [formRef]);\r\n\r\n  const initialState = {\r\n    titre: props.state.titre,\r\n    trimestre: props.state.trimestre,\r\n    ordre: props.state.ordre,\r\n    lien: props.state.lien,\r\n    thumbnail: props.state.thumbnail,\r\n  };\r\n\r\n  const [state, setState] = useState({\r\n    ...initialState,\r\n    // thumbnail: props.state.thumbnail,\r\n  });\r\n  const [preview, setpreview] = useState(false);\r\n    // Update fields initial values if they already filled before\r\n  if (props.withTitle) titreField.props.value = state.titre;\r\n  lienField.props.value = state.lien;\r\n  trimestreField.props.value = state.trimestre;\r\n  thumbnailField.props.value = state.thumbnail;\r\n  // Define form hiearchy\r\n  const [formStructure,setFormStructure]=useState([]);\r\n  \r\n  useEffect(()=>{\r\n    teacherService.getProfCourses({adminType: \"enseignant\", id:props.user._id}).then(\r\n      res=>{\r\n        const actualClassCourses=res.courses.filter(cours=>cours.classe===props.currentClasse)\r\n        const index=props.withTitle ? 1:0\r\n        const dup=formStructure;\r\n        setFormStructure((props.withTitle ? [[titreField]] : []).concat([\r\n          [trimestreField,{\r\n            type: \"select\",\r\n            props: {\r\n              name: \"ordre\",\r\n              required: true,\r\n              select: true,\r\n              label: \"Ce cours est plac aprs\",\r\n              value: actualClassCourses.length?actualClassCourses[0].ordre:0\r\n            },\r\n            children: actualClassCourses.map((item) => ({\r\n              key: item._id,\r\n              value: item.ordre,\r\n              label: item.titre,\r\n            })),\r\n          }],\r\n          [lienField],\r\n          [thumbnailField],\r\n        ]))\r\n       \r\n\r\n      },\r\n      err=>{\r\n        console.log('an error occured when fetching courses of the professor: ',err)\r\n\r\n      }\r\n    )\r\n\r\n  },[])  \r\n\r\n  const onChangeHandler = (event) => {\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n    if(props.updateStepsStatus) props.updateStepsStatus(0);\r\n  };\r\n\r\n  const onSubmitHandler = (data) => {\r\n    setState({ ...state, ...data });\r\n    props.submitHandler(data, 0);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Ajouter la vido du cours\r\n        </Typography>\r\n        <Paper>\r\n          <Formik\r\n            initialValues={state}\r\n            validationSchema={validationSchema}\r\n            onSubmit={onSubmitHandler}\r\n          >\r\n            {({\r\n              errors,\r\n              handleBlur,\r\n              handleChange,\r\n              handleSubmit,\r\n              isSubmitting,\r\n              touched,\r\n              values,\r\n            }) => (\r\n              <form className={classes.form} onSubmit={handleSubmit}>\r\n                <Grid container spacing={2}>\r\n                  {formStructure.map((gridRow, rowidx) => {\r\n                    return gridRow.map((field, columnidx) => (\r\n                      <Grid\r\n                        item\r\n                        xs={12}\r\n                        sm={Math.floor(12 / gridRow.length)}\r\n                        key={`${rowidx}-${columnidx}`}\r\n                      >\r\n                        {field.type === \"input\" && (\r\n                          <TextField\r\n                            key={field.props.name}\r\n                            error={Boolean(\r\n                              touched[field.props.name] &&\r\n                                errors[field.props.name]\r\n                            )}\r\n                            helperText={\r\n                              touched[field.props.name] &&\r\n                              errors[field.props.name]\r\n                            }\r\n                            onBlur={handleBlur}\r\n                            onChange={(e)=> {handleChange(e); onChangeHandler(e)}}\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            id={`${field.props.name}-input`}\r\n                            {...field.props}\r\n                          />\r\n                        )}\r\n                        {field.type === \"select\" && (\r\n                    <TextField \r\n                      error={Boolean(touched[field.props.name] && errors[field.props.name])}\r\n                      helperText={touched[field.props.name] && errors[field.props.name]}\r\n                      onBlur={handleBlur}\r\n                      onChange={(e)=> {handleChange(e); if(props.onChange) props.onChange(e)} }\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      id={`${field.props.name}-input`}\r\n                      {...field.props}\r\n                    >\r\n                      {field.children &&\r\n                        field.children.map((option, idx) => (\r\n                          <MenuItem key={option.key} value={option.value} >\r\n                            {option.label}\r\n                          </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                  )}\r\n                      </Grid>\r\n                    ));\r\n                  })}\r\n                  <Grid item xs={12} sm={4}>\r\n                    <Button \r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    onClick={()=> setpreview(true)}\r\n                    > Aperu\r\n\r\n                    </Button>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={8}>\r\n\r\n{preview && (<div> \r\n  <div><iframe title=\"aper\"src={state.lien.replace('vimeo.com','player.vimeo.com/video')} width=\"240\" height=\"160\" frameborder=\"0\" allow=\"autoplay; fullscreen\" allowfullscreen></iframe> </div>\r\n  {/* <div><img src={videoLink.thumbnail} alt=\"display it\" />  </div> */}\r\n  </div>)}\r\n\r\n                  </Grid>\r\n\r\n  \r\n                </Grid>\r\n                <Grid container justify=\"flex-end\">\r\n                  <Grid item xs={12} sm={4}>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      style={{visibility: \"hidden\"}}\r\n                      ref={formRef}\r\n\r\n                    ></Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            )}\r\n          </Formik>\r\n        </Paper>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nAjouterVideo.propTypes = {\r\n  state: PropTypes.object.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  submitHandler: PropTypes.func.isRequired,\r\n  withTitle: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.adminReducer.user,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AjouterVideo);\r\n\r\n","import React, { useState, useEffect, useRef,createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  CssBaseline,\r\n  Button,\r\n  Typography,\r\n  Paper,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\n// Components\r\nimport CustomUploadButton from \"../../../../../shared/CustomUploaderButton\";\r\n\r\nconst validationSchema = Yup.object({\r\n  titrePdf: Yup.string()\r\n    .min(5, \"Le titre du document doit contenir au minimum 5 caractres\")\r\n    .max(40, \"Le titre du document ne doit pas dpasser 40 caractres\")\r\n    .required('Champs Obligatoire'),\r\n});\r\n\r\nconst titre = {\r\n  type: \"input\",\r\n  props: {\r\n    name: \"titrePdf\",\r\n    required: false,\r\n    type: \"text\",\r\n    label: \"Titre de document\",\r\n  },\r\n};\r\nconst document = {\r\n  type: \"file\",\r\n  props: {\r\n    name: \"document\",\r\n    type: \"file\",\r\n    accept: \"application/pdf\"\r\n    // required: true\r\n  },\r\n};\r\n\r\nfunction AjouterDocument(props) {\r\n  const { classes } = props;\r\n  const initialState = {\r\n    titrePdf: props.state.titrePdf!==\"\"?props.state.titrePdf:\"\",\r\n    pdfFile: props.state.pdfFile!==null?props.state.pdfFile:null,\r\n    DOC: props.state.pdfFile!==null?props.state.pdfFile.file.name:\"\"\r\n  };\r\n  const labelRef=createRef();\r\n\r\n  const [uploadRequired, setUploadRequired] = useState(false);\r\n  const [state, setState] = useState({\r\n    ...initialState,\r\n  });\r\n  titre.props.value=state.titrePdf;\r\n  document.children = (\r\n    <CustomUploadButton\r\n      btnLabel=\"Charger\"\r\n      btnColor={\"primary\"}\r\n      name=\"document\"\r\n      // inputValue=\"\"\r\n      inputProps={document.props}\r\n      value={0}\r\n      setParentInput={(file) => setState({ ...state, pdfFile: file,DOC: file.file.name })}\r\n    />\r\n  );\r\n  const formStructure=[\r\n        [titre],\r\n        [\r\n          {\r\n            type: \"formControl\",\r\n            children: (\r\n              <Grid container>\r\n                <Grid item xs={12} sm={4}>\r\n                  <label ref={labelRef}>Choisissez le fichier</label>\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                  {document.children}\r\n                </Grid>\r\n              </Grid>\r\n            ),\r\n          },\r\n          {\r\n            type: \"formControl\",\r\n          },\r\n        ],\r\n      ];\r\n  const formRef = useRef();\r\n  useEffect(() => {\r\n    if (props.linkRefHandle) props.linkRefHandle(formRef, 1);\r\n  }, [formRef]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(\"State updated on Resume\",state);\r\n  // }, [state]);\r\n\r\n  const onChangeHandler = (event) => {\r\n    if (event.target.name === \"titrePdf\" && event.target.value !== \"\")\r\n      setUploadRequired(true);\r\n    if (event.target.name === \"titrePdf\" && event.target.value === \"\") {\r\n      setUploadRequired(false);\r\n    }\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n\r\n    if(props.updateStepsStatus) props.updateStepsStatus(1);\r\n  };\r\n\r\n  const onSubmitHandler = (data) => {\r\n    console.log(data)\r\n    if (uploadRequired && state.pdfFile === null) {\r\n      return;\r\n    }\r\n    props.submitHandler({ ...data, pdfFile: state.pdfFile }, 1);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Associer un document au cours\r\n        </Typography>\r\n\r\n        <Paper>\r\n          <Formik\r\n            initialValues={state}\r\n            validationSchema={validationSchema}\r\n            onSubmit={onSubmitHandler}\r\n          >\r\n            {({\r\n              errors,\r\n              handleBlur,\r\n              handleChange,\r\n              handleSubmit,\r\n              isSubmitting,\r\n              touched,\r\n              values,\r\n            }) => (\r\n              <form className={classes.form} onSubmit={handleSubmit}>\r\n                <Grid container spacing={2}>\r\n                  {formStructure.map((gridRow, rowidx) => {\r\n                    return gridRow.map((field, columnidx) => (\r\n                      <Grid\r\n                        item\r\n                        xs={12}\r\n                        sm={Math.floor(12 / gridRow.length)}\r\n                        key={`${rowidx}-${columnidx}`}\r\n                      >\r\n                        {field.type === \"input\" && (\r\n                          <TextField\r\n                            key={field.props.name}\r\n                            error={Boolean(\r\n                              touched[field.props.name] &&\r\n                                errors[field.props.name]\r\n                            )}\r\n                            helperText={\r\n                              touched[field.props.name] &&\r\n                              errors[field.props.name]\r\n                            }\r\n                            onBlur={handleBlur}\r\n                            onChange={(e) => {\r\n                              handleChange(e);\r\n                              onChangeHandler(e);\r\n                            }}\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            id={`${field.props.name}-input`}\r\n                            {...field.props}\r\n                          />\r\n                        )}\r\n                        {/* {field.type === \"formControl\" && (<>{field.children}</>)} */}\r\n                      </Grid>\r\n                    ));\r\n                  })}\r\n\r\n                  <Grid item xs={12} sm={4}>\r\n                  <label ref={labelRef} style={{color: uploadRequired && state.pdfFile===null?\"red\":\"inherit\"}}>\r\n                    {state.DOC!==\"\"?state.DOC: \"Choisissez un fichier\"}\r\n                  </label>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                  {document.children}\r\n                  </Grid>\r\n                </Grid>\r\n\r\n\r\n                <Grid container justify=\"flex-end\">\r\n                  <Grid item xs={12} sm={4}>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      style={{ visibility: \"hidden\" }}\r\n                      ref={formRef}\r\n                    ></Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            )}\r\n          </Formik>\r\n        </Paper>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nAjouterDocument.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  submitHandler: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AjouterDocument;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Box,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  TextField,\r\n  Switch,\r\n  FormControlLabel,\r\n  FormGroup,\r\n} from \"@material-ui/core\";\r\nimport {red} from \"@material-ui/core/colors\"\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\"\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(2),\r\n  },\r\n  grid: {\r\n    margin: theme.spacing(2),\r\n    padding: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(3),\r\n  },\r\n  invalidQuestion: {\r\n    backgroundColor: red[100]\r\n  },\r\n  typography: {\r\n    fontWeight: \"bold\",\r\n  },\r\n  uploadLabel: {\r\n    display: \"inline-block\",\r\n    backgroundColor: \"indigo\",\r\n    boxShadow: theme.shadows[10],\r\n    color: \"white\",\r\n    padding: \"0.5rem\",\r\n    cursor: \"pointer\",\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  questionText: Yup.string()\r\n    .min(5, \"Le contenu de la question doit contenir au minimum 5 caractres\"),\r\n  answerText: Yup.string()\r\n    \r\n});\r\nfunction QuizQuestion(props) {\r\n  const classes = useStyles();\r\n\r\n  const { questionText, questionImg, answerText, answerImg } = props.question;\r\n  const {valid}=props;\r\n    // States\r\n  const [state, setState] = useState({\r\n    questionText,\r\n    questionImg,\r\n    answerText,\r\n    answerImg,\r\n  });\r\n   \r\n\r\n  const [questIsImg, setQuestionIsImg] = useState(false);\r\n  const toggleQuestType = () => setQuestionIsImg(!questIsImg);\r\n\r\n  const [answerIsImg, setAnswerIsImg] = useState(false);\r\n  const toggleAnswerType = () => setAnswerIsImg(!answerIsImg);\r\n\r\n  /**\r\n   * Handle Question/Answer image loading\r\n   * @param {*} e event\r\n   * @param {*} name name of the field to update the state according to\r\n   */\r\n  const handleLoadImg = (e, name) => {\r\n    const file = e.currentTarget.files[0];\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      const fileToAdd = {\r\n        file: file,\r\n        data: fileReader.result,\r\n        isUploading: false,\r\n        progress: 0,\r\n      };\r\n      const changesObj={\r\n        ...state,\r\n        [name]: fileToAdd,\r\n      };\r\n      setState(changesObj);\r\n\r\n      if (props.updateState) props.updateState(changesObj);\r\n    };\r\n    fileReader.onabort = () => {\r\n      alert(\"Reading Aborted\");\r\n    };\r\n    fileReader.onerror = () => {\r\n      console.log(\"Error occuren when Uploading file from disk\");\r\n    };\r\n\r\n    fileReader.readAsDataURL(file);\r\n  };\r\n\r\n  const onBlurHandler = (event) => {\r\n    const changesObj={\r\n      ...state,\r\n      [event.target.name]: event.target.value,\r\n    };\r\n    setState(changesObj);\r\n\r\n    if (props.updateState) props.updateState(changesObj);\r\n  };\r\n\r\n  const onSubmitHandler=(data)=>{\r\n\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Paper className={clsx(classes.paper,!valid && classes.invalidQuestion)}>\r\n        <Typography variant=\"body1\">\r\n          Question n  {props.numQuestion}\r\n        </Typography>\r\n        <Formik\r\n          initialValues={{questionText,answerText}}\r\n          validationSchema={validationSchema}\r\n          onSubmit={onSubmitHandler}\r\n        >\r\n          {({\r\n            errors,\r\n            handleBlur,\r\n            handleChange,\r\n            handleSubmit,\r\n            isSubmitting,\r\n            touched,\r\n            values,\r\n          }) => (\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <Grid container spacing={2}>\r\n\r\n                {/* QUESTION SECTION */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    flexDirection=\"column\"\r\n                    width=\"100%\"\r\n                  >\r\n                    <Container>\r\n                      <Box display=\"flex\" width=\"100%\">\r\n                        <Box display=\"flex\" width=\"50%\" alignItems=\"center\">\r\n                          <Typography variant=\"body1\">Question</Typography>\r\n                        </Box>\r\n                        <Box display=\"flex\" width=\"50%\">\r\n                          <FormGroup row>\r\n                            <FormControlLabel\r\n                              control={\r\n                                <Switch\r\n                                  checked={!questIsImg}\r\n                                  onChange={() => toggleQuestType()}\r\n                                  name=\"questTypeSwitch\"\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                              label={questIsImg?\"Image\":\"Textuelle\"}\r\n                            />\r\n                          </FormGroup>\r\n                        </Box>\r\n                      </Box>\r\n                    </Container>\r\n\r\n                    <Container>\r\n                      {questIsImg && (\r\n                        <Container>\r\n                          <Box\r\n                            display=\"flex\"\r\n                            justifyContent=\"flex-end\"\r\n                            width=\"100%\"\r\n                          >\r\n                            <input\r\n                              type=\"file\"\r\n                              id={`questionImg-${props.numQuestion}`}\r\n                              name=\"questionImg\"\r\n                              hidden\r\n                              accept=\"image/png, image/jpeg\"\r\n                              \r\n                              onChange={(e) => handleLoadImg(e, \"questionImg\")}\r\n                            />\r\n                            <label\r\n                              htmlFor={`questionImg-${props.numQuestion}`}\r\n                              className={classes.uploadLabel}\r\n                            >\r\n                              Charger\r\n                            </label>\r\n                          </Box>\r\n                          <Box\r\n                            display=\"flex\"\r\n                            justifyContent=\"center\"\r\n                            width=\"100%\"\r\n                          >\r\n                            {state.questionImg &&\r\n                              state.questionImg !== null && (\r\n                                <img\r\n                                  src={state.questionImg.data}\r\n                                  alt=\"Aperu de la question\"\r\n                                  width={70}\r\n                                  height={70}\r\n                                />\r\n                              )}\r\n                          </Box>\r\n                        </Container>\r\n                      )}\r\n                      {!questIsImg && (\r\n                        <Container>\r\n                          <TextField\r\n                            error={Boolean(touched.questionText && errors.questionText)}\r\n                            helperText={touched.questionText && errors.questionText}\r\n                            onBlur={(e)=>{handleBlur(e); onBlurHandler(e); }}\r\n                            // value={state.questionText}\r\n                            onChange={handleChange}\r\n                            // value={state.questionText}\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            multiline\r\n                            label=\"Text de la question\"\r\n                            name=\"questionText\"\r\n                          />\r\n                        </Container>\r\n                      )}\r\n                    </Container>\r\n                  </Box>\r\n                </Grid>\r\n\r\n\r\n\r\n\r\n                {/* ANSWER SECTION */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    flexDirection=\"column\"\r\n                    width=\"100%\"\r\n                  >\r\n                    <Container>\r\n                      <Box display=\"flex\" width=\"100%\">\r\n                        <Box display=\"flex\" width=\"50%\" alignItems=\"center\">\r\n                          <Typography variant=\"body1\">Rponse</Typography>\r\n                        </Box>\r\n                        <Box display=\"flex\" width=\"50%\">\r\n                          <FormGroup row>\r\n                            <FormControlLabel\r\n                              control={\r\n                                <Switch\r\n                                  checked={!answerIsImg}\r\n                                  onChange={() => toggleAnswerType()}\r\n                                  name=\"answerTypeSwitch\"\r\n                                  color=\"secondary\"\r\n                                />\r\n                              }\r\n                              label={answerIsImg?\"Image\":\"Textuelle\"}\r\n                            />\r\n                          </FormGroup>\r\n                        </Box>\r\n                      </Box>\r\n                    </Container>\r\n\r\n                    <Container>\r\n                      {answerIsImg && (\r\n                        <Container>\r\n                         \r\n                          <Box\r\n                            display=\"flex\"\r\n                            justifyContent=\"flex-end\"\r\n                            width=\"100%\"\r\n                          >\r\n                            <input\r\n                              type=\"file\"\r\n                              id={`answerImg-${props.numQuestion}`}\r\n                              name=\"answerImg\"\r\n                              hidden\r\n                              accept=\"image/png, image/jpeg\"\r\n                              onChange={(e) => handleLoadImg(e, \"answerImg\")}\r\n                            />\r\n                            <label\r\n                              htmlFor={`answerImg-${props.numQuestion}`}\r\n                              className={classes.uploadLabel}\r\n                            >\r\n                              Charger\r\n                            </label>\r\n                          </Box>\r\n                          <Box\r\n                            display=\"flex\"\r\n                            justifyContent=\"center\"\r\n                            width=\"100%\"\r\n                          >\r\n                            {state.answerImg &&\r\n                              state.answerImg !== null && (\r\n                                <img\r\n                                  src={state.answerImg.data}\r\n                                  alt=\"Aperu de la question\"\r\n                                  width={70}\r\n                                  height={70}\r\n                                />\r\n                              )}\r\n                          </Box>\r\n                        </Container>\r\n                      )}\r\n                      {!answerIsImg && (\r\n                        <Container>\r\n                          <TextField\r\n                            error={Boolean(touched.answerText && errors.answerText)}\r\n                            helperText={touched.answerText && errors.answerText}\r\n                            onBlur={(e)=>{handleBlur(e); onBlurHandler(e); }}\r\n                            // value={state.answerText}\r\n                            onChange={handleChange}\r\n                            // value={state.answerText}\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            multiline\r\n                            label=\"Text de la rponse\"\r\n                            name=\"answerText\"\r\n                          />\r\n                        </Container>\r\n                      )}\r\n                    </Container>\r\n                  </Box>\r\n                </Grid>\r\n\r\n                {/* CONFIRM SECTION */}\r\n                {/* <Grid item xs={12} sm={2}>\r\n                <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      >\r\n                        Confimer\r\n                      </Button>\r\n\r\n                </Grid> */}\r\n              </Grid>\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </Paper>\r\n    </Container>\r\n    \r\n  );\r\n}\r\n\r\nQuizQuestion.propTypes = {\r\n  numQuestion: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default QuizQuestion;\r\n","import React, { useState,useEffect,useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  CssBaseline,\r\n  Button,\r\n  Typography,\r\n  Slider,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  FormGroup,\r\n} from \"@material-ui/core\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\n\r\n// import {Vimeo} from \"vimeo\"\r\n\r\n// Components\r\nimport QuestionComponent from './QuizQuestion'\r\n\r\nconst validationSchema = Yup.object({\r\n  titre: Yup.string()\r\n    .min(5, \"Le titre du document doit contenir au minimum 5 caractres\")\r\n    .max(20, \"Le titre du document ne doit pas dpasser 20 caractres\"),\r\n});\r\n\r\n\r\nconst makeEmptyArray=(size)=>[...Array(size).keys()].map((el)=>({\r\n  question: {\r\n  questionText: \"\",\r\n  questionImg: null,\r\n  answerText: \"\",\r\n  answerImg: null,},\r\n  valid: true\r\n})); \r\n\r\n// const client = new Vimeo(\"6a9e2c0bbf4de91ba3b36aabdc35372bfcec1566\", \"wJ3RSrdsVd3WeGxRTLF6K94zkBtHy94OHYUi03QYznbcxHAmWzvtOLaSIoWKpKkwHJSTHLev6mB1E773Lq73ku615od3RR2m5HU2tDHUO9x3kn3ODY7EDXN7yYAqiRKU\", \"0c7176360df3d2c0e47b48f87a3fb7ba\");\r\nfunction AjouterQuiz(props) {\r\n  // const [videoLink,setVideolink]=useState({});\r\n  useEffect(()=>{\r\n    \r\n  //   client.request({\r\n  //   method: 'GET',\r\n  //   path: '/me/videos/473470147',\r\n  // //   headers: {\r\n  // //     Authorization: `basic base64_encode(6a9e2c0bbf4de91ba3b36aabdc35372bfcec1566:wJ3RSrdsVd3WeGxRTLF6K94zkBtHy94OHYUi03QYznbcxHAmWzvtOLaSIoWKpKkwHJSTHLev6mB1E773Lq73ku615od3RR2m5HU2tDHUO9x3kn3ODY7EDXN7yYAqiRKU)`,\r\n  // //     'Content-Type': 'application/json',\r\n  // //     Accept: 'application/vnd.vimeo.*+json;version=3.4'\r\n  // //   },\r\n  // //   body: {\r\n  // //     \"grant_type\": \"client_credentials\",\r\n  // // \"scope\": \"private\"\r\n  // //   }\r\n    \r\n  // }, function (error, body, status_code, headers) {\r\n  //   if (error) {\r\n  //     console.log(error);\r\n  //   }\r\n  \r\n  //   console.log(\"BODY : \",body);\r\n  //   setVideolink({link: body.link, html: body.embed.html,thumbnail: body.pictures.sizes[1].link})\r\n  //   // videoLink.link=body.link\r\n  //   // videoLink.html=body.embed.html\r\n  // })\r\n    \r\n\r\n\r\n\r\n\r\n},[])\r\n    // Styles\r\n  const { classes } = props;\r\n    // Refs\r\n  const formRef = useRef();\r\n  useEffect(() => {\r\n    if (props.linkRefHandle) props.linkRefHandle(formRef, 2);\r\n  }, [formRef]);\r\n  \r\n  \r\n  // States\r\n  const initialState = {\r\n    questionsList: props.state.questionsList.length>0\r\n      ? props.state.questionsList.map((el)=>({question: el, valid: true}))\r\n      : makeEmptyArray(10)\r\n      \r\n  };\r\n  const [state, setState] = useState({\r\n    ...initialState,\r\n  });\r\n  const updateState=(data,questIndex)=>{\r\n\r\n    setState({\r\n      ...state,\r\n      questionsList: state.questionsList.map((el,idx)=> idx!==questIndex?el: {\r\n        ...el,\r\n        question: data\r\n      } )\r\n    })\r\n\r\n\r\n  }\r\n\r\n\r\n  const updateQuestList = (size) => {\r\n    if (size>state.questionsList.length)\r\n      setState({\r\n        ...state,\r\n        questionsList: [...state.questionsList,...makeEmptyArray(size-state.questionsList.length)]\r\n      })\r\n    else if (size<state.questionsList.length)\r\n      setState({\r\n        ...state,\r\n        questionsList: state.questionsList.slice(0,size)\r\n      })\r\n\r\n  };\r\n\r\n  \r\n  const onSubmitHandler = (e) => {\r\n    const changes=state.questionsList.map((el)=>({\r\n      ...el,\r\n      valid: !((el.question.questionText===\"\" && el.question.questionImg===null) ||  (el.question.answerText===\"\" && el.question.answerImg===null))\r\n    }));\r\n    \r\n    setState({\r\n      questionsList: changes\r\n    });\r\n    const failFlag=changes.find(el=> el.valid===false);\r\n\r\n    if(failFlag) return;\r\n\r\n    props.submitHandler({ \r\n      questionsList: state.questionsList.map((el)=> el.question)\r\n     }, 2);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Associer un Quiz au cours\r\n        </Typography>\r\n\r\n        <Formik\r\n          initialValues={state}\r\n          validationSchema={validationSchema}\r\n          onSubmit={onSubmitHandler}\r\n        >\r\n          {({\r\n            errors,\r\n            handleBlur,\r\n            handleChange,\r\n            handleSubmit,\r\n            isSubmitting,\r\n            touched,\r\n            values,\r\n          }) => (\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <Grid container spacing={2}>\r\n                <FormGroup row>\r\n                  \r\n                    \r\n                    <label>Spcifiez le nombre de question de ce Quiz</label>\r\n                  \r\n                  <Slider\r\n                        defaultValue={10}\r\n                        aria-labelledby=\"nbr-quest-slider\"\r\n                        step={1}\r\n                        marks\r\n                        min={5}\r\n                        max={30}\r\n                        valueLabelDisplay=\"on\"\r\n                        onChange={(e,v)=>updateQuestList(v)}\r\n                      />\r\n                </FormGroup>\r\n\r\n              </Grid>\r\n            </form>\r\n          )}\r\n        </Formik>\r\n                <Grid item xs={12}>\r\n                  {state.questionsList.map((question,idx)=> (\r\n                  <QuestionComponent \r\n                  key={idx} \r\n                  numQuestion={idx+1}\r\n                  question={question.question}\r\n                  valid={question.valid} \r\n                  updateState={(data)=>updateState(data,idx)} />))}\r\n\r\n                </Grid>  \r\n                <Grid item xs={12} sm={2}>\r\n                <Button\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      ref={formRef}\r\n                      onClick={onSubmitHandler}\r\n                      style={{display: \"none\"}}\r\n                      >\r\n                      </Button>\r\n\r\n                </Grid>\r\n      </div>\r\n     \r\n    </Container>\r\n  );\r\n}\r\nAjouterQuiz.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  submitHandler: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AjouterQuiz;\r\n","import React, {createRef, useEffect, useState} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {PictureAsPdf as PDFIcon, \r\n    Movie as MovieIcon,\r\n    LiveHelp as LiveHelpIcon,\r\n    ArrowBackIos as BackIcon,\r\n    ArrowForwardIos as NextIcon,\r\n    CheckCircle as SuccessIcon,\r\n    Error as ErrorIcon\r\n\r\n} \r\n    from \"@material-ui/icons\"\r\nimport {Box, Grid, Typography} from \"@material-ui/core\"\r\n\r\n// Styles\r\nimport {useColorlibStepIconStyles,ColorlibConnector} from './styles'\r\n\r\n\r\n\r\n// Components\r\nimport CustomStepper from \"../../../../../shared/CustomStepper\"\r\nimport AjouterVideo from './AjouterVideo'\r\nimport AjouterDocument from './AjouterResume'\r\nimport AjouterQuiz from './AjouterQuiz'\r\n\r\n// Services\r\nimport TeacherService from '../../../../../../services/teacherServices'\r\n\r\n\r\nconst icons={\r\n    1: <MovieIcon/>,\r\n    2: <PDFIcon/>,\r\n    3: <LiveHelpIcon/>,\r\n    \r\n}\r\nconst steps=[\r\n    {\r\n        title: 'Contenu principale',\r\n    },\r\n    {\r\n        title: 'Rsum du cours',\r\n    },\r\n    {\r\n        title: 'Quiz',\r\n    },\r\n    \r\n    \r\n]\r\n\r\nfunction AjouterCours(props) {\r\n    const stepIconStyles=useColorlibStepIconStyles();\r\n    const classes=stepIconStyles;\r\n\r\n    const [registerCourseFeedback,setregisterCourseFeedback]=useState((\r\n        < >\r\n        </>\r\n    ))\r\n    const defaultState={\r\n        titre:'',\r\n        ordre: 1,\r\n        trimestre: 1,\r\n        lien:'',\r\n        thumbnail: '',\r\n        titrePdf:'',\r\n        pdfFile:null,\r\n        questionsList: []\r\n        \r\n    }\r\n    const [globalState,SetGlobalState]=useState(defaultState);\r\n    // Only for test\r\n    // useEffect(()=>{\r\n    //     console.log(\"Global State changed. Here's the updated version : \",globalState)\r\n\r\n    // },[globalState])\r\n\r\n    const [stepsPassed,setStepsPassed]=useState([false,false,false]);\r\n    \r\n    \r\n    const [addVideoRef,setaddVideoRef]=useState(createRef());\r\n    const [addResumeRef,setaddResumeRef]=useState(createRef());\r\n    const [addQuizRef,setaddQuizRef]=useState(createRef());\r\n    \r\n    /**\r\n     * Link the Submit button Ref to this state\r\n     * @param {*} ref Step submit button Reference\r\n     * @param {*} step Step number\r\n     */\r\n    const linkRefHandle=(ref,step)=>{\r\n        if(step===0) setaddVideoRef(ref);\r\n        if(step===1) setaddResumeRef(ref);\r\n        if(step===2) setaddQuizRef(ref);\r\n        \r\n    }\r\n\r\n    const submitRefHandle=(ref)=>{\r\n        setaddVideoRef(ref);\r\n        \r\n    }\r\n    /**\r\n     * Turn the passed step to invalid, after changind any field of its form.\r\n     * @param {*} step Step number\r\n     */\r\n    const updateStepsStatus=(step)=> setStepsPassed(stepsPassed.map((val,idx)=> step===idx?false:val )) ;\r\n    \r\n    const validateStep=(step)=>{\r\n        if(step===2 && stepsPassed.filter(el=> el===true).length===3){\r\n            // console.log('Sending cours ...');\r\n            \r\n            // console.log(\"Questions List : \",globalState.questionsList);\r\n            TeacherService.addNewCourse({\r\n                adminType: \"enseignant\",\r\n                ...globalState,\r\n                matiere: props.teacher.matiere._id,\r\n                classe: props.currentClasse,\r\n                ordre: globalState.ordre+1,\r\n                video: globalState.lien,\r\n                pdf: globalState.pdfFile.file,\r\n                enseignant: props.teacher.id,\r\n                \r\n            }).then(\r\n                res=>{\r\n                    setregisterCourseFeedback((\r\n                        < >\r\n                            <SuccessIcon className={classes.sucess} fontSize=\"large\"  />\r\n                            <Typography className={classes.sucess} variant=\"body1\" >Cours enregistr avec succs.</Typography>\r\n                        </>\r\n                    ));\r\n\r\n                    if(props.onApprendNewCours)\r\n                        props.onApprendNewCours(res.newCours)\r\n\r\n\r\n                    SetGlobalState(defaultState)\r\n\r\n                },\r\n                err=>{\r\n                    console.log(err)\r\n                    setregisterCourseFeedback((\r\n                        < >\r\n                            <ErrorIcon fontSize=\"large\" className={classes.error}  />\r\n                            <Typography className={classes.error}  variant=\"body1\" >Une erreur s'est produite. Impossible d'ajouter le cours.</Typography>\r\n                                    <p>{(err.message && err.message)|| err}</p>\r\n                        </>\r\n                    ))\r\n\r\n                }\r\n            )\r\n            \r\n            return stepsPassed[step];\r\n        }\r\n        if(step===0) addVideoRef.current.click()\r\n        if(step===1) addResumeRef.current.click()\r\n        if(step===2) addQuizRef.current.click()\r\n       \r\n        return stepsPassed[step];\r\n    }\r\n    \r\n    const updateState=(state,step)=>{\r\n        SetGlobalState({\r\n            ...globalState,\r\n            ...state\r\n        });\r\n        setStepsPassed(stepsPassed.map((val,idx)=> val || step===idx ))\r\n        \r\n     \r\n        return true;\r\n        \r\n    }\r\n    \r\n    const wrapper=(component)=>(\r\n        <Grid container spacing={3}>\r\n            {component}\r\n            </Grid>\r\n    )\r\n        //Define each step Component\r\n    steps[0].children= (wrapper(<AjouterVideo withTitle \r\n        state={globalState} linkRefHandle={linkRefHandle} \r\n        updateStepsStatus={updateStepsStatus} submitRefTracker={submitRefHandle} \r\n        classes={classes} \r\n        currentClasse={props.currentClasse}\r\n        submitHandler={updateState}\r\n        />))\r\n    steps[1].children= (wrapper(<AjouterDocument  \r\n        state={globalState} linkRefHandle={linkRefHandle} \r\n        updateStepsStatus={updateStepsStatus} \r\n        classes={classes} \r\n        submitHandler={updateState}\r\n        />))\r\n    steps[2].children= (wrapper(<AjouterQuiz  \r\n        state={globalState} linkRefHandle={linkRefHandle} \r\n        updateStepsStatus={updateStepsStatus} \r\n        classes={classes} \r\n        submitHandler={updateState}\r\n        />))\r\n\r\n    return (\r\n        <div>\r\n            <CustomStepper  \r\n            StepConnector={ColorlibConnector} \r\n            labelStepsIconsClasses={stepIconStyles} \r\n            icons={icons}\r\n            steps={steps}\r\n            nextBtnIcon={{endIcon:(<NextIcon/>)}}\r\n            // nexHandler={(step)=>(stepsPassed[step]===true) }\r\n            nexHandler={(step)=> validateStep(step) }\r\n            backBtnIcon={{startIcon:(<BackIcon/>)}}\r\n            finalStep={<Box display=\"flex\" flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" style={{minHeight: \"100px\"}}>\r\n                {registerCourseFeedback}\r\n\r\n            </Box>}\r\n            />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nAjouterCours.propTypes = {\r\n    currentClasse: PropTypes.string.isRequired\r\n\r\n}\r\n\r\nexport default AjouterCours\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  MuiThemeProvider,\r\n  createMuiTheme,\r\n} from \"@material-ui/core/styles\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  IconButton,\r\n  Box,\r\n  Typography,\r\n  Tooltip,\r\n  TextField,\r\n  InputAdornment,\r\n  SvgIcon,\r\n  Grid,\r\n  Paper,\r\n  MenuItem,\r\n} from \"@material-ui/core\";\r\nimport { purple } from \"@material-ui/core/colors\";\r\nimport { Search as SearchIcon } from \"react-feather\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport {\r\n  Cancel as CancelIcon,\r\n  Edit as EditIcon,\r\n  PictureAsPdf as PDFIcon,\r\n  LiveHelp as QuizIcon,\r\n} from \"@material-ui/icons\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n\r\n//themes\r\nimport { defaultTheme, bootstraptheme } from \"../../../../../themes/palettes\";\r\n\r\n// components\r\nimport CustomTable from \"../../../../shared/tables/CustomTable\";\r\nimport AddCoursForm from \"./Add/AjouterCours\";\r\nimport Page from \"../../../../shared/Page\";\r\nimport Modal from '../../../../shared/Modal' ;\r\nimport ToasterSnackBar from \"../../../../shared/notifiers/toaster/ToasterSnackBar\";\r\nimport LoadingComponent from \"../../../../shared/LoadingComponent\";\r\n\r\n// Services\r\nimport TeacherService from \"../../../../../services/teacherServices\";\r\n\r\n// Data\r\nimport { coursHeadCells } from \"../../../../data/tableHeads\";\r\n\r\nconst successtheme = createMuiTheme({\r\n  palette: {\r\n    primary: { main: \"#4caf50\" },\r\n    secondary: {\r\n      main: \"#f44336\",\r\n    },\r\n  },\r\n});\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n  grid: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  red: {\r\n    color: theme.palette.error.light,\r\n    cursor: \"pointer\",\r\n  },\r\n  purple: {\r\n    color: purple[300],\r\n    cursor: \"pointer\",\r\n  },\r\n  buttonRed: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n    backgroundColor: theme.palette.error.light,\r\n    cursor: \"pointer\",\r\n  },\r\n  buttonPurple: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n    backgroundColor: purple[300],\r\n    cursor: \"pointer\",\r\n  },\r\n}));\r\n\r\nexport function Contenu(props) {\r\n  // Styles\r\n  const classes = useStyles();\r\n\r\n  // States\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [toasterOpen, setToasterOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({});\r\n\r\n  const [coursRows, setCoursRows] = useState([]);\r\n  const [filtredCoursRows, setFiltredCoursRows] = useState([]);\r\n  const [displayedCourses, setDisplayedCourses] = useState([]);\r\n  const [currentClasse, setCurrentClasse] = useState(\"\");\r\n  const [showAddForm, setShowAddForm] = useState(false); // Loading spinners controller\r\n  const [deleteCoursPopup, setDeleteCoursPopup] = useState(false);\r\n  const [coursToDelete, setCoursToDelete] = useState(\"\");\r\n  const [deleteCoursActions, setDeleteCoursActions] = useState([]);\r\n\r\n  const parseCoursRow=(DBrow)=>({\r\n    ...DBrow,\r\n    actions: (\r\n      <>\r\n        <Tooltip title=\"Modifier\">\r\n          <IconButton\r\n            size=\"medium\"\r\n            color=\"primary\"\r\n            onClick={(e) => console.log()}\r\n          >\r\n            <EditIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"Supprimer\">\r\n          <IconButton\r\n            size=\"medium\"\r\n            color=\"secondary\"\r\n            onClick={(e) => deleteCours(DBrow)}\r\n          >\r\n            <CancelIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </>\r\n    ),\r\n    attachements: (\r\n      <>\r\n        <Tooltip title={`Ce cours contient un ${\"rsum\"} en PDF`}>\r\n          <IconButton disabled={!DBrow.pdf || DBrow.pdf === null}>\r\n            {\" \"}\r\n            <PDFIcon fontSize=\"large\" className={classes.red} />{\" \"}\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip\r\n          title={`Ce cours contient un quiz de ${DBrow.quiz.length} questions`}\r\n        >\r\n          <IconButton>\r\n            {\" \"}\r\n            <QuizIcon fontSize=\"large\" className={classes.purple} />{\" \"}\r\n          </IconButton>\r\n        </Tooltip>\r\n      </>\r\n    ),\r\n  })\r\n  useEffect(() => {\r\n    props.teacher.classes &&\r\n      props.teacher.classes &&\r\n      setCurrentClasse(props.teacher.classes[0]._id);\r\n    coursHeadCells.push({\r\n      id: \"attachements\",\r\n      numeric: false,\r\n      disablePadding: false,\r\n      label: \"Attachements\",\r\n      withChildComponent: true,\r\n    });\r\n    coursHeadCells.push({\r\n      id: \"actions\",\r\n      numeric: false,\r\n      disablePadding: false,\r\n      label: \"Actions\",\r\n      withChildComponent: true,\r\n    });\r\n    setisLoading(true);\r\n\r\n\r\n    TeacherService.getProfCourses({\r\n      adminType: \"enseignant\",\r\n      id: props.teacher.id,\r\n    }).then(\r\n      (res) => {\r\n        console.log(\"Les cours de ce prof : \", res);\r\n        const rows = res.courses.map((row) => parseCoursRow(row));\r\n        const firstClasseRows = rows.filter(\r\n          (row) => row.classe === props.teacher.classes[0]._id\r\n        );\r\n        setCoursRows(rows);\r\n        setFiltredCoursRows(firstClasseRows);\r\n        setDisplayedCourses(firstClasseRows);\r\n        setisLoading(false);\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        setisLoading(false);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  const appendNewCours=(newCours)=>{\r\n    setCoursRows([...coursRows,parseCoursRow(newCours)])\r\n    setFiltredCoursRows([...filtredCoursRows,parseCoursRow(newCours)])\r\n  }\r\n\r\n  const deleteCours = (row)=>{\r\n    setDeleteCoursActions([\r\n      {\r\n        label:\"Supprimer\",\r\n        className: classes.buttonRed,\r\n        clickHandler: (e)=>{\r\n          TeacherService.deleteCourse({id: row._id, adminType:\"enseignant\"}).then(\r\n            res=>{\r\n                // Show success alert toaster\r\n              setAlertProps({\r\n                severity : \"success\",\r\n                message: 'Cours supprim avec succs'\r\n              });\r\n              setToasterOpen(true);\r\n                // Update current rows states\r\n              const newcourses=coursRows.filter(el=>el._id!==row._id);\r\n              setCoursRows(newcourses);\r\n              const ofCurrentYear=newcourses.filter(el=>el.classe===currentClasse);\r\n              setDisplayedCourses(ofCurrentYear)\r\n              setFiltredCoursRows(ofCurrentYear);\r\n                // Close the pop-up\r\n              setTimeout(() => {\r\n                setDeleteCoursPopup(false);\r\n                \r\n              }, 1000);\r\n\r\n            },\r\n            err=>{\r\n              // Show fail alert toaster\r\n              setAlertProps({\r\n                severity:'error',\r\n                message : `Une erreur s'est produite ${(err.message && err.message) || err }`\r\n              });\r\n              setToasterOpen(true);\r\n\r\n            }\r\n          )\r\n\r\n        }\r\n      },\r\n      {\r\n        label:\"Annuler\",\r\n        className: classes.buttonPurple,\r\n        clickHandler: (e)=>setDeleteCoursPopup(false)\r\n      }\r\n    ])\r\n    setDeleteCoursPopup(true);\r\n\r\n  }\r\n  const closeToaster=(e)=> setToasterOpen(false);\r\n\r\n  const changeYearcourses = (e) => {\r\n    setCurrentClasse(e.target.value);\r\n    const newRows = coursRows.filter((row) => row.classe === e.target.value);\r\n    setDisplayedCourses(newRows);\r\n    setFiltredCoursRows(newRows);\r\n  };\r\n\r\n  // SearcheBar handle changes\r\n  const handleSearchInputChange = (e) => {\r\n    if (e.target.value.length < 4) {\r\n      setFiltredCoursRows(displayedCourses);\r\n      return;\r\n    }\r\n    const value = e.target.value;\r\n    setFiltredCoursRows(\r\n      displayedCourses.filter(\r\n        (row) =>\r\n          (row.titre && row.titre.indexOf(value) !== -1) ||\r\n          (row.titrePdf && row.titrePdf.indexOf(value) !== -1)\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Contenu Pdagogique\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n        <ToasterSnackBar\r\n          open={toasterOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={<Alert variant=\"filled\" severity={alertProps.severity}>\r\n          {alertProps.message}\r\n        </Alert>}\r\n        \r\n        />\r\n        <Modal \r\n          open={deleteCoursPopup}\r\n          title={\"Suppression Du Cours\"}\r\n          body={<Typography variant=\"body1\" color=\"textSecondary\">tes-vous srs de vouloir supprimer {coursToDelete} ?</Typography>}\r\n          actions={deleteCoursActions}\r\n          handleClose={()=>setDeleteCoursPopup(false)}\r\n           />\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12} sm={6}>\r\n              <Box\r\n                mt={3}\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n                display=\"flex\"\r\n                flexDirection=\"row\"\r\n              >\r\n                <TextField\r\n                  select\r\n                  fullWidth\r\n                  value={currentClasse}\r\n                  onChange={changeYearcourses}\r\n                  label=\"Choisissez la classe  afficher\"\r\n                >\r\n                  {props.teacher.classes &&\r\n                    props.teacher.classes.map((cl) => (\r\n                      <MenuItem key={cl._id} value={cl._id}>\r\n                        {cl.codeCl}\r\n                      </MenuItem>\r\n                    ))}\r\n                </TextField>\r\n              </Box>\r\n            </Grid>\r\n            {/* Recherche de cours */}\r\n            <Grid item xs={12} sm={8}>\r\n              <Box mt={3}>\r\n                <Box maxWidth={500}>\r\n                  <TextField\r\n                    fullWidth\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <SvgIcon fontSize=\"small\" color=\"action\">\r\n                            <SearchIcon />\r\n                          </SvgIcon>\r\n                        </InputAdornment>\r\n                      ),\r\n                    }}\r\n                    placeholder=\"Rechercher un cours ...\"\r\n                    variant=\"outlined\"\r\n                    onChange={(e) => handleSearchInputChange(e)}\r\n                  />\r\n                </Box>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <Box\r\n                mt={3}\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n                display=\"flex\"\r\n                flexDirection=\"row\"\r\n              >\r\n                <MuiThemeProvider theme={successtheme}>\r\n                  <Button\r\n                    size=\"medium\"\r\n                    variant=\"contained\"\r\n                    className={classes.button}\r\n                    startIcon={<AddIcon />}\r\n                    color=\"primary\"\r\n                    onClick={(e) => setShowAddForm(true)}\r\n                  >\r\n                    Ajouter\r\n                  </Button>\r\n                </MuiThemeProvider>\r\n              </Box>\r\n            </Grid>\r\n            {/* Liste des cours */}\r\n            <Grid item xs={12}>\r\n              <Paper className={classes.paper}>\r\n                <MuiThemeProvider theme={bootstraptheme}>\r\n                  <LoadingComponent\r\n                    component={\r\n                      <CustomTable\r\n                        withStartCheckbox={false}\r\n                        tableTitle={\"Liste des cours\"}\r\n                        headCells={coursHeadCells}\r\n                        rows={filtredCoursRows}\r\n                        indexName={\"id\"}\r\n                        withActions={false}\r\n                        rowClickHandler={() => {}}\r\n                      />\r\n                    }\r\n                    controller={isLoading}\r\n                  />\r\n                </MuiThemeProvider>\r\n              </Paper>\r\n            </Grid>\r\n            {showAddForm && (\r\n              <Grid item xs={12}>\r\n                <Paper\r\n                  className={classes.paper}\r\n                  style={{ padding: defaultTheme.spacing(2) }}\r\n                >\r\n                  <Typography variant=\"h4\" color=\"textPrimary\" align=\"center\">\r\n                    Ajouter Un Nouveau Cours\r\n                  </Typography>\r\n                  <MuiThemeProvider theme={defaultTheme}>\r\n                    <AddCoursForm\r\n                      teacher={props.teacher}\r\n                      currentClasse={currentClasse}\r\n                      onApprendNewCours={(newCours)=>appendNewCours(newCours)}\r\n                    />\r\n                  </MuiThemeProvider>\r\n                </Paper>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  // teacher : state.managerReducer.user\r\n  teacher: state.adminReducer.user,\r\n});\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Contenu);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport { Container, Grid, Paper } from \"@material-ui/core\";\r\nimport MUIDataTable from \"mui-datatables\";\r\n\r\n//themes\r\nimport { defaultTheme } from \"../../../../themes/palettes\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n// components\r\nimport Page from \"../../../shared/Page\";\r\nimport LoadingComponent from \"../../../shared/LoadingComponent\";\r\n\r\n// Data\r\nimport { profsHeadCells } from \"../../../data/tableHeads\";\r\nimport TeacherService from \"../../../../services/teacherServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n}));\r\nexport function Eleves(props) {\r\n  const classes = useStyles();\r\n\r\n  const dataColumns = profsHeadCells.map((el) => el.label);\r\n\r\n  // States\r\n  const [filtredElevesRows, setFiltredElevesRows] = useState([]);\r\n  const [isLoading, setisLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setisLoading(true);\r\n    TeacherService.getProfEleves({\r\n      adminType: \"enseignant\",\r\n      id: props.user._id,\r\n    }).then(\r\n      (res) => {\r\n        console.log(\"Tous les lves concerns par ce prof : \", res);\r\n\r\n        setFiltredElevesRows(\r\n          res.eleves.map((row) =>\r\n            profsHeadCells.map((column) => row[column.id])\r\n          )\r\n        );\r\n        setisLoading(false);\r\n      },\r\n      (err) => {\r\n        setisLoading(false);\r\n        console.log(err);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Eleves\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <LoadingComponent\r\n                component={\r\n                  <Paper className={classes.paper}>\r\n                    <MUIDataTable\r\n                      title=\"Liste des lves\"\r\n                      data={filtredElevesRows}\r\n                      columns={dataColumns}\r\n                      options={{\r\n                        filterType: \"checkbox\",\r\n                      }}\r\n                    />\r\n                  </Paper>\r\n                }\r\n                controller={isLoading}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // user: state.managerReducer.user,\r\n  user: state.adminReducer.user,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Eleves);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Grid,\r\n  Container,\r\n  Button,\r\n  IconButton,\r\n  Card,\r\n  CardHeader,\r\n  CardActions,\r\n  CardContent,\r\n  Divider,\r\n  makeStyles,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\nimport { InputAdornment } from \"@material-ui/core\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n// import { MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { TeacherActions as Actions } from \"../../../../redux/actions/\";\r\n\r\n// components\r\nimport Page from \"../../../shared/Page\";\r\nimport ProfileAvatar from \"../../../shared/ProfileAvatar\";\r\nimport CustomForm from \"../../../shared/CustomForm\";\r\nimport LoadingComponent from \"../../../shared/LoadingComponent\";\r\nimport ToasterSnackBar from \"../../../shared/notifiers/toaster/ToasterSnackBar\";\r\n// import TeacherService from \"../../../../services/teacherServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n  card: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    height: 100,\r\n    width: 100,\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  nom: Yup.string()\r\n    .max(20, \"Le nom de famille ne doit pas dpasser 20 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  prenom: Yup.string()\r\n    .max(50, \"Le prnom ne doit pas dpasser 50 caractres\")\r\n    .required(\"Champs Obligatoire\"),\r\n  email: Yup.string()\r\n    .email(\"Adresse Email invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  phone: Yup.string()\r\n    .trim()\r\n    .matches(/^0[5679]\\d{8}$/, \"Numro de tlephone invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  newpassword: Yup.string(),\r\n  currentpassword: Yup.string().test(\r\n    \"passwords-match\",\r\n    \"Vous devez saisir le mot de passe actuel\",\r\n    function (value) {\r\n      // console.log(this.parent);\r\n      return (\r\n        !this.parent.newpassword ||\r\n        this.parent.newpassword === \"\" ||\r\n        (this.parent.newpassword !== \"\" && value && value !== \"\")\r\n      );\r\n      // return false;\r\n    }\r\n  ),\r\n});\r\nconst nom = {\r\n  type: \"input\",\r\n  props: { name: \"nom\", required: true, type: \"text\", label: \"Nom\" },\r\n};\r\nconst prenom = {\r\n  type: \"input\",\r\n  props: { name: \"prenom\", required: true, type: \"text\", label: \"Prenom\" },\r\n};\r\nconst email = {\r\n  type: \"input\",\r\n  props: { name: \"email\", required: true, type: \"email\", label: \"Email\" },\r\n};\r\nconst phone = {\r\n  type: \"input\",\r\n  props: { name: \"phone\", required: true, type: \"text\", label: \"Tlephone\" },\r\n};\r\n\r\nconst constructPasswordField = (params) => ({\r\n  endAdornment: (\r\n    <InputAdornment position=\"end\">\r\n      <IconButton\r\n        aria-label=\"toggle password visibility\"\r\n        onClick={params.handleClickShowPassword}\r\n      >\r\n        {params.showPassword ? <Visibility /> : <VisibilityOff />}\r\n      </IconButton>\r\n    </InputAdornment>\r\n  ),\r\n});\r\n\r\nexport const Profile = ({ className, cardProps, ...props }) => {\r\n  const classes = useStyles();\r\n  const user = props.user;\r\n  // States\r\n  const [state, setState] = useState({\r\n    ...user,\r\n    currentpassword: \"\",\r\n    newpassword: \"\",\r\n  });\r\n  const [isLoding, setisLoding] = useState(false);\r\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false);\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n\r\n  // Define notification state\r\n  const [alertOpen, setAlertOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({\r\n    severity: \"success\",\r\n    message: \"Profile mis  jours avec succs\",\r\n  });\r\n  const toasterContent = (\r\n    <Alert variant=\"filled\" severity={alertProps.severity}>\r\n      {alertProps.message}\r\n    </Alert>\r\n  );\r\n  const closeToaster = () => setAlertOpen(false);\r\n  const [progressValue, setProgressValue] = useState(0);\r\n\r\n  // Update field's initial falues\r\n  nom.props.value = state.nom;\r\n  prenom.props.value = state.prenom;\r\n  email.props.value = state.email;\r\n  phone.props.value = state.phone;\r\n  // const formState=\r\n\r\n  /**\r\n   * Handle toggle show/hide password\r\n   * @param {*} name\r\n   */\r\n  const handleShowPassword = (name) => {\r\n    if (name === \"currentpassword\")\r\n      setShowCurrentPassword(!showCurrentPassword);\r\n    if (name === \"newpassword\") setShowNewPassword(!showNewPassword);\r\n  };\r\n\r\n  const currentpassword = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"currentpassword\",\r\n      type: showCurrentPassword ? \"text\" : \"password\",\r\n      label: \"Mot de passe actuel\",\r\n      InputProps: constructPasswordField({\r\n        showPassword: showCurrentPassword,\r\n        handleClickShowPassword: (e) => handleShowPassword(\"currentpassword\"),\r\n      }),\r\n    },\r\n  };\r\n  const newpassword = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"newpassword\",\r\n      type: showNewPassword ? \"text\" : \"password\",\r\n      label: \"Nouveau mot de passe\",\r\n      InputProps: constructPasswordField({\r\n        showPassword: showNewPassword,\r\n        handleClickShowPassword: (e) => handleShowPassword(\"newpassword\"),\r\n      }),\r\n    },\r\n  };\r\n  // Define the shape of the form\r\n  const formStructure = [\r\n    [nom, prenom], // This is a row in the form grid\r\n    [email, phone],\r\n    [currentpassword, newpassword],\r\n  ];\r\n\r\n  const handleLoadImg = (event) => {\r\n    const file = event.currentTarget.files[0];\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      const fileToAdd = {\r\n        file: file,\r\n        data: fileReader.result,\r\n        isUploading: false,\r\n      };\r\n      const changesObj = {\r\n        ...state,\r\n        imgFile: fileToAdd,\r\n      };\r\n      setState(changesObj);\r\n    };\r\n    fileReader.onerror = () => {\r\n      console.log(\r\n        \"Une est s'est produite lors de chargement de l'image depuis le disque\"\r\n      );\r\n    };\r\n\r\n    fileReader.readAsDataURL(file);\r\n  };\r\n\r\n  const uploadImage = () => {\r\n    //Update file (Change its state to uploading)\r\n    setState({\r\n      ...state,\r\n      imgFile: {\r\n        ...state.imgFile,\r\n        isUploading: true,\r\n      },\r\n    });\r\n\r\n    // Send files to Server\r\n    const data = new FormData();\r\n    data.append(\"file\", state.imgFile.file);\r\n    return axios\r\n      .post(\"http://localhost:4000/upload/admins/profileImg\", data, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n        onUploadProgress: (progressEvent) => {\r\n          setProgressValue((progressEvent.loaded / progressEvent.total) * 100);\r\n        },\r\n      })\r\n      .then(\r\n        (res) => {\r\n          console.log(`Server result : ${res}`);\r\n          if (res.status === 200) {\r\n            console.log(\"File successfullly uploaded.\");\r\n            return Promise.resolve({ ok: true, res: res });\r\n          }\r\n          return Promise.reject(\"L'image n'a pas pu charge correcttement\");\r\n        },\r\n        (err) => {\r\n          return Promise.reject(\r\n            `Une erreur est survenu lors de chargement : ${err}`\r\n          );\r\n        }\r\n      );\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (data) => {\r\n    const changes = Object.assign(\r\n      {},\r\n      ...Object.keys(user)\r\n        .map((key) => {\r\n          if (data[key] && user[key] !== data[key] && data[key] !== \"\")\r\n            return {\r\n              [key]: data[key],\r\n            };\r\n          else return undefined  \r\n        })\r\n        .filter((el) => !(typeof el === \"undefined\"))\r\n    );\r\n    if (state.imgFile) changes.image = state.imgFile.file;\r\n    if (data.currentpassword && data.newpassword) {\r\n      changes.oldPassword = data.currentpassword;\r\n      changes.newPassword = data.newpassword;\r\n    }\r\n\r\n    // If no field is changed, do not do anything, quit\r\n    if (!Object.keys(changes).length) return;\r\n    changes.id = user.id;\r\n\r\n    setisLoding(true)\r\n    props\r\n      .updateProfile({ ...changes, adminType: \"enseignant\", id: user.id })\r\n      .then(\r\n        (res) => {\r\n          setAlertProps({\r\n            severity: \"success\",\r\n            message: \"Profile mis  jours avec succs\",\r\n          });\r\n          setAlertOpen(true);\r\n          setisLoding(false)\r\n        },\r\n        (err) => {\r\n          // props.updateProfile({ type: \"UPDATE_PROFILE_FAILED\", err });\r\n          setAlertProps({\r\n            severity: \"error\",\r\n            message: `Une erreur s'est produite ${\r\n              err.message ? err.message : \"\"\r\n            }`,\r\n          });\r\n          setAlertOpen(true);\r\n          setisLoding(false)\r\n        }\r\n      );\r\n  };\r\n  return (\r\n    <Page className={classes.root} title=\"Compte\">\r\n      <Container maxWidth=\"lg\">\r\n        <ToasterSnackBar\r\n          open={alertOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={toasterContent}\r\n        />\r\n\r\n        <Grid container spacing={3}>\r\n          <Grid item lg={4} md={6} xs={12}>\r\n            <Card {...cardProps}>\r\n              <CardContent>\r\n                <ProfileAvatar\r\n                  firstname={user.nom}\r\n                  lastname={user.prenom}\r\n                  avatar={(state.imgFile && state.imgFile.data) || user.image}\r\n                  descriptionTitle={user.jobTitle}\r\n                  classes={classes}\r\n                />\r\n              </CardContent>\r\n              <Divider />\r\n              <CardActions>\r\n                <form encType=\"multipart/form-data\">\r\n                  <input\r\n                  type=\"file\"\r\n                  id=\"profilePicture\"\r\n                  name=\"profilePicture\"\r\n                  hidden\r\n                  accept=\"image/png, image/jpeg\"\r\n                  onChange={handleLoadImg}\r\n                />\r\n                </form>\r\n                <Button\r\n                  component=\"label\"\r\n                  htmlFor=\"profilePicture\"\r\n                  color=\"primary\"\r\n                  fullWidth\r\n                  variant=\"text\"\r\n                >\r\n                  Modifier votre avatar\r\n                </Button>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item lg={8} md={6} xs={12}>\r\n            <Card>\r\n              <CardHeader\r\n                subheader=\"Vous pouvez modifier vos informations\"\r\n                title=\"Paramtres du profile\"\r\n              />\r\n              <Divider />\r\n              {/* <MuiThemeProvider theme={tinyTheme}> */}\r\n              <LoadingComponent \r\n                component={<CustomForm\r\n                  validationSchema={validationSchema}\r\n                  fieldsHiearchy={formStructure}\r\n                  initialState={state}\r\n                  onChange={handleChange}\r\n                  onSubmit={handleSubmit}\r\n                  submitLabel={\"Mettre  jours\"}\r\n                />}\r\n                controller={isLoding}\r\n                />\r\n              {/* </MuiThemeProvider> */}\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container justify=\"center\">\r\n          <Grid item xs={12} sm={8}>\r\n            {state.avatar != null && progressValue > 0 && (\r\n              <LinearProgress\r\n                variant=\"determinate\"\r\n                color={\"primary\"}\r\n                value={progressValue}\r\n              />\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Page>\r\n  );\r\n};\r\n\r\nProfile.propTypes = {\r\n  className: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // user: state.managerReducer.user,\r\n  user: state.adminReducer.user,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    // updateProfile: (params) =>dispatch(params),\r\n    updateProfile: (params) => dispatch(Actions.updateProfile(params)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import React from 'react'\r\nimport {Box,Typography} from \"@material-ui/core\"\r\nfunction Statistiques(props) {\r\n    return (\r\n        <div>\r\n            <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" justifyContent=\"center\" style={{height: \"100vh\"}}>\r\n\r\n            <Typography variant=\"h1\" color=\"textSecondary\"> Not Implemented Yet</Typography>\r\n            <Typography variant=\"h5\" color=\"textSecondary\"> Coming Soon</Typography>\r\n            </Box>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Statistiques\r\n\r\n","import React from \"react\";\r\nimport { Route, BrowserRouter as Router, Routes,Navigate } from \"react-router-dom\";\r\n\r\n// View\r\nimport Auth from \"./Admin/auth/pages/Auth\";\r\nimport Logout from \"./Admin/auth/pages/Logout\";\r\nimport ManagerDashboardLayout from \"./Admin/Manager/dashboard/pages/DashboardLayout\";\r\nimport TeacherDashboardLayout from \"./Admin/Teacher/dashboard/pages/Dashboard\";\r\n// Manager's views\r\nimport Dashboard from \"./Admin/Manager/dashboard/pages/dashboard/Dashboard\";\r\nimport Enseignants from \"./Admin/Manager/dashboard/pages/enseignants/Enseignants\";\r\nimport Abonnes from \"./Admin/Manager/dashboard/pages/Abonnes\";\r\nimport Eleves from \"./Admin/Manager/dashboard/pages/Eleves\";\r\nimport Profile from \"./Admin/Manager/dashboard/pages/Profile\";\r\nimport Pubs from \"./Admin/Manager/dashboard/pages/pubs/Pubs\";\r\nimport Statistiques from \"./Admin/Manager/dashboard/pages/Statistiques\";\r\n\r\n// Teacher's views\r\nimport Contenu from \"./Admin/Teacher/dashboard/pages/contenu/Contenu\";\r\nimport ElevesClasse from \"./Admin/Teacher/dashboard/pages/Eleves\";\r\nimport TeacherProfile from \"./Admin/Teacher/dashboard/pages/Profile\";\r\nimport TeacherStatistiques from \"./Admin/Teacher/dashboard/pages/Statistiques\";\r\n\r\n \r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n\r\nconst isLoggedIn = (adminType) => {\r\n  const admin = localStorage.getItem(\r\n    adminType === \"manager\" ? \"manager\" : \"enseignant\"\r\n  );\r\n  return admin !== null;\r\n};\r\n\r\n\r\n\r\nfunction PrivateRoute({ component: Component, adminType,from,...rest }) {\r\n\r\n  return (\r\n    // <Provider store={from===\"/\"?ManagerStore:TeacherStore} >\r\n    <Route\r\n      {...rest}\r\n      element={((props) =>\r\n        isLoggedIn(adminType) ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Navigate\r\n          \r\n            to={{ pathname: \"/login\", state: { from: from } }}\r\n          />\r\n        )\r\n      )()\r\n      }\r\n    />\r\n    // </Provider>\r\n  );\r\n}\r\n\r\nfunction router(props) {\r\n\r\n  return (\r\n    <Router>\r\n    <Routes>\r\n    \r\n      <Route path='/login' element={<Auth /> } />\r\n      <Route path='/logout' element={<Logout /> } />\r\n      {props.currentAdminType===\"manager\" && (<Route path=\"/\"   element={<PrivateRoute component={ManagerDashboardLayout} adminType='manager' from='/' path='/'/>}>\r\n       \r\n        <Route path=\"\" element={<Dashboard />} />\r\n        <Route path=\"enseignants\" element={<Enseignants />} />\r\n        <Route path=\"cyclesannes\" element={<Dashboard />} />\r\n        <Route path=\"abonnes\" element={<Abonnes />} />\r\n        <Route path=\"eleves\" element={<Eleves/>} />\r\n        <Route path=\"statistiques\" element={<Statistiques/>} />\r\n        <Route path=\"profile\" element={<Profile/>} />\r\n        <Route path=\"pubs\" element={<Pubs/>} />\r\n      </Route>)} \r\n      {props.currentAdminType===\"enseignant\" &&(<Route path=\"/teacher\"   element={<PrivateRoute component={TeacherDashboardLayout} adminType='enseignant' from='/teacher' path='/teacher'/>}>\r\n       \r\n        <Route path=\"contenu\" element={<Contenu />} />\r\n        <Route path=\"eleves\" element={<ElevesClasse/>} />\r\n        <Route path=\"statistiques\" element={<TeacherStatistiques/>} />\r\n        <Route path=\"profile\" element={<TeacherProfile/>} />\r\n      </Route> )}\r\n      {/* <Route path=\"*\" element={<Navigate\r\n          \r\n            to={{ pathname: \"/login\"}}\r\n          />}\r\n      /> */}\r\n    </Routes>\r\n  </Router>\r\n  )\r\n}\r\n\r\nrouter.propTypes = {\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => { return ({\r\n  currentAdminType: state.adminReducer.adminType,\r\n})};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(router);\r\n\r\n\r\n","/**\r\n * This script manages GUI layout related state changes\r\n */\r\nimport React from \"react\";\r\n\r\nvar LayoutStateContext = React.createContext();\r\nvar LayoutDispatchContext = React.createContext();\r\n\r\nfunction layoutReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"TOGGLE_SIDEBAR\":\r\n      return { ...state, isSidebarOpened: !state.isSidebarOpened };\r\n    case \"CHANGE_SELECTED_LINK\":\r\n      return { ...state, selectedLink: action.payload.link };\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n}\r\n\r\nfunction LayoutProvider({ children }) {\r\n  var [state, dispatch] = React.useReducer(layoutReducer, {\r\n    isSidebarOpened: true,\r\n    selectedLink:'/'\r\n    \r\n  });\r\n  return (\r\n    <LayoutStateContext.Provider value={state}>\r\n      <LayoutDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </LayoutDispatchContext.Provider>\r\n    </LayoutStateContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useLayoutState() {\r\n  var context = React.useContext(LayoutStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useLayoutState must be used within a LayoutProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nfunction useLayoutDispatch() {\r\n  var context = React.useContext(LayoutDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useLayoutDispatch must be used within a LayoutProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nfunction toggleSidebar(dispatch) {\r\n  dispatch({\r\n    type: \"TOGGLE_SIDEBAR\",\r\n  });\r\n}\r\nfunction changeLink(dispatch,link) {\r\n  dispatch({\r\n    type: \"CHANGE_SELECTED_LINK\",\r\n    payload:{\r\n      link:link\r\n    } \r\n  });\r\n}\r\nexport { LayoutProvider, useLayoutState, useLayoutDispatch, toggleSidebar,changeLink };\r\n\r\n","import {combineReducers} from \"redux\"\r\n\r\nconst layoutState={\r\n    theme: 'main',\r\n    selectedLink: 'dashboard'\r\n}\r\nconst userState={\r\n    user: JSON.parse(localStorage.getItem('manager')) || {},\r\n    adminType: \"manager\"\r\n    \r\n}\r\n\r\nfunction managerReducer(state=userState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_PROFILE\":\r\n            return {user:{...state.user, ...action.payload}};\r\n        case \"SET_CURRENT_MANAGER\":\r\n            return {...state,user:{...state.user, ...action.payload}};\r\n        case \"MANAGER_LOGIN_FAILED\":\r\n            return {loginStatus:{success: false, message: action.payload}};\r\n        case \"LOGOUT\":\r\n            return userState\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\nfunction managerLayoutReducer(state=layoutState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_SELECTED_NAVLINK\":\r\n            return {...state, selectedLink:action.payload.selectedLink};\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\n\r\nconst combined=combineReducers({\r\n    managerReducer,\r\n    managerLayoutReducer\r\n})\r\n\r\nexport default combined","import {combineReducers} from \"redux\"\r\n\r\nconst layoutState={\r\n    theme: 'main',\r\n    selectedLink: 'dashboard'\r\n}\r\nconst userState={\r\n    user: JSON.parse(localStorage.getItem('enseignant')) || {},\r\n    adminType: \"enseignant\"\r\n}\r\n\r\nfunction managerReducer(state=userState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_PROFILE\":\r\n            return {user:{...state.user, ...action.payload}};\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\nfunction managerLayoutReducer(state=layoutState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_SELECTED_NAVLINK\":\r\n            return {...state, selectedLink:action.payload.selectedLink};\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\n\r\nconst combined=combineReducers({\r\n    managerReducer,\r\n    managerLayoutReducer\r\n})\r\n\r\nexport default combined","import {combineReducers} from \"redux\"\r\n\r\nconst layoutState={\r\n    theme: 'main',\r\n    selectedLink: 'dashboard'\r\n}\r\nconst userState={\r\n    user: JSON.parse(localStorage.getItem('manager')) || JSON.parse(localStorage.getItem('enseignant')) || {},\r\n    adminType: JSON.parse(localStorage.getItem('enseignant'))!==null?\"enseignant\" : \"manager\",\r\n    status:{\r\n        // loginStatus:{success: true, message: \"Connexion russie\"}\r\n    }\r\n    \r\n}\r\n\r\nfunction adminReducer(state=userState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_PROFILE\":\r\n            return {...state,user:{...state.user, ...action.payload}};\r\n        case \"SET_CURRENT_MANAGER\":\r\n            return {...state,user:{...state.user, ...action.payload},adminType:\"manager\"};\r\n        case \"SET_CURRENT_TEACHER\":\r\n            return {...state,user:{...state.user, ...action.payload},adminType:\"enseignant\"};\r\n        case \"MANAGER_LOGIN_FAILED\":\r\n            return {...state,status: {...state.status,loginStatus:{success: false, message: action.payload}}};\r\n        case \"LOGOUT\":\r\n            return userState\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\nfunction managerLayoutReducer(state=layoutState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_SELECTED_NAVLINK\":\r\n            return {...state, selectedLink:action.payload.selectedLink};\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\n\r\nconst combined=combineReducers({\r\n    adminReducer,\r\n    managerLayoutReducer\r\n})\r\n\r\n\r\nexport default combined","import { createStore } from \"redux\";\r\n\r\nimport {ManagerReducers} from \"../reducers/\";\r\n\r\nconst store = createStore(ManagerReducers,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nexport default store;","import { createStore,compose,applyMiddleware } from \"redux\";\r\nimport thunk from'redux-thunk'\r\nimport {AdminReducer} from \"../reducers/\";\r\n\r\nconst store = createStore(AdminReducer,compose(applyMiddleware(thunk),window.__REDUX_DEVTOOLS_EXTENSION__()));\r\n\r\nexport default store;","import { createStore,compose,applyMiddleware } from \"redux\";\r\nimport thunk from'redux-thunk'\r\nimport {TeacherReducer} from \"../reducers/\";\r\n\r\nconst store = createStore(TeacherReducer,compose(applyMiddleware(thunk),window.__REDUX_DEVTOOLS_EXTENSION__()));\r\n\r\nexport default store;","\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport \"./App.css\";\r\n\r\nimport Routes from './router';\r\n\r\nimport {LayoutProvider} from './Admin/statecontexts/LayoutContext';\r\n// import {ManagerStore} from './redux/stores/';\r\nimport {AdminStore} from './redux/stores/';\r\n// import {configureFakeBackend} from './fake/fakeBackend'\r\nfunction App() {\r\n  // configureFakeBackend();\r\n\r\n  return (\r\n    <LayoutProvider>\r\n    <Provider store={AdminStore}>\r\n    <Routes/>\r\n    </Provider>\r\n    </LayoutProvider>\r\n\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport AppAdmin from './AppAdmin';\r\n\r\nfunction App() {\r\n  return (\r\n    // <Router>\r\n    <div>\r\n      <AppAdmin/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}