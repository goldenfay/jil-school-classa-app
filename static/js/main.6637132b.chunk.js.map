{"version":3,"sources":["Admin/shared/notifiers/toaster/ToasterSnackBar.js","Admin/shared/LoadingComponent.js","services/config.js","services/shared.js","services/managerServices.js","redux/actions/managerActions.js","services/teacherServices.js","redux/actions/teacherActions.js","Admin/auth/pages/Login.js","Admin/auth/pages/Signup.js","Admin/auth/pages/Auth.js","Admin/auth/pages/Logout.js","Admin/shared/sidebar/SidebarItem.js","Admin/shared/sidebar/SidebarItemList.js","utils/functions.js","Admin/shared/ProfileAvatar.js","Admin/shared/sidebar/SidebarProfile.js","Admin/shared/sidebar/index.js","Admin/Manager/dashboard/pages/DashboardLayout.js","Admin/Teacher/dashboard/pages/Dashboard.js","themes/palettes.js","Admin/shared/Page.js","Admin/shared/tables/CustomCollapsibleTable.js","Admin/Manager/dashboard/pages/dashboard/Dashboard.js","Admin/shared/tables/CustomTableHead.js","Admin/shared/tables/CustomTableToolbar.js","Admin/shared/tables/CustomTable.js","Admin/shared/CustomForm.js","Admin/Manager/dashboard/pages/enseignants/Add.js","Admin/shared/Modal.js","Admin/Manager/dashboard/pages/enseignants/InfoCard.js","Admin/data/tableHeads.js","Admin/Manager/dashboard/pages/enseignants/Enseignants.js","Admin/Manager/dashboard/pages/Abonnes.js","Admin/Manager/dashboard/pages/Eleves.js","themes/tinyTheme.js","Admin/Manager/dashboard/pages/Profile.js","Admin/shared/CustomUploaderButton.js","Admin/Manager/dashboard/pages/pubs/Update.js","Admin/Manager/dashboard/pages/pubs/Pubs.js","Admin/shared/charts/BarChart.js","Admin/shared/charts/PieChart.js","Admin/Manager/dashboard/components/charts/ElevesStatCharts.js","Admin/Manager/dashboard/components/charts/ProfsGeoPartition.js","Admin/shared/charts/FunnelChart.js","Admin/Manager/dashboard/components/charts/ClassesByProfDist.js","Admin/Manager/dashboard/components/charts/Summary.js","Admin/Manager/dashboard/pages/Statistiques.js","Admin/Teacher/dashboard/pages/contenu/Add/styles.js","Admin/shared/CustomStepper.js","Admin/Teacher/dashboard/pages/contenu/Add/AjouterVideo.js","Admin/Teacher/dashboard/pages/contenu/Add/AjouterResume.js","Admin/Teacher/dashboard/pages/contenu/Add/QuizQuestion.js","Admin/Teacher/dashboard/pages/contenu/Add/AjouterQuiz.js","Admin/Teacher/dashboard/pages/contenu/Add/AjouterCours.js","Admin/Teacher/dashboard/pages/contenu/Contenu.js","Admin/Teacher/dashboard/pages/Eleves.js","Admin/Teacher/dashboard/pages/Profile.js","Admin/Teacher/dashboard/pages/Statistiques.js","router.js","Admin/statecontexts/LayoutContext.js","redux/reducers/managerReducer.js","redux/reducers/teacherReducer.js","redux/reducers/adminReducer.js","redux/stores/managerStore.js","redux/stores/adminStore.js","redux/stores/teacherStore.js","AppAdmin.js","App.js","serviceWorker.js","index.js"],"names":["defaultTransition","props","Slide","direction","ToasterSnackBar","children","Snackbar","open","onClose","handleClose","TransitionComponent","key","Transition","name","useStyles","makeStyles","theme","container","height","minHeight","box","width","wrapper","margin","spacing","position","buttonProgress","LoadingComponent","classes","Container","className","controller","Box","display","alignContent","alignItems","justifyContent","CircularProgress","progressStyles","component","teacherConfig","managerConfig","login","username","password","adminType","requestOptions","method","headers","body","JSON","stringify","fetch","then","handleResponse","res","adminObj","admin","description","matiere","titre","token","localStorage","setItem","err","Promise","reject","message","authHeader","parse","getItem","checkRoleAutorizationFail","data","role","response","text","ok","status","error","statusText","resolve","managerService","updateProfile","params","fd","FormData","Object","keys","forEach","el","includes","append","id","getAllAbonnements","getAllAbonnes","getAllEleves","getAllClasses","getAllMatieres","getAllClassesMatieres","getAllPubs","addPub","optionalOpts","console","log","requiredParams","every","attr","find","link","updatePub","deletePub","getProfsStatistics","getElevesStatistics","exports","formData","ManagerService","type","payload","logout","removeItem","dispatch","getState","updateSelectedLink","teacherService","register","filter","getAll","getById","getProfCourses","addNewCourse","set","questionsList","map","qst","questionImgName","questionImg","file","answerImgName","answerImg","deleteCourse","getProfEleves","TeacherService","oldUser","updateUser","paper","marginTop","flexDirection","avatar","backgroundColor","palette","secondary","main","form","submit","color","grey","top","left","marginLeft","connect","state","loginStatus","adminReducer","Actions","navigator","useNavigate","useState","setUsername","setPassword","isManager","setIsManager","ButtonRef","createRef","alertOpen","setAlertOpen","loading","setloading","toasterContent","Alert","variant","severity","handleChange","e","target","value","checked","maxWidth","CssBaseline","autoHideDuration","Avatar","Typography","TextField","required","fullWidth","label","onChange","autoComplete","autoFocus","FormControlLabel","control","Checkbox","disabled","Button","RouteLink","to","onClick","preventDefault","returnValue","ref","SignUp","noValidate","Grid","item","xs","sm","href","justify","Link","switchAuthMode","Auth","authMode","setAuthMode","prevMode","Login","window","location","assign","listItem","primary","light","selected","selectedLink","managerLayoutReducer","ItemIcon","isLinkActive","pathname","indexOf","mylink","Divider","ListItem","button","ListItemIcon","ListItemText","SidebarItemList","mylabel","setLabel","navItems","List","handleClick","getInitials","fullname","replace","split","slice","v","toUpperCase","join","marginBottom","cursor","contrastText","title","textTransform","ProfileAvatar","firstname","lastname","descriptionTitle","src","gutterBottom","dateText","user","image","nom","prenom","index","handleDrawerClose","Drawer","clsx","drawerPaper","drawerPaperClose","toolbarIcon","IconButton","CastForEducationIcon","LoyaltyIcon","PeopleIcon","GradientIcon","BarChartIcon","PersonIcon","ExitToAppIcon","root","toolbar","paddingRight","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","marginRight","menuButtonHidden","flexGrow","whiteSpace","overflowX","breakpoints","up","appBarSpacer","content","overflow","paddingTop","paddingBottom","fixedHeight","Dashboard","React","setOpen","AppBar","Toolbar","edge","aria-label","noWrap","decendentprops","SchoolIcon","TeacherLayoutTheme","createMuiTheme","purple","red","boxShadow","shadows","defaultTheme","bootstraptheme","cyclesTheme","deepOrange","deepPurple","default","green","Page","forwardRef","rest","Helmet","useRowStyles","borderBottom","head","fontWeight","fontSize","rowHead","Row","row","headLabels","subHeadersTitle","subHeaderLabels","Fragment","TableRow","TableCell","size","align","style","colSpan","Collapse","in","timeout","unmountOnExit","Table","TableHead","idx","TableBody","subRow","rowIdx","CollapsibleTable","rows","TableContainer","Paper","prototype","PropTypes","object","isRequired","array","fab","success","DataRows","setDataRows","isLoading","setisLoading","useEffect","cycle","classe","push","codeCl","p","m","Fab","Add","EnhancedTableHead","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","headCells","withActions","withStartCheckbox","indeterminate","inputProps","headCell","disablePadding","sortDirection","TableSortLabel","active","property","event","visuallyHidden","useToolbarStyles","paddingLeft","highlight","lighten","dark","flex","EnhancedTableToolbar","Tooltip","descendingComparator","a","b","chip","table","minWidth","tableRow","border","clip","EnhancedTable","tableTitle","indexName","handleRowSelected","withFiltering","actionButtons","customtheme","inheritTheme","useTheme","setOrder","setOrderBy","setSelected","page","setPage","dense","setDense","rowsPerPage","setRowsPerPage","selectedIndex","newSelected","concat","length","emptyRows","Math","min","aria-labelledby","newSelecteds","n","comparator","stabilizedThis","sort","stableSort","getComparator","isItemSelected","labelId","hover","rowClickHandler","aria-checked","tabIndex","column","columnName","withAvatar","avatarUrl","withChip","vals","Array","usesInnerTheme","innerTheme","Chip","withChildComponent","btn","ThemeProvider","md","startIcon","clickHandler","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","parseInt","Switch","CustomForm","submitBtnRef","useRef","submitRefTracker","initialValues","initialState","validationSchema","enableReinitialize","reset","onSubmit","errors","handleBlur","handleSubmit","touched","isSubmitting","values","encType","fieldsHiearchy","gridRow","rowidx","field","columnidx","floor","Boolean","helperText","onBlur","option","MenuItem","noSubmit","submitLabel","Yup","max","email","phone","trim","matches","commune","wilaya","AddEnseignant","matieresIds","defaultFormValues","setdefaultFormValues","formRef","formState","listeW","listC","formStructure","setState","toasterOpen","setToasterOpen","alertProps","setAlertProps","json","wilayas","codeW","listWilayas","nomW","hiearchy","select","baladiya","dataResp","listeAnnes","ItemsMatieres","matieres","listeMatieres","defaultForm","multiple","SelectProps","filteredCommunes","labels","from","Set","filteredCycles","codeCycle","filteredClasses","dexription","matiereId","classesIds","DialogTitle","withStyles","closeButton","right","other","disableTypography","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","CustomModal","Dialog","dividers","actions","action","bool","any","InfoCard","elevation","Card","CardContent","jobTitle","additionalContent","customersHeadCells","numeric","ordersHeadCells","profsHeadCells","elevesHeadCells","pubsHeadCells","coursHeadCells","ErrorOutlineIcon","RemoveIcon","successtheme","indigo","Enseignants","profsRows","setProfsRows","filtredProfsRows","setFiltredProfsRows","showAddForm","setShowAddForm","popupOpen","setPopupOpen","enseignants","ens","cl","clickable","popupBody","setpopupBody","Modal","mt","InputProps","startAdornment","InputAdornment","SvgIcon","placeholder","handleSearchInputChange","profId","prof","Timeline","cours","TimelineItem","TimelineOppositeContent","Date","date_ajout","toLocaleDateString","toLocaleTimeString","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","activeInactiveTheme","grid","Abonnes","fixedHeightPaper","customersRows","setCutomersRows","filtredCustomersRows","setFiltredCutomersRows","ordersRows","setOrdersRows","clients","modified","eleves","eleve","alt","is_abonne","abonnements","owner","client","classesLabels","Eleves","dataColumns","filtredElevesRows","setFiltredElevesRows","columns","options","filterType","tinycolor","toHexString","darken","warning","info","hint","background","customShadows","widget","widgetDark","widgetWide","overrides","MuiBackdrop","MuiMenu","MuiSelect","icon","MuiListItem","MuiTouchRipple","child","MuiTableRow","MuiTableCell","card","newpassword","currentpassword","test","this","parent","constructPasswordField","endAdornment","handleClickShowPassword","showPassword","cardProps","isLoding","setisLoding","showCurrentPassword","setShowCurrentPassword","showNewPassword","setShowNewPassword","handleShowPassword","lg","imgFile","CardActions","hidden","accept","currentTarget","files","fileReader","FileReader","onload","fileToAdd","result","isUploading","changesObj","onerror","readAsDataURL","htmlFor","CardHeader","subheader","tinyTheme","changes","oldPassword","newPassword","CustomUploaderButton","inputValue","btnColor","btnLabel","btnSize","setParentInput","withProgress","clickhandler","handleProgress","input","setInput","mr","LinearProgress","round","alignSelf","textAlign","progress","onabort","alert","handleUploadClick","click","previewBox","thumbnail","maxHeight","sponsor","UpdatePub","oldPubProps","newPubState","setNewPubState","progressValue","setProgressValue","imageName","setImageName","currentFile","setCurrentFile","sendUpdate","_id","onUploadProgress","progressEvent","loaded","total","setTimeout","CardMedia","bgcolor","Pubs","pubsRows","setPubRows","setRows","isModalOpen","setIsModalOpen","modalActions","defaultState","pubToUpdate","setPubToUpdate","titreField","sponsorField","typeAdField","pubs","pubId","Edit","Cancel","onUpload","defaultHandler","Update","BarChart","chartData","valueField","yName","argumentField","xName","COLORS","RADIAN","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","toFixed","CustomTooltip","borderRadius","px","PieChartComponent","justifyItems","isAnimationActive","labelLine","dataKey","entry","ElevesStatCharts","PieChart","elevesBySexe","labelsTitle","valuesTitles","valuesName","labelsName","elevesByAge","xTitle","yTitle","ProfsGeoPartition","FunnelChartComponent","ClassesByProfDist","FunnelChart","redBg","blueBg","greenBg","Summary","LocalLibrary","AttachMoney","Statistiques","setProfsSummary","setProfsSummaryisLoading","setElevesSummary","setElevesSummaryisLoading","profsSummaryisLoading","elevesSummaryisLoading","profsByWilaya","classesByprof","profsSummary","elevesSummary","summary","useColorlibStepIconStyles","completed","sucess","ColorlibConnector","alternativeLabel","line","StepConnector","ColorlibStepIcon","icons","String","instructions","CustomStepper","labelStepsIconsClasses","steps","activeStep","setActiveStep","handleNext","nexHandler","prevActiveStep","Stepper","connector","step","Step","StepLabel","StepIconComponent","finalStep","backBtnIcon","nextBtnIcon","trimestre","integer","oneOf","ordre","positive","lien","url","trimestreField","lienField","thumbnailField","linkRefHandle","preview","setpreview","withTitle","setFormStructure","actualClassCourses","courses","currentClasse","submitHandler","updateStepsStatus","frameborder","allow","allowfullscreen","visibility","titrePdf","document","AjouterDocument","pdfFile","DOC","labelRef","uploadRequired","setUploadRequired","invalidQuestion","typography","uploadLabel","questionText","answerText","QuizQuestion","question","valid","questIsImg","setQuestionIsImg","answerIsImg","setAnswerIsImg","handleLoadImg","updateState","onBlurHandler","numQuestion","FormGroup","multiline","makeEmptyArray","AjouterQuiz","onSubmitHandler","Slider","defaultValue","marks","valueLabelDisplay","questIndex","1","Movie","2","3","LiveHelp","AjouterCours","stepIconStyles","registerCourseFeedback","setregisterCourseFeedback","globalState","SetGlobalState","stepsPassed","setStepsPassed","addVideoRef","setaddVideoRef","addResumeRef","setaddResumeRef","addQuizRef","setaddQuizRef","val","endIcon","teacher","video","pdf","enseignant","onApprendNewCours","newCours","current","validateStep","buttonRed","buttonPurple","coursRows","setCoursRows","filtredCoursRows","setFiltredCoursRows","displayedCourses","setDisplayedCourses","setCurrentClasse","deleteCoursPopup","setDeleteCoursPopup","coursToDelete","deleteCoursActions","setDeleteCoursActions","parseCoursRow","DBrow","deleteCours","attachements","quiz","firstClasseRows","newcourses","ofCurrentYear","newRows","appendNewCours","PrivateRoute","Component","element","isLoggedIn","currentAdminType","path","ManagerDashboardLayout","TeacherDashboardLayout","LayoutStateContext","createContext","LayoutDispatchContext","layoutReducer","isSidebarOpened","Error","LayoutProvider","useReducer","Provider","layoutState","userState","combined","combineReducers","managerReducer","createStore","ManagerReducers","__REDUX_DEVTOOLS_EXTENSION__","store","TeacherReducer","compose","applyMiddleware","thunk","AdminReducer","App","AdminStore","AppAdmin","hostname","match","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.6637132b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport {Slide} from '@material-ui/core';\r\n\r\nconst defaultTransition=(props)=> <Slide {...props}  direction=\"up\" />;\r\nfunction ToasterSnackBar({children,...props}) {\r\n    // const [open,setOpen]=useState(typeof props.open ===\"undefined\" ? true:props.open)\r\n  return (\r\n    <Snackbar\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n      TransitionComponent={defaultTransition}\r\n    //   message={props.message || ''}\r\n      key={props.Transition ? props.Transition.name : \"defaultTransition.key\"}\r\n      {...props}\r\n    >\r\n        {children}\r\n\r\n    </Snackbar>\r\n  );\r\n}\r\n\r\nToasterSnackBar.propTypes = {\r\n  // children: PropTypes.any.isRequired(),\r\n};\r\n\r\nexport default ToasterSnackBar;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {CircularProgress,Box,Container} from \"@material-ui/core\"\r\nimport {makeStyles} from \"@material-ui/core/styles\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container:{\r\n      height: \"100%\",\r\n      minHeight: 300\r\n    },\r\n    box:{\r\n      height: \"100%\",\r\n      width: \"100%\",\r\n    },\r\n   \r\n    wrapper: {\r\n        margin: theme.spacing(1),\r\n        position: 'relative',\r\n      },\r\n    \r\n    buttonProgress: {\r\n    //   color: grey[400],\r\n    //   position: 'absolute',\r\n    //   top: '50%',\r\n    //   left: '50%',\r\n      height: \"50%\",\r\n    //   marginTop: \"-25%\",\r\n    //   marginLeft: \"-25%\",\r\n    },\r\n  }));\r\nfunction LoadingComponent(props) {\r\n    const classes=useStyles();\r\n \r\n   \r\n  \r\n    return (\r\n        <Container className={classes.container}>\r\n        {/* <div> */}\r\n            {props.controller && \r\n            <Box display=\"flex\" className={classes.container} alignContent=\"center\" alignItems=\"center\" justifyContent=\"center\">\r\n                <CircularProgress  className={classes.buttonProgress}  {...props.progressStyles}/>\r\n            </Box>\r\n            \r\n            }\r\n            {!props.controller && props.component}\r\n\r\n            \r\n        {/* </div> */}\r\n        </Container>\r\n    )\r\n}\r\n\r\nLoadingComponent.propTypes = {\r\n    controller: PropTypes.bool.isRequired,\r\n    component: PropTypes.node.isRequired\r\n\r\n\r\n}\r\n\r\nexport default LoadingComponent\r\n\r\n","const USERS_API_URL=\"http://localhost:5000/api/user\";\r\nconst STATS_API_URL=\"http://localhost:5000/api/statistics\";\r\nconst teacherConfig={\r\n    API_URL: \"http://localhost:5000/api/admin/enseignants\",\r\n    USERS_API_URL,\r\n    STATS_API_URL\r\n}\r\nconst managerConfig={\r\n    API_URL: \"http://localhost:5000/api/admin\",\r\n    USERS_API_URL,\r\n    STATS_API_URL\r\n\r\n}\r\n\r\n\r\n\r\nexport {teacherConfig,managerConfig}","import {managerConfig} from './config'\r\n\r\n/**\r\n * Login service API call, for both Manager and Teacher\r\n * @param {*} username : Admin (Teacher or Manager) username\r\n * @param {*} password : Admin's password\r\n * @param {*} adminType : Admin type (Teacher or Manager)\r\n * Return: Promise with : admin row and token if success. reject otherwise\r\n */\r\nconst login =(username,password,adminType)=>{\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username, password,adminType })\r\n      }\r\n      return fetch(`${managerConfig.API_URL}/signin`, requestOptions)\r\n      .then(handleResponse)\r\n      .then(res => {\r\n        let adminObj={...res.admin,description: adminType==='manager'?\"Admin d'application\":`Enseignant(e) en ${res.admin.matiere.titre}`};\r\n        // login successful if there's a jwt token in the response\r\n        if (res.token) {\r\n          // store user details and jwt token in local storage to keep user logged \r\n          localStorage.setItem(adminType==='manager'?'manager':'enseignant', JSON.stringify(adminObj))\r\n          localStorage.setItem('token', JSON.stringify(res.token))\r\n        }\r\n  \r\n        return adminObj\r\n      },\r\n      err=>{\r\n        return  Promise.reject(err.message?err.message: err);\r\n      }\r\n   \r\n      )  \r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Add token Authorization entry to header request.\r\n */\r\n\r\nfunction authHeader () {\r\n    // return authorization header with jwt token\r\n    let token = JSON.parse(localStorage.getItem('token'))\r\n  \r\n    if (token) {\r\n      return { 'Authorization': 'Bearer ' + token }\r\n    } else {\r\n      return {'Authorization':''}\r\n    }\r\n  }\r\n\r\n/**\r\n * Check if the requester is the application manager.\r\n * @param {*} data \r\n */  \r\nconst checkRoleAutorizationFail = (data,role=\"manager\") => {\r\n  return !(data.adminType && data.adminType === role);\r\n};\r\n\r\nfunction handleResponse (response) {\r\n    return response.text().then(text => {\r\n      const data = text && JSON.parse(text)\r\n      if (!response.ok) {\r\n        if (response.status === 401) {\r\n          // auto logout if 401 response returned from api\r\n        //   logout()\r\n          // window.location.reload()\r\n\r\n        }\r\n  \r\n        const error = (data && data.message) || response.statusText\r\n        return Promise.reject(error)\r\n      }\r\n  \r\n      return Promise.resolve(data)\r\n    })\r\n  }\r\n\r\n\r\nexport {handleResponse,login,authHeader,checkRoleAutorizationFail}  ","import {managerConfig} from './config'\r\nimport {handleResponse,checkRoleAutorizationFail,authHeader,login} from './shared'\r\n\r\n/**\r\n * Update teacher profile.\r\n * @param {*} data \r\n */\r\nconst updateProfile = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement l'administrateur qui peut mettre à jours son profile\",\r\n    });\r\n    const params = [\r\n      \"id\",\r\n      \"nom\",\r\n      \"prenom\",\r\n      \"email\",\r\n      \"phone\",\r\n      \"image\",\r\n      \"password\",\r\n      \"oldPassword\",\r\n      \"newPassword\"\r\n    ];\r\n    const {adminType}=data;\r\n    const fd = new FormData();\r\n    Object.keys(data).forEach(el=> {\r\n      if(params.includes(el)) fd.append(el,data[el])\r\n    })\r\n    fd.append('adminType',adminType)\r\n    \r\n    const requestOptions = {\r\n      method: \"PUT\",\r\n      headers:{...authHeader()},\r\n      body:fd\r\n    };\r\n    return fetch(`${managerConfig.API_URL}/${data.id}`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n};\r\n\r\n\r\n\r\n/**\r\n * Fetch all abonnements\r\n * @param {*} data An object containing infos about the requester\r\n */\r\nconst getAllAbonnements = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autorisé! Uniquement le Manager qui récupérer tous les abonnements\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),'Content-Type':'application/json', 'adminType':data.adminType}\r\n      // body: JSON.stringify(data),\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/abonnements`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n\r\n/**\r\n * Fetch all customers from the Database. Only Managers of the application can do such request\r\n * @param {*} data An object containing infos about the requester\r\n */\r\nconst getAllAbonnes = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autorisé! Uniquement le Manager qui récupérer tous les abonnés\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),'Content-Type':'application/json', 'adminType':data.adminType}\r\n      // body: JSON.stringify(data),\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/clients`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n/**\r\n * Fetch all students from the Database. Only Managers of the application can do such request\r\n * @param {*} data \r\n */\r\nconst getAllEleves = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autorisé! Uniquement le Manager qui récupérer tous les élèves\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),'Content-Type':'application/json', 'adminType':data.adminType}\r\n      // body: JSON.stringify(data),\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/eleves`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n\r\n\r\n/**\r\n * Fetch all classes\r\n * @param {*} data \r\n */\r\nconst getAllClasses = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autorisé! Uniquement le Manager qui récupérer tous les classes\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),'Content-Type':'application/json', 'adminType':data.adminType}\r\n      // body: JSON.stringify(data),\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/classes`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n/**\r\n * Fetch all classes with all matieres\r\n * @param {*} data \r\n */\r\nconst getAllMatieres = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autorisé! Uniquement le Manager qui récupérer tous les classes\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),adminType: data.adminType},\r\n      // body: JSON.stringify(data),\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/matieres/`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n/**\r\n * Fetch all classes with all matieres\r\n * @param {*} data \r\n */\r\nconst getAllClassesMatieres = (data) => {\r\n    if (checkRoleAutorizationFail(data))\r\n      return Promise.reject({\r\n        message:\r\n          \"Non autorisé! Uniquement le Manager qui récupérer tous les classes\",\r\n      });\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: {...authHeader(),adminType: data.adminType}\r\n    };\r\n  \r\n    return fetch(`${managerConfig.USERS_API_URL}/classes/matieres`, requestOptions).then(\r\n      handleResponse\r\n    );\r\n  };\r\n\r\n/**\r\n * Insert a new Pub.\r\n * @param {*} data \r\n */\r\nconst addPub = (data,optionalOpts) => {\r\n  console.log(data.adminType)\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement l'administrateur qui peut ajouter des Pubs\",\r\n    });\r\n  const requiredParams = [\r\n    \"sponsor\", \"titre\",\"type\",\"image\"\r\n  ];\r\n  if(!requiredParams.every(attr=> Object.keys(data).find(key=> key===attr)))\r\n  return Promise.reject({\r\n    message:\r\n      \"Paramètres manquants\",\r\n  });\r\n  const {adminType}=data;\r\n  const fd = new FormData();\r\n  Object.keys(data).forEach(el=> {\r\n    if(requiredParams.includes(el)) fd.append(el,data[el])\r\n  })\r\n  fd.append('adminType',adminType)\r\n  if (data.link) fd.append('link',data.link)\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: {...authHeader()},\r\n    body: fd,\r\n    ...optionalOpts\r\n  };\r\n  return fetch(`${managerConfig.USERS_API_URL}/pubs/new`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n/**\r\n * Update a pub.\r\n * @param {*} data \r\n */\r\nconst updatePub = (data,optionalOpts) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement l'administrateur qui peut ajouter des Pubs\",\r\n    });\r\n  \r\n  if(!data.id)\r\n  return Promise.reject({\r\n    message:\r\n      \"Paramètres manquants\",\r\n  });\r\n  const params = [\r\n    \"sponsor\", \"titre\",\"type\",\"image\"\r\n  ];\r\n  const {adminType}=data;\r\n  const fd = new FormData();\r\n  Object.keys(data).forEach(el=> {\r\n    if(params.includes(el)) fd.append(el,data[el])\r\n  })\r\n  fd.append('adminType',adminType)\r\n  if (data.link) fd.append('link',data.link)\r\n  const requestOptions = {\r\n    method: \"PUT\",\r\n    headers: {...authHeader()},\r\n    body: fd,\r\n    ...optionalOpts\r\n  };\r\n  return fetch(`${managerConfig.USERS_API_URL}/pubs/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n/**\r\n * Delete a pub.\r\n * @param {*} data \r\n */\r\nconst deletePub = (data,optionalOpts) => {\r\n  console.log(data.adminType)\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement l'administrateur qui peut ajouter des Pubs\",\r\n    });\r\n  if(!data.id)\r\n    return Promise.reject({\r\n      message:\r\n        \"Paramètres manquants\",\r\n    });\r\n  \r\n  const requestOptions = {\r\n    method: \"DELETE\",\r\n    headers: {...authHeader(),'Content-Type':'application/json'},\r\n    body: JSON.stringify(data),\r\n   \r\n  };\r\n  return fetch(`${managerConfig.USERS_API_URL}/pubs/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n/**\r\n * Fetch all pubs\r\n * @param {*} data \r\n */\r\nconst getAllPubs = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement le Manager qui récupérer toutes les pubs\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType,'Content-Type':'application/json'}\r\n  };\r\n\r\n  return fetch(`${managerConfig.USERS_API_URL}/pubs`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n\r\n/**\r\n * Fetch Profs summary\r\n * @param {*} data \r\n */\r\nconst getProfsStatistics = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement le Manager qui récupérer ces informations\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType}\r\n  };\r\n\r\n  return fetch(`${managerConfig.STATS_API_URL}/enseignants/summary`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n/**\r\n * Fetch Eleves summary\r\n * @param {*} data \r\n */\r\nconst getElevesStatistics = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement le Manager qui récupérer ces informations\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType}\r\n  };\r\n\r\n  return fetch(`${managerConfig.STATS_API_URL}/eleves/summary`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\nconst managerService={\r\n    login,\r\n    updateProfile,\r\n    getAllAbonnements,\r\n    getAllAbonnes,\r\n    getAllEleves,\r\n    getAllClasses,\r\n    getAllMatieres,\r\n    getAllClassesMatieres,\r\n    getAllPubs,\r\n    addPub,\r\n    updatePub,\r\n    deletePub,\r\n    getProfsStatistics,\r\n    getElevesStatistics\r\n\r\n\r\n}\r\n\r\nexport default managerService","import ManagerService from \"../../services/managerServices\";\r\n\r\nconst login = (formData) => {\r\n  const { username, password, adminType } = formData;\r\n  return ManagerService.login(username, password, adminType).then(\r\n    (admin) => {\r\n\r\n      return { type:adminType===\"manager\"? \"SET_CURRENT_MANAGER\":\"SET_CURRENT_TEACHER\", payload: admin };\r\n    },\r\n    (err) => {\r\n        console.error(\"Une errur s'est produite lors de la connexion : \",err);\r\n        return {type: \"MANAGER_LOGIN_FAILED\", payload: err};\r\n    }\r\n  );\r\n};\r\nconst logout = () => {\r\n  localStorage.removeItem('manager');\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('enseignant');\r\n  return { type: \"LOGOUT\"};\r\n\r\n  \r\n};\r\nconst updateProfile = (payload,adminType=\"manager\") => {\r\n  return function(dispatch,getState){\r\n    return ManagerService.updateProfile(payload)\r\n    .then(\r\n      res=>{\r\n      localStorage.setItem('manager', JSON.stringify(res));\r\n       \r\n       dispatch({ type: \"UPDATE_PROFILE\", payload: res });\r\n       return Promise.resolve({ok:true})\r\n      },\r\n      err=>{\r\n       dispatch({ type: \"UPDATE_PROFILE_FAILED\", payload: err });\r\n        return Promise.reject({message: err})\r\n      }\r\n    )\r\n    }\r\n};\r\n\r\n/******************************************** LAYOUT ACTIONS *****************************************/\r\nconst updateSelectedLink = (payload) => {\r\n  return { type: \"UPDATE_SELECTED_NAVLINK\", payload };\r\n};\r\n\r\nconst exports = {\r\n  login,  \r\n  logout,\r\n  updateProfile,\r\n  updateSelectedLink,\r\n};\r\n\r\nexport default exports;\r\n","import { teacherConfig,managerConfig } from \"./config\";\r\nimport { handleResponse,checkRoleAutorizationFail, authHeader, login } from \"./shared\";\r\n\r\n\r\n\r\n/**\r\n * Register a new teacher to the Admin application. Only Managers of the application can do such request due to privacy politic.\r\n * @param {*} data \r\n */\r\nconst register = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement le Manager qui peut ajouter un enseignant\",\r\n    });\r\n  const params = [\r\n    \"username\",\r\n    \"nom\",\r\n    \"prenom\",\r\n    \"email\",\r\n    \"phone\",\r\n    \"matiereId\",\r\n    \"classesIds\",\r\n    \"wilaya\",\r\n    \"commune\",\r\n    \r\n  ];\r\n    // Filter any params out of params Set\r\n  const keys=Object.keys(data).filter(el=>params.includes(el));\r\n    // Ensure that there is only params attributs, not less, not more\r\n  if (!params.every((key) => keys.includes(key)))\r\n    return Promise.reject({\r\n      message: \"Les paramètres de formulaire sont invalides\",\r\n    });\r\n\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\",...authHeader() },\r\n    body: JSON.stringify(data),\r\n  };\r\n\r\n  return fetch(`${teacherConfig.API_URL}/new`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n/**\r\n * Update teacher profile.\r\n * @param {*} data \r\n */\r\nconst updateProfile = (data) => {\r\n  if (checkRoleAutorizationFail(data,\"enseignant\"))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement l'enseignant qui peut mettre à jours son profile\",\r\n    });\r\n  const params = [\r\n    \"id\",\r\n    \"nom\",\r\n    \"prenom\",\r\n    \"email\",\r\n    \"phone\",\r\n    \"image\",\r\n    \"password\",\r\n    \"oldPassword\",\r\n    \"newPassword\"\r\n  ];\r\n  const {adminType}=data;\r\n  const fd = new FormData();\r\n  Object.keys(data).forEach(el=> {\r\n    if(params.includes(el)) fd.append(el,data[el])\r\n  })\r\n  fd.append('adminType',adminType)\r\n  \r\n  const requestOptions = {\r\n    method: \"PUT\",\r\n    headers:{...authHeader()},\r\n    body:fd\r\n  };\r\n  return fetch(`${managerConfig.API_URL}/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n\r\n/**\r\n * Fetch all teachers of the application. Only Managers of the application can do such request due to privacy politic.\r\n * @param {*} data \r\n */\r\nconst getAll = (data) => {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement le Manager qui récupérer tous les enseignants\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType},\r\n  };\r\n\r\n  return fetch(`${teacherConfig.API_URL}/`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n\r\n/**\r\n * Fetch a teacher by its ID.\r\n * @param {*} id ID of the requested teacher\r\n * @returns\r\n */\r\nfunction getById(data) {\r\n  if (checkRoleAutorizationFail(data))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement le Manager qui récupérer tous les enseignants\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType},\r\n  };\r\n\r\n  return fetch(`${teacherConfig.API_URL}/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n}\r\n\r\n/**\r\n * Fetch all teacher courses.\r\n * @param {*} data \r\n */\r\nfunction getProfCourses(data){\r\n  if (!(data.adminType && data.adminType===\"enseignant\"))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement l'enseignant qui récupérer tous ses cours\",\r\n    });\r\n  if (!data.id)\r\n    return Promise.reject({\r\n      message:\r\n        \"Paramètres invalides\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType},\r\n  };\r\n\r\n  return fetch(`${teacherConfig.USERS_API_URL}/cours/enseignants/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n\r\n}\r\n\r\n/**\r\n * Add a new course.\r\n * @param {*} data \r\n */\r\nfunction addNewCourse(data){\r\n  if (checkRoleAutorizationFail(data,\"enseignant\"))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement l'enseignant qui peut ajouter un cours\",\r\n      });\r\n  const params = [\r\n    \"titre\",\r\n    \"ordre\",\r\n    \"trimestre\",\r\n    \"video\",\r\n    \"enseignant\",\r\n    \"matiere\",\r\n    \"classe\",\r\n    \"thumbnail\",\r\n    \"titrePdf\",\r\n    \"pdf\",\r\n    \"questionsList\",\r\n  ];\r\n  const keys=Object.keys(data);\r\n  if (!params.every((key) => keys.includes(key)))\r\n    return Promise.reject({\r\n      message: \"Les paramètres de formulaire sont invalides\",\r\n    });\r\n\r\n    const fd=new FormData()\r\n  params.forEach(key=> fd.append(key,data[key]) )\r\n  fd.set('questionsList',JSON.stringify(data.questionsList.map(qst=>({\r\n    questionImgName: qst.questionImg!==null ?qst.questionImg.file.name:null,\r\n    answerImgName: qst.answerImg!==null?qst.answerImg.file.name:null,\r\n  }))))\r\n  data.questionsList.forEach(qst=>{\r\n    if(qst.questionImg && qst.questionImg!==null)\r\n    fd.append('cartesQuestions',qst.questionImg.file)\r\n    if(qst.answerImg && qst.answerImg!==null)\r\n    fd.append('cartesAnswers',qst.answerImg.file)\r\n  })\r\n  fd.append(\"adminType\",data[\"adminType\"])\r\n  console.log(data[\"adminType\"])\r\n  // fd.append('cartes',data.questionsList.map(qst=>qst.questionImg).filter(el=> el && el!==null))\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: { ...authHeader() },\r\n    body: fd\r\n  };\r\n  \r\n  return fetch(`${teacherConfig.USERS_API_URL}/cours/new`, requestOptions).then(\r\n    handleResponse\r\n    );\r\n    \r\n  }\r\n\r\n\r\n/**\r\n * Delete a course.\r\n * @param {*} data \r\n */\r\nconst deleteCourse = (data,optionalOpts) => {\r\n  if (checkRoleAutorizationFail(data,\"enseignant\"))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement l'enseignant qui peut supprimer un cours\",\r\n    });\r\n  if(!data.id)\r\n    return Promise.reject({\r\n      message:\r\n        \"Paramètres manquants\",\r\n    });\r\n  \r\n  const requestOptions = {\r\n    method: \"DELETE\",\r\n    headers: {...authHeader(),'Content-Type':'application/json'},\r\n    body: JSON.stringify(data),\r\n   \r\n  };\r\n  return fetch(`${teacherConfig.USERS_API_URL}/cours/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n};\r\n\r\n/**\r\n * Fetch all students teached by a teacher.\r\n * @param {*} data \r\n */\r\nfunction getProfEleves(data){\r\n  if (checkRoleAutorizationFail(data,\"enseignant\"))\r\n    return Promise.reject({\r\n      message:\r\n        \"Non autorisé! Uniquement l'enseignant qui récupérer les élèves spécifiés\",\r\n    });\r\n  if (!data.id)\r\n    return Promise.reject({\r\n      message:\r\n        \"Paramètres invalides\",\r\n    });\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {...authHeader(),adminType: data.adminType},\r\n  };\r\n\r\n  return fetch(`${teacherConfig.USERS_API_URL}/eleves/enseignants/${data.id}`, requestOptions).then(\r\n    handleResponse\r\n  );\r\n\r\n}\r\n\r\nconst teacherService = {\r\n  login,\r\n  register,\r\n  updateProfile,\r\n  getAll,\r\n  getById,\r\n  getProfCourses,\r\n  addNewCourse,\r\n  deleteCourse,\r\n  getProfEleves\r\n};\r\n\r\nexport default teacherService;\r\n","import TeacherService from \"../../services/teacherServices\";\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('enseignant');\r\n  return { type: \"LOGOUT\"};\r\n\r\n  \r\n};\r\n\r\nconst updateProfile = (payload) => {\r\n  return function(dispatch,getState){\r\n  return TeacherService.updateProfile(payload)\r\n  .then(\r\n    res=>{\r\n      const oldUser=JSON.parse(localStorage.getItem('enseignant'))\r\n      const updateUser={...oldUser,...res};\r\n    localStorage.setItem('enseignant', JSON.stringify(updateUser));\r\n     \r\n     dispatch({ type: \"UPDATE_PROFILE\", payload: updateUser });\r\n     return Promise.resolve({ok:true})\r\n    },\r\n    err=>{\r\n     dispatch({ type: \"UPDATE_PROFILE_FAILED\", payload: err });\r\n      return Promise.reject({message: err})\r\n    }\r\n  )\r\n  }\r\n\r\n  // const old=JSON.parse(localStorage.getItem(adminType));\r\n  // localStorage.setItem(adminType,JSON.stringify({...old,...payload}));\r\n\r\n};\r\nconst exports = {\r\n    logout,\r\n    updateProfile\r\n  };\r\n  \r\n  export default exports;","import React, { useState,createRef } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Typography,\r\n  Container,\r\n  CssBaseline,\r\n  TextField,\r\n  FormControlLabel,\r\n  Checkbox,\r\n} from \"@material-ui/core\";\r\nimport {grey} from \"@material-ui/core/colors\"\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Link as RouteLink,useNavigate } from \"react-router-dom\";\r\n\r\n// Components\r\nimport ToasterSnackBar from \"../../shared/notifiers/toaster/ToasterSnackBar\";\r\nimport LoadingComponent from \"../../shared/LoadingComponent\";\r\n \r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { ManagerActions as Actions } from \"../../../redux/actions/\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  buttonProgress: {\r\n    color: grey[400],\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nexport function SignIn(props) {\r\n  const navigator=useNavigate();\r\n\r\n\r\n  const classes = useStyles();\r\n\r\n  const [loginStatus, setLoginStatus] = useState(props.loginStatus);\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isManager, setIsManager] = useState(false);\r\n\r\n  const ButtonRef=createRef();\r\n\r\n  const [alertOpen, setAlertOpen] = useState(false);\r\n  const [loading, setloading] = useState(false);\r\n  const toasterContent = (\r\n    <Alert variant=\"filled\" severity=\"error\">\r\n      Erreur d'authentification.   \r\n      {props.loginStatus && props.loginStatus.message ? props.loginStatus.message: \"\"}\r\n    </Alert>\r\n  );\r\n  const closeToaster = () => setAlertOpen(false);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.name === \"username\") setUsername(e.target.value);\r\n    if (e.target.name === \"password\") setPassword(e.target.value);\r\n    if (e.target.name === \"adminCheckbox\") setIsManager(e.target.checked);\r\n  };\r\n\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    setloading(true);\r\n    props.login({ username, password, adminType: isManager?\"manager\":\"enseignant\" }).then(\r\n      \r\n      res=> { \r\n        if(res.type==='MANAGER_LOGIN_FAILED') {\r\n        setAlertOpen(true);\r\n        setloading(false);\r\n      }\r\n      else {\r\n        console.log('success'); \r\n        e.returnValue = true;\r\n        isManager && navigator('/');\r\n        // isManager && navigator(-1);\r\n        !isManager && navigator('/teacher');\r\n\r\n      }\r\n    },\r\n      err=> {\r\n        console.log(\"Erreur d'authentification\")\r\n        console.log(err)\r\n      }\r\n    );\r\n\r\n  };\r\n  \r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <ToasterSnackBar\r\n        open={alertOpen}\r\n        onClose={closeToaster}\r\n        autoHideDuration={6000}\r\n        children={toasterContent}\r\n      />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Authentification\r\n        </Typography>\r\n        <form className={classes.form} >\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"username\"\r\n            label=\"Nom d'utilisateur\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={handleChange}\r\n            autoComplete=\"username\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Mot de passe\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={handleChange}\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox name=\"adminCheckbox\" value=\"remember\" checked={isManager} color=\"primary\" disabled={loading} onChange={handleChange}/>}\r\n            label=\"Je suis un administrateur de l'application\"\r\n          />\r\n          <LoadingComponent \r\n          component={<Button\r\n            // type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            component={RouteLink}\r\n            to={\"/\"}\r\n            onClick={handleLogin}\r\n            disabled={loading}\r\n            ref={ButtonRef}\r\n          >\r\n            Se connecter\r\n          {/* {loading && <CircularProgress size={24} className={classes.buttonProgress} />} */}\r\n          </Button>} \r\n          controller={loading}\r\n          progressStyles={{color:\"primary\"}}\r\n          />\r\n          \r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {return ({\r\n  // loginStatus: state.managerReducer.loginStatus,\r\n  loginStatus: state.adminReducer.status.loginStatus,\r\n})};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    login: (params) => Actions.login(params).then((res) => dispatch(res)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\r\n","import React from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignUp(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            href=\"/dashboard\"\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Link\r\n              component=\"button\"\r\n              onClick={props.switchAuthMode}\r\n              variant=\"body2\"\r\n            >\r\n              {\"Already have an account? Sign In\"}\r\n            </Link>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n\r\nimport Login from \"./Login\";\r\nimport Signup from \"./Signup\";\r\nconst Auth = (props) => {\r\n  const [authMode, setAuthMode] = useState(true);\r\n  \r\n  \r\n  \r\n\r\n  const switchAuthMode = () => {\r\n    setAuthMode((prevMode) => !prevMode);\r\n  };\r\n  return (\r\n    <div>\r\n      {authMode ? (\r\n        <Login switchAuthMode={switchAuthMode} {...props} />\r\n      ) : (\r\n        <Signup switchAuthMode={switchAuthMode} {...props}/>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Actions from '../../../redux/actions/managerActions'\r\nexport const Logout = (props) => {\r\n    props.logout();\r\n    window.location.assign('/login');\r\n    \r\n\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    \r\n})\r\n\r\nconst mapDispatchToProps =(dispatch) =>({\r\n    logout: ()=> dispatch(Actions.logout())\r\n    \r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Logout)\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { ManagerActions as Actions } from \"../../../redux/actions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  listItem: {\r\n    \"&$selected\": {\r\n      backgroundColor: `${theme.palette.primary.light}`,\r\n      color: \"white\",\r\n    },\r\n  },\r\n  selected: {\r\n    backgroundColor: `${theme.palette.primary.light}`,\r\n    color: \"white\",\r\n  },\r\n}));\r\nfunction SidebarItem(props) {\r\n  const classes = useStyles();\r\n  const { link, ItemIcon, label, type } = props.item;\r\n  // const mylabel=props.label\r\n  const isLinkActive =\r\n    link &&\r\n    (window.location.pathname === link ||\r\n      window.location.pathname.indexOf(link) !== -1);\r\n  // const [isLinkActive,setLinkActive] =useState(false);\r\n  const [mylink, setMylink] = useState(link);\r\n\r\n  if (isLinkActive) props.updateSelectedLink({ selectedLink: mylink });\r\n\r\n  const handleClick = () => {\r\n    // props.handleClick();\r\n    // setLinkActive(true);\r\n    props.updateSelectedLink({ selectedLink: mylink });\r\n  };\r\n  if (type === \"divider\") return <Divider />;\r\n  return (\r\n    <ListItem\r\n      button\r\n      to={link}\r\n      selected={props.selectedLink === mylink}\r\n      className={classes.listItem}\r\n      component={Link}\r\n      onClick={() => handleClick()}\r\n    >\r\n      <ListItemIcon>\r\n        <ItemIcon />\r\n      </ListItemIcon>\r\n\r\n      <ListItemText primary={label} />\r\n    </ListItem>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // selectedLink: state.managerLayoutReducer.selectedLink,\r\n  selectedLink: state.managerLayoutReducer.selectedLink,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateSelectedLink: (params) =>\r\n      dispatch(Actions.updateSelectedLink(params)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SidebarItem);\r\n","import React, {useState} from \"react\";\r\nimport List from \"@material-ui/core/List\";\r\n\r\n\r\n//components\r\nimport SidebarItem from './SidebarItem'\r\n// import {useLayoutState,useLayoutDispatch,changeLink } from \"../../../statecontexts/LayoutContext\";\r\n\r\n\r\nfunction SidebarItemList(props) {\r\n    const [mylabel,setLabel]=useState('hello');\r\n    const {navItems}=props;\r\n    \r\n    return (\r\n        <List>\r\n            {navItems.map((item,key)=>\r\n                <SidebarItem key={key} item={item} handleClick={()=>setLabel(item.link) }  label={mylabel} />\r\n\r\n            )}\r\n            \r\n        </List>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default SidebarItemList\r\n\r\n","const getInitials = (fullname) =>\r\n    fullname\r\n      .replace(/\\s+/, \" \")\r\n      .split(\" \")\r\n      .slice(0, 2)\r\n      .map((v) => v && v[0].toUpperCase())\r\n      .join(\"\");\r\n\r\n\r\nexport {getInitials}      ","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Avatar,Box,Typography} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\n// utils\r\nimport {getInitials} from \"../../utils/functions\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box:{\r\n    marginBottom: theme.spacing(2)\r\n\r\n  },\r\n  avatar: {\r\n    cursor: 'pointer',\r\n    width: 64,\r\n    height: 64,\r\n    color: theme.palette.secondary.contrastText,\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  title:{\r\n    textTransform: \"capitalize\"\r\n  }\r\n}));\r\n\r\n\r\nfunction ProfileAvatar(props) {\r\n    const {avatar,firstname,lastname,descriptionTitle}=props\r\n    const classes=useStyles();\r\n    return (\r\n        <Box\r\n          alignItems=\"center\"\r\n          justifyContent=\"center\"\r\n          display=\"flex\"\r\n          flexDirection=\"column\"\r\n        >\r\n          <Avatar\r\n            className={`${props.classes? props.classes.avatar : classes.avatar}`}\r\n            src={avatar}\r\n            color={\"secondary\"}\r\n          > {getInitials(`${firstname} ${lastname}`)}\r\n            </Avatar>\r\n          <Typography\r\n            color=\"textPrimary\"\r\n            gutterBottom\r\n            variant=\"h6\"\r\n            className={classes.title}\r\n          >\r\n            {`${firstname} ${lastname}`}\r\n          </Typography>\r\n          <Typography\r\n            color=\"textSecondary\"\r\n            variant=\"body1\"\r\n          >\r\n            {descriptionTitle}\r\n          </Typography>\r\n          <Typography\r\n            className={classes.dateText}\r\n            color=\"textSecondary\"\r\n            variant=\"body1\"\r\n          >\r\n          </Typography>\r\n        </Box>\r\n    )\r\n}\r\n\r\nProfileAvatar.propTypes = {\r\n    avatar: PropTypes.string,\r\n    firstname: PropTypes.string,\r\n    lastname: PropTypes.string,\r\n    descriptionTitle: PropTypes.string\r\n\r\n}\r\n\r\nexport default ProfileAvatar\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n\r\n// components\r\nimport ProfileAvatar from \"../ProfileAvatar\";\r\n\r\nfunction SidebarProfile(props) {\r\n  const { user } = props;\r\n  return (\r\n    <ProfileAvatar\r\n      avatar={user.image}\r\n      firstname={user.nom}\r\n      lastname={user.prenom}\r\n      descriptionTitle={user.description}\r\n    />\r\n  );\r\n}\r\n\r\nSidebarProfile.propTypes = {\r\n    user: PropTypes.shape({\r\n        avatar: PropTypes.string,\r\n        firstname: PropTypes.string,\r\n        lastname: PropTypes.string,\r\n\r\n        })\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // user: state.managerReducer.user,\r\n  user: state.adminReducer.user,\r\n});\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(SidebarProfile);\r\n\r\n","\r\nimport React from 'react'\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport clsx from \"clsx\";\r\n\r\n\r\n//components\r\nimport SidebarItemsList from './SidebarItemList'\r\nimport SidebarProfile from './SidebarProfile'\r\nimport { Divider } from '@material-ui/core';\r\n\r\nexport default function index(props) {\r\n    const {classes,open,handleDrawerClose}=props;\r\n   \r\n    return (\r\n        <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        {open && <SidebarProfile  />}\r\n        <div className={classes.toolbarIcon}>\r\n         \r\n        </div>\r\n        <Divider/>\r\n        <SidebarItemsList navItems={props.navItems}  />\r\n       \r\n      </Drawer>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport {Outlet } from \"react-router-dom\";\r\n\r\n\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport BarChartIcon from \"@material-ui/icons/BarChart\";\r\nimport CastForEducationIcon from '@material-ui/icons/CastForEducation';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport GradientIcon from '@material-ui/icons/Gradient';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\n\r\n\r\n// components\r\nimport Sidebar from '../../../shared/sidebar'\r\n\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst navItems=[\r\n  {\r\n      link:'/enseignants',\r\n      ItemIcon:CastForEducationIcon,\r\n      label:'Enseignants'\r\n  },\r\n  {\r\n      link:'/abonnes',\r\n      ItemIcon:LoyaltyIcon,\r\n      label:'Abonnés'\r\n  },\r\n  {\r\n      link:'/eleves',\r\n      ItemIcon:PeopleIcon,\r\n      label:'Eleves'\r\n  },\r\n  {\r\n      link:'/pubs',\r\n      ItemIcon:GradientIcon,\r\n      label:'Pubs'\r\n  },\r\n  {\r\n      link:'/statistiques',\r\n      ItemIcon:BarChartIcon,\r\n      label:'Statistiques'\r\n  },\r\n  {\r\n      type:'divider'\r\n   \r\n  },\r\n  {\r\n      link:'/profile',\r\n      ItemIcon:PersonIcon,\r\n      label:'Profile'\r\n  },\r\n  {\r\n      link:'/logout',\r\n      ItemIcon:ExitToAppIcon,\r\n      label:'Deconnexion'\r\n  },\r\n\r\n]\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function Dashboard(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"absolute\"\r\n        className={clsx(classes.appBar, open && classes.appBarShift)}\r\n      >\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(\r\n              classes.menuButton,\r\n              open && classes.menuButtonHidden\r\n            )}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography\r\n            component=\"h1\"\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n            Dashboard\r\n          </Typography>\r\n          {/* <IconButton color=\"inherit\">\r\n            <Badge badgeContent={4} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton> */}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Sidebar navItems={navItems} open={open} classes={classes} handleDrawerClose={handleDrawerClose} decendentprops={{classes:classes}}/>\r\n      \r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n\r\n       <Outlet/>     \r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles,createMuiTheme,MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport {purple,red} from \"@material-ui/core/colors\"\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport {Outlet } from \"react-router-dom\";\r\n\r\n\r\nimport SchoolIcon from \"@material-ui/icons/School\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport BarChartIcon from \"@material-ui/icons/BarChart\";\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\n\r\n// components\r\nimport Sidebar from '../../../shared/sidebar/'\r\n\r\n\r\nconst drawerWidth = 300;\r\n\r\n\r\nconst navItems=[\r\n  {\r\n      link:'/teacher/contenu',\r\n      ItemIcon:SchoolIcon,\r\n      label:'Contenu'\r\n  },\r\n  {\r\n      link:'/teacher/eleves',\r\n      ItemIcon:PeopleIcon,\r\n      label:'Eleves'\r\n  },\r\n  {\r\n      link:'/teacher/statistiques',\r\n      ItemIcon:BarChartIcon,\r\n      label:'Statistiques'\r\n  },\r\n  {\r\n      type:'divider'\r\n   \r\n  },\r\n  {\r\n      link:'/teacher/profile',\r\n      ItemIcon:PersonIcon,\r\n      label:'Profile'\r\n  },\r\n  {\r\n      link:'/logout',\r\n      ItemIcon:ExitToAppIcon,\r\n      label:'Deconnexion'\r\n  },\r\n\r\n]\r\n\r\nconst TeacherLayoutTheme=createMuiTheme({palette: {\r\n  primary: purple,\r\n  secondary: red,\r\n}},)\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    boxShadow: theme.shadows[14],\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    boxShadow: theme.shadows[1],\r\n\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function Dashboard(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n\r\n  return (\r\n    <MuiThemeProvider theme={TeacherLayoutTheme}>\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"absolute\"\r\n        className={clsx(classes.appBar, open && classes.appBarShift)}\r\n      >\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(\r\n              classes.menuButton,\r\n              open && classes.menuButtonHidden\r\n            )}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography\r\n            component=\"h1\"\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n            Dashboard\r\n          </Typography>\r\n          {/* <IconButton color=\"inherit\">\r\n            <Badge badgeContent={4} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton> */}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Sidebar navItems={navItems} open={open} classes={classes} handleDrawerClose={handleDrawerClose} decendentprops={{classes:classes}}/>\r\n      \r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        \r\n         \r\n        \r\n       <Outlet/>\r\n\r\n        \r\n      </main>\r\n    </div>\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport {\r\n  indigo,\r\n  deepPurple,\r\n  purple,\r\n  red,\r\n  green,\r\n  deepOrange,\r\n} from \"@material-ui/core/colors\";\r\nconst defaultTheme = createMuiTheme();\r\n\r\nconst bootstraptheme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#ff9800\",\r\n    },\r\n    secondary: {\r\n      main: \"#f44336\",\r\n    },\r\n  },\r\n});\r\nconst cyclesTheme = createMuiTheme({\r\n  palette: {\r\n    primary: deepOrange,\r\n    secondary: deepPurple,\r\n    default: green,\r\n  },\r\n});\r\n\r\nexport { defaultTheme, bootstraptheme, cyclesTheme };\r\n","import React, { forwardRef } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Page = forwardRef(({\r\n  children,\r\n  title = '',\r\n  ...rest\r\n}, ref) => {\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      {...rest}\r\n    >\r\n      <Helmet>\r\n        <title>{title}</title>\r\n      </Helmet>\r\n      {children}\r\n    </div>\r\n  );\r\n});\r\n\r\nPage.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  title: PropTypes.string\r\n};\r\n\r\nexport default Page;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\n\r\nconst useRowStyles = makeStyles({\r\n  root: {\r\n    '& > *': {\r\n      borderBottom: 'unset',\r\n    },\r\n  },\r\n  head: {\r\n    fontWeight: \"bold\",\r\n    fontSize: \"1.0rem\"\r\n\r\n  },\r\n  rowHead:{\r\n      fontWeight: \"bold\",\r\n      fontSize: \"0.9rem\"\r\n  }\r\n});\r\n\r\n\r\n\r\nfunction Row(props) {\r\n  const { row,headLabels,subHeadersTitle,subHeaderLabels } = props;\r\n  const [open, setOpen] = React.useState(false);\r\n  const classes = useRowStyles();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <TableRow className={classes.root}>\r\n        <TableCell width={10}>\r\n          <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n        </TableCell>\r\n        {/* <TableCell component=\"th\" scope=\"row\">\r\n          {row.name}\r\n        </TableCell> */}\r\n        \r\n        {headLabels.map((label)=>(\r\n        <TableCell className={classes.rowHead} key={`${label.key}-value`} align=\"left\">{row[label.key]}</TableCell>\r\n        ))}\r\n      </TableRow>\r\n      <TableRow>\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <Box margin={1}>\r\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                {subHeadersTitle}\r\n              </Typography>\r\n              <Table size=\"small\" >\r\n                <TableHead>\r\n                  <TableRow>\r\n                    \r\n                    {subHeaderLabels.map((label,idx)=>(<TableCell key={`${idx}-${label.label}`}align=\"left\">{label.label}</TableCell>))}\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {row.children.map((subRow,rowIdx) => (\r\n                    <TableRow key={rowIdx}>\r\n                     \r\n                      {subHeaderLabels.map((label,index)=>(<TableCell key={`${index}-${subRow[label.key]}`}>{subRow[label.key]}</TableCell>))}\r\n                      \r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </Box>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\nRow.prototype={\r\n    row:PropTypes.object.isRequired,\r\n    headLabels:PropTypes.array.isRequired,\r\n    subHeadersTitle:PropTypes.array.isRequired,\r\n    subHeaderLabels: PropTypes.array.isRequired\r\n}\r\n\r\nexport default function CollapsibleTable(\r\n   { headLabels,\r\n    subHeaderLabels,\r\n    subHeadersTitle,\r\n    rows,\r\n    ...props}\r\n) {\r\n    const classes = useRowStyles();\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table aria-label=\"collapsible table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell width={10}/>\r\n            \r\n            {headLabels.map((label)=>(\r\n            <TableCell className={classes.head} align=\"left\" key={label.key}>{label.label}</TableCell>\r\n            ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row,idx) => (\r\n            <Row key={idx} row={row} subHeaderLabels={subHeaderLabels} subHeadersTitle={subHeadersTitle} headLabels={headLabels}   />\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n\r\nCollapsibleTable.prototype={\r\n    rows:PropTypes.array.isRequired,\r\n    headLabels:PropTypes.array.isRequired,\r\n    subHeadersTitle:PropTypes.array.isRequired,\r\n    subHeaderLabels: PropTypes.array.isRequired\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Box,\r\n  Fab\r\n} from \"@material-ui/core\";\r\n\r\n//themes\r\nimport { defaultTheme } from \"../../../../../themes/palettes\";\r\n\r\n// components\r\nimport Page from \"../../../../shared/Page\";\r\nimport LoadingComponent from \"../../../../shared/LoadingComponent\";\r\nimport CollapssibleTable from \"../../../../shared/tables/CustomCollapsibleTable\";\r\nimport { Add as AddIcon } from \"@material-ui/icons\";\r\n\r\nimport ManagerService from '../../../../../services/managerServices'\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n  fab: {\r\n      color: \"white\",\r\n      backgroundColor: theme.palette.success.light\r\n  }\r\n}));\r\nexport default function Dashboard(props) {\r\n  const classes = useStyles();\r\n\r\n//   const dataRows = [{cycle: \"Primaire\",children: []},{cycle: \"CEM\",children: []},{cycle: \"Lycé\",children: []}];\r\n  const dataColumns = [{key:\"cycle\", label: \"Cycles\"}];\r\n  const subHeaders=[{key:\"codeCl\", label: \"Classe\"},{key:\"description\", label: \"Intitulé\"}];\r\n//   const dataColumns = headCells.map((el) => el.label);\r\n\r\n  // States\r\n  const [DataRows, setDataRows] = useState([]);\r\n  const [isLoading, setisLoading] = useState(false);\r\n\r\n    // On Component Di mount, fetch required infos ( wilayas/communes, cycles,years,matieres)\r\n    useEffect(() => {\r\n        setisLoading(true);\r\n        ManagerService.getAllClasses({adminType: 'manager'})\r\n          .then((res) => {\r\n                    const rows=[{cycle: \"Primaire\",children: []},{cycle: \"CEM\",children: []},{cycle: \"Lycé\",children: []}];\r\n                    res.classes.forEach((classe) => {\r\n                        rows[classe.cycle-1].children.push( {codeCl: classe.codeCl,description: classe.description});\r\n                    });\r\n                    console.log(rows);\r\n                    setDataRows(rows)\r\n                    setisLoading(false);\r\n              },\r\n              (err) => {\r\n                console.log(err)\r\n                setisLoading(false);\r\n              }\r\n          )\r\n    \r\n  }, []);\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Tableau de Bord\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <LoadingComponent\r\n                component={\r\n                  <Paper className={classes.paper}>\r\n                    <Box p={3}>\r\n                        <Typography variant=\"h4\" color=\"primary\">Annuaire des cycles/années</Typography>\r\n                    </Box>\r\n                    <CollapssibleTable \r\n                    headLabels={dataColumns}\r\n                    rows={DataRows}\r\n                    subHeaderLabels={subHeaders}\r\n                    subHeadersTitle={\"Classes associées\"}\r\n\r\n                    \r\n                    />\r\n                    <Box m={3} p={3} display=\"flex\" justifyContent=\"flex-end\"><Fab className={classes.fab}>\r\n                        <AddIcon/>\r\n\r\n                    </Fab>\r\n                    </Box>\r\n                  </Paper>\r\n                }\r\n                controller={isLoading}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TableSortLabel,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Checkbox\r\n} from \"@material-ui/core\";\r\n\r\n\r\nexport default function EnhancedTableHead(props) {\r\n  const {\r\n    classes,\r\n    onSelectAllClick,\r\n    order,\r\n    orderBy,\r\n    numSelected,\r\n    rowCount,\r\n    onRequestSort,\r\n    headCells,\r\n    withActions,\r\n    withStartCheckbox,\r\n  } = props;\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {withStartCheckbox && (\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={rowCount > 0 && numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n              inputProps={{ \"aria-label\": \"select all desserts\" }}\r\n            />\r\n          </TableCell>\r\n        )}\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={\"left\"}\r\n            padding={headCell.disablePadding ? \"none\" : \"default\"}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : \"asc\"}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n        {withActions && (\r\n          <TableCell key={\"actionColumn\"} align={\"center\"}>\r\n            Actions\r\n          </TableCell>\r\n        )}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\nimport { lighten, makeStyles} from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport {\r\n  Toolbar,\r\n  Typography,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n    root: {\r\n      paddingLeft: theme.spacing(2),\r\n      paddingRight: theme.spacing(1),\r\n    },\r\n    highlight:\r\n      theme.palette.type === \"light\"\r\n        ? {\r\n            color: theme.palette.secondary.main,\r\n            backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n          }\r\n        : {\r\n            color: theme.palette.text.primary,\r\n            backgroundColor: theme.palette.secondary.dark,\r\n          },\r\n    title: {\r\n      flex: \"1 1 100%\",\r\n    },\r\n  }));\r\n  \r\n  export default function EnhancedTableToolbar (props)  {\r\n    const classes = useToolbarStyles();\r\n    const { numSelected, title } = props;\r\n  \r\n    return (\r\n      <Toolbar\r\n        className={clsx(classes.root, {\r\n          [classes.highlight]: numSelected > 0,\r\n        })}\r\n      >\r\n        {numSelected > 0 ? (\r\n          <Typography\r\n            className={classes.title}\r\n            color=\"inherit\"\r\n            variant=\"subtitle1\"\r\n            component=\"div\"\r\n          >\r\n            {numSelected} selected\r\n          </Typography>\r\n        ) : (\r\n          <Typography\r\n            className={classes.title}\r\n            variant=\"h6\"\r\n            id=\"tableTitle\"\r\n            component=\"div\"\r\n          >\r\n            {title}\r\n          </Typography>\r\n        )}\r\n  \r\n        {numSelected > 0 ? (\r\n          <Tooltip title=\"Delete\">\r\n            <IconButton aria-label=\"delete\">\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        ) : (\r\n          <Tooltip title=\"Filter list\">\r\n            <IconButton aria-label=\"filter list\">\r\n              <FilterListIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        )}\r\n      </Toolbar>\r\n    );\r\n  };\r\n  \r\n  EnhancedTableToolbar.propTypes = {\r\n    numSelected: PropTypes.number.isRequired,\r\n  };","import React from \"react\";\r\nimport {  makeStyles, ThemeProvider,useTheme  } from \"@material-ui/core/styles\";\r\nimport {\r\n  Grid,\r\n  Box,\r\n  Avatar,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TablePagination,\r\n  TableRow,\r\n  MuiThemeProvider,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Button,\r\n  IconButton,\r\n  Typography,\r\n  Paper,\r\n  FormControlLabel,\r\n  Switch,\r\n  Checkbox,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\n\r\n\r\n\r\n// components\r\nimport EnhancedTableHead from './CustomTableHead'\r\nimport EnhancedTableToolbar from './CustomTableToolbar'\r\n// utils\r\nimport {getInitials} from '../../../utils/functions'\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === \"desc\"\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  paper: {\r\n    width: \"100%\",\r\n    marginBottom: theme.spacing(2),\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  chip: {\r\n    margin: theme.spacing(0.5),\r\n    color: theme.palette.primary\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  tableRow: {\r\n    cursor: \"pointer\"\r\n\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: \"rect(0 0 0 0)\",\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: \"hidden\",\r\n    padding: 0,\r\n    position: \"absolute\",\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function EnhancedTable({\r\n  tableTitle,\r\n  rows,\r\n  headCells,\r\n  indexName,\r\n  handleRowSelected,\r\n  withStartCheckbox = true,\r\n  withFiltering,\r\n  withActions = false,\r\n  actionButtons,\r\n  customtheme,\r\n  ...props\r\n}) {\r\n  const classes = useStyles();\r\n  const inheritTheme=useTheme ();\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"calories\");\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(true);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = rows.map((n) => n.name);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n  const handleClick = (event, name) => {\r\n    const selectedIndex = selected.indexOf(name);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const handleChangeDense = (event) => {\r\n    setDense(event.target.checked);\r\n  };\r\n\r\n  const isSelected = (name) => selected.indexOf(name) !== -1;\r\n\r\n  const emptyRows =\r\n    rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\r\n  \r\n  const hasAvatar = (columnName) => {\r\n    return (\r\n      typeof headCells.find(\r\n        (column) => column.id === columnName && column.withAvatar === true\r\n      ) !== \"undefined\"\r\n    );\r\n  };\r\n  return (\r\n      <div className={classes.root}>\r\n        <Paper className={classes.paper}>\r\n          <EnhancedTableToolbar\r\n            numSelected={selected.length}\r\n            title={tableTitle}\r\n          />\r\n          <TableContainer>\r\n            <Table\r\n              className={classes.table}\r\n              aria-labelledby=\"tableTitle\"\r\n              size={dense ? \"small\" : \"medium\"}\r\n              aria-label=\"enhanced table\"\r\n            >\r\n              <EnhancedTableHead\r\n                headCells={headCells}\r\n                withStartCheckbox={withStartCheckbox}\r\n                withActions={withActions}\r\n                classes={classes}\r\n                numSelected={selected.length}\r\n                order={order}\r\n                orderBy={orderBy}\r\n                onSelectAllClick={handleSelectAllClick}\r\n                onRequestSort={handleRequestSort}\r\n                rowCount={rows.length}\r\n              />\r\n              <TableBody>\r\n                {stableSort(rows, getComparator(order, orderBy))\r\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                  .map((row, index) => {\r\n                    const isItemSelected = isSelected(row[indexName]);\r\n                    const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                    return (\r\n                      <TableRow\r\n                        hover\r\n                        className={classes.tableRow}\r\n                        onClick={(event) => {if (props.rowClickHandler) props.rowClickHandler(row[indexName]); else if(handleRowSelected) handleRowSelected(event, row[indexName],handleClick); else handleClick(event, row[indexName])}}\r\n                        // onClick={(event) => {if(handleRowSelected) handleRowSelected(event, row[indexName],handleClick); else handleClick(event, row[indexName])}}\r\n                        role=\"checkbox\"\r\n                        aria-checked={isItemSelected}\r\n                        tabIndex={-1}\r\n                        key={row[indexName]}\r\n                        selected={isItemSelected}\r\n                      >\r\n                        {withStartCheckbox && (\r\n                          <TableCell padding=\"checkbox\">\r\n                            <Checkbox\r\n                              checked={isItemSelected}\r\n                              inputProps={{ \"aria-labelledby\": labelId }}\r\n                            />\r\n                          </TableCell>\r\n                        )}\r\n                        {/* Data Rows */}\r\n                        {/* <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\r\n                        {row[indexName]}\r\n                      </TableCell> */}\r\n                        {headCells.map((column, idx) => {\r\n                          const key = column.id;\r\n                          return (\r\n                            <TableCell align=\"left\" key={`${column.id}-${idx}`}>\r\n                              <Box display=\"flex\" alignItems=\"center\">\r\n                                {hasAvatar(key) ? (\r\n                                  <Box display=\"flex\" alignItems=\"center\" >\r\n                                    <Avatar\r\n                                    className={classes.avatar}\r\n                                    src={row.avatarUrl}\r\n                                  >\r\n                                    {getInitials(row[key])}\r\n                                  </Avatar>\r\n                                  </Box>\r\n                                ) : null}\r\n                               \r\n                                  {column.withChip &&\r\n                                    (() => {\r\n                                      var vals = row[key];\r\n                                      if (!(vals instanceof Array)) {\r\n                                        vals = [vals];\r\n                                      }\r\n\r\n                                      if (column.usesInnerTheme)\r\n                                        return (\r\n                                          <MuiThemeProvider theme={props.innerTheme}>\r\n                                            {vals.map((el,index) => (\r\n                                              <Chip\r\n                                                key={index}\r\n                                                className={classes.chip}\r\n                                                {...el}\r\n                                                color={el.color || (index%3===0?\"primary\":index%3===1?\"secondary\":\"default\")}\r\n                                                label={el.label}\r\n                                                size=\"small\"\r\n                                              />\r\n                                            ))}\r\n                                          </MuiThemeProvider>\r\n                                        );\r\n                                      else\r\n                                        return <MuiThemeProvider theme={inheritTheme}>\r\n                                        {vals.map((el,index) => (\r\n                                          <Chip\r\n                                          key={index}\r\n                                            className={`${classes.chip}`}\r\n                                            {...el}\r\n                                            color={el.color || (index%3===0?\"primary\":index%3===1?\"secondary\":\"default\")}\r\n                                            style={{color:el.variant!==\"outlined\"?\"white\":\"inherit\"}}\r\n                                            label={el.label}\r\n                                            size=\"small\"\r\n                                          />\r\n                                        ))}\r\n                                      </MuiThemeProvider>\r\n                                    })()}\r\n                                  {column.withChildComponent && (\r\n                                    <>{row[key]}</>\r\n                                  )\r\n\r\n                                  }  \r\n                                  {!column.withChip && !column.withChildComponent && (\r\n                                    <Typography\r\n                                      color=\"textPrimary\"\r\n                                      variant=\"body1\"\r\n                                      className=\"mx-2\"\r\n                                    >\r\n                                      {row[key]}\r\n                                    </Typography>\r\n                                  )}\r\n                                  {}\r\n                               \r\n                              </Box>\r\n                            </TableCell>\r\n                          );\r\n                        })}\r\n                        {/* Actions cells */}\r\n                        {withActions && (\r\n                          <TableCell align=\"center\">\r\n                            {withActions &&\r\n                              actionButtons &&\r\n                              actionButtons.map((btn, idx) => {\r\n                                if (!customtheme)\r\n                                  return (\r\n                                    <Button\r\n                                    key={idx}\r\n                                      fullWidth={btn.fullWidth ? btn.fullWidth: true}\r\n                                      color={btn.color || \"success\"}\r\n                                      className={`px-2 ${classes.button}`}\r\n                                      variant={btn.variant || \"contained\"}\r\n                                      startIcon={<btn.startIcon />}\r\n                                      onClick={() =>\r\n                                        btn.clickHandler(row[indexName])\r\n                                      }\r\n                                    >\r\n                                      {btn.label}\r\n                                    </Button>\r\n                                  );\r\n                                else\r\n                                  return (\r\n                                    <Grid\r\n                                      container\r\n                                      justify=\"center\"\r\n                                      spacing={3}\r\n                                    >\r\n                                      <ThemeProvider theme={customtheme}>\r\n                                        <Grid item xs={12} md={10}>\r\n                                          {\" \"}\r\n                                          <Button\r\n                                            fullWidth\r\n                                            color={btn.color || \"primary\"}\r\n                                            className=\"px-2\"\r\n                                            variant=\"contained\"\r\n                                            startIcon={<btn.startIcon />}\r\n                                            onClick={() =>\r\n                                              btn.clickHandler(row[indexName])\r\n                                            }\r\n                                          >\r\n                                            {btn.label}\r\n                                          </Button>\r\n                                        </Grid>\r\n                                      </ThemeProvider>\r\n                                    </Grid>\r\n                                  );\r\n                              })}\r\n                          </TableCell>\r\n                        )}\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                {emptyRows > 0 && (\r\n                  <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\r\n                    <TableCell colSpan={6} />\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n          <TablePagination\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n            component=\"div\"\r\n            count={rows.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onChangePage={handleChangePage}\r\n            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n          />\r\n        </Paper>\r\n        <FormControlLabel\r\n          control={<Switch checked={dense} onChange={handleChangeDense} />}\r\n          label={dense?\"Condensé\":\"Condenser\"}\r\n        />\r\n      </div>\r\n  );\r\n}\r\n","import React, {useEffect, useRef} from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {  MenuItem } from \"@material-ui/core\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Formik } from \"formik\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n  form: {\r\n    // width: \"100%\", // Fix IE 11 issue.\r\n    margin: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst CustomForm=React.forwardRef((props,ref)=> {\r\n  const classes = useStyles();\r\n  const submitBtnRef=useRef();\r\n\r\n  useEffect(()=>{\r\n    if(props.submitRefTracker) props.submitRefTracker(submitBtnRef);\r\n  },[submitBtnRef])\r\n \r\n  return (\r\n    <Formik\r\n      initialValues={props.initialState}\r\n      validationSchema={props.validationSchema}\r\n      enableReinitialize={props.reset?props.reset:true}\r\n      onSubmit={props.onSubmit}\r\n    >\r\n      {({\r\n        errors,\r\n        handleBlur,\r\n        handleChange,\r\n        handleSubmit,\r\n        isSubmitting,\r\n        touched,\r\n        values,\r\n      }) => (\r\n        <form className={classes.form}  onSubmit={(e)=>{e.preventDefault(); handleSubmit(e); }} ref={ref} encType=\"multipart/form-data\">\r\n          <Grid container spacing={2}>\r\n            {props.fieldsHiearchy && props.fieldsHiearchy.map((gridRow,rowidx) => {\r\n              if (!(gridRow instanceof Array)) {\r\n                gridRow = [gridRow];\r\n              }\r\n              return gridRow.map((field,columnidx) => (\r\n                <Grid item xs={12} sm={Math.floor(12 / gridRow.length)} key={`${rowidx}-${columnidx}`}>\r\n                  {field.type === \"input\" && (\r\n                    <TextField\r\n                    key={field.props.name}\r\n                      error={Boolean(touched[field.props.name] && errors[field.props.name])}\r\n                      helperText={touched[field.props.name] && errors[field.props.name]}\r\n                      onBlur={handleBlur}\r\n                      onChange={(e)=> {handleChange(e);if(props.onChange) props.onChange(e)} }\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      id={`${field.props.name}-input`}\r\n                      {...field.props}\r\n\r\n                    />\r\n                  )}\r\n                  {field.type === \"select\" && (\r\n                    <TextField \r\n                      error={Boolean(touched[field.props.name] && errors[field.props.name])}\r\n                      helperText={touched[field.props.name] && errors[field.props.name]}\r\n                      onBlur={handleBlur}\r\n                      onChange={(e)=> {handleChange(e); if(props.onChange) props.onChange(e)} }\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      id={`${field.props.name}-input`}\r\n                      {...field.props}\r\n                    >\r\n                      {field.children &&\r\n                        field.children.map((option, idx) => (\r\n                          <MenuItem key={option.key} value={option.value} >\r\n                            {option.label}\r\n                          </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                  )}\r\n                  {field.type === \"formControl\" && (<>{field.children}</>)}\r\n                </Grid>\r\n              ));\r\n            })}\r\n\r\n            \r\n          </Grid>\r\n          {!props.noSubmit && (<Grid container justify=\"flex-end\">\r\n            <Grid item xs={12} sm={4}>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                ref={submitBtnRef}\r\n              >\r\n                {props.submitLabel}\r\n              </Button>\r\n            </Grid>\r\n          </Grid>)}\r\n        </form>\r\n      )}\r\n    </Formik>\r\n  );\r\n})\r\n\r\nCustomForm.propTypes = {\r\n    submitLabel: PropTypes.string,\r\n    validationSchema: PropTypes.object,\r\n    fieldsHiearchy: PropTypes.array,\r\n    onSubmit: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n  };\r\n\r\n\r\n\r\nexport default CustomForm\r\n","import React, { useState, useEffect, createRef } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport * as Yup from \"yup\";\r\n\r\n// components\r\nimport CustomForm from \"../../../../shared/CustomForm\";\r\nimport LoadingComponent from \"../../../../shared/LoadingComponent\";\r\nimport ToasterSnackBar from \"../../../../shared/notifiers/toaster/ToasterSnackBar\";\r\n// Services\r\nimport ManagerService from \"../../../../../services/managerServices\";\r\nimport TeacherService from \"../../../../../services/teacherServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  username: Yup.string()\r\n    .max(20, \"Le nom de famille ne doit pas dépasser 20 caractères\")\r\n    .min(5, \"Le nom d'utilisateur doit contenir au moins 5 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  nom: Yup.string()\r\n    .min(3, \"Le nom doit contenir au moins 3 caractères\")\r\n    .max(20, \"Le nom de famille ne doit pas dépasser 20 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  prenom: Yup.string()\r\n    .min(3, \"Le prénom doit contenir au moins 3 caractères\")\r\n    .max(50, \"Le prénom ne doit pas dépasser 50 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  email: Yup.string()\r\n    .email(\"Adresse Email invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  phone: Yup.string()\r\n    .trim()\r\n    .matches(/^0[5679]\\d{8}$/, \"Numéro de télephone invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  cycle: Yup.number().required(\"Champs Obligatoire\"),\r\n  matiere: Yup.string().required(\"Champs Obligatoire\"),\r\n  // matieresIds: Yup.array().required(\"Champs Obligatoire\"),\r\n  classes: Yup.array().required(\"Champs Obligatoire\"),\r\n  commune: Yup.string().required(\"Champs Obligatoire\"),\r\n  wilaya: Yup.string().required(\"Champs Obligatoire\"),\r\n});\r\nconst username = {\r\n  type: \"input\",\r\n  props: {\r\n    name: \"username\",\r\n    required: true,\r\n    type: \"text\",\r\n    label: \"Nom d'utilisateur\",\r\n  },\r\n};\r\nconst nom = {\r\n  type: \"input\",\r\n  props: { name: \"nom\", required: true, type: \"text\", label: \"Nom\" },\r\n};\r\nconst prenom = {\r\n  type: \"input\",\r\n  props: { name: \"prenom\", required: true, type: \"text\", label: \"Prenom\" },\r\n};\r\nconst email = {\r\n  type: \"input\",\r\n  props: { name: \"email\", required: true, type: \"email\", label: \"Email\" },\r\n};\r\nconst phone = {\r\n  type: \"input\",\r\n  props: { name: \"phone\", required: true, type: \"text\", label: \"Télephone\" },\r\n};\r\n\r\nexport default function AddEnseignant(props) {\r\n  const initialState = {\r\n    username: \"\",\r\n    nom: \"\",\r\n    prenom: \"\",\r\n    wilaya: \"\",\r\n    commune: \"\",\r\n    cycle: \"\",\r\n    matieresIds: [],\r\n    classes: [],\r\n    matiere: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    \r\n  };\r\n  const [defaultFormValues, setdefaultFormValues] = useState([]);\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const formRef = createRef();\r\n\r\n  const [state, setState] = useState({\r\n    formState: initialState,\r\n    listeW: [],\r\n    listC: [],\r\n    formStructure: [],\r\n  });\r\n\r\n  // Define notification state\r\n  const [toasterOpen, setToasterOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({\r\n    severity : \"success\",\r\n    message: 'Enseignant enregistré avec succès'\r\n  });\r\n  const closeToaster = () => setToasterOpen(false);\r\n\r\n    // On Component Di mount, fetch required infos ( wilayas/communes, cycles,years,matieres)\r\n  useEffect(() => {\r\n    fetch(\"/assets/communes-wilayas-ar.json\")\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        const wilayas = {};\r\n        data.forEach((item) => {\r\n          wilayas[item.codeW] = item.wilaya;\r\n        });\r\n        const listWilayas = Object.keys(wilayas).map((key) => ({\r\n          codeW: key,\r\n          nomW: wilayas[key],\r\n        }));\r\n          // Bind form inputs with state attributes\r\n        username.props.value = state.formState.username;\r\n        nom.props.value = state.formState.nom;\r\n        prenom.props.value = state.formState.prenom;\r\n        email.props.value = state.formState.email;\r\n        phone.props.value = state.formState.phone;\r\n          // Define the row containing Wilaya & Commune\r\n        const hiearchy = [\r\n          {\r\n            type: \"select\",\r\n            props: {\r\n              name: \"wilaya\",\r\n              required: true,\r\n              select: true,\r\n              label: \"Wilaya\",\r\n              value: state.formState.wilaya,\r\n              // onChange: handleChange\r\n            },\r\n            children: listWilayas.map((item) => ({\r\n              key: item.codeW,\r\n              value: item.nomW,\r\n              label: item.nomW,\r\n            })),\r\n          },\r\n          {\r\n            type: \"select\",\r\n            props: {\r\n              name: \"commune\",\r\n              required: true,\r\n              select: true,\r\n              label: \"Commune\",\r\n              value: state.formState.commune,\r\n            },\r\n            children: data.map((item) => ({\r\n              key: item.id,\r\n              value: item.id,\r\n              label: item.baladiya,\r\n            })),\r\n          },\r\n        ];\r\n          // Fetch cycles, years, & matieres\r\n          ManagerService.getAllClassesMatieres({adminType:\"manager\"})\r\n          .then((dataResp) => {\r\n            console.log(\"Server response for classes :\",dataResp)\r\n            const ItemsAnnes=[],listeAnnes=[];\r\n            const ItemsMatieres=[];\r\n            dataResp.classes.forEach((classe) => {\r\n                  listeAnnes.push(classe);\r\n                  // listeAnnes.push({...classe,id: `${classe.codeCl}#${classe.codeCl}#${classe.codeCl}`}); // To be replaced by the above after Backend implemented\r\n\r\n                classe.matieres.forEach((matiere, index) => {\r\n             \r\n                    if(!ItemsMatieres.find(el=>el.titre===matiere.titre)) ItemsMatieres.push({...matiere}); \r\n                });\r\n         \r\n            });\r\n            const listeMatieres=ItemsMatieres;\r\n            const cycles = {\r\n              type: \"select\",\r\n              props: {\r\n                name: \"cycle\",\r\n                required: true,\r\n                select: true,\r\n                multiple: true,\r\n                label: \"Cycle\",\r\n                value: \"\"\r\n                // value: state.formState.cycle,\r\n                \r\n              },\r\n              children:[]\r\n           \r\n            };\r\n            const matieres = {\r\n              type: \"select\",\r\n              props: {\r\n                name: \"matiere\",\r\n                required: true,\r\n                select: true,\r\n                label: \"Matière\",\r\n                value: state.formState.matiere,\r\n                \r\n              },\r\n              // children: listeMatieres,\r\n                // New changes by mahdi\r\n              children: listeMatieres.map((matiere)=>({\r\n                key: matiere.id,\r\n                value: matiere.id,\r\n                label: matiere.titre,\r\n              }))\r\n            };\r\n         \r\n            const years = {\r\n              type: \"select\",\r\n              props: {\r\n                // name: \"matieresIds\",\r\n                name: \"classes\",\r\n                required: true,\r\n                select: true,\r\n                multiple: true,\r\n                label: \"Classes enseignés\",\r\n                value: [],\r\n              \r\n                SelectProps: {\r\n                  multiple: true\r\n                }\r\n              },\r\n              children: []\r\n            };\r\n            const defaultForm=[\r\n              ...state.formStructure,\r\n              [username],\r\n              [nom, prenom],\r\n              [matieres,cycles,years],\r\n              hiearchy,\r\n              [email],\r\n              [phone],\r\n            ]\r\n            setdefaultFormValues(defaultForm)\r\n            setState({\r\n              ...state,\r\n              listC: data,\r\n              listeW: listWilayas,\r\n              listeAnnes: listeAnnes,\r\n              listeMatieres: listeMatieres,\r\n              formStructure: defaultForm,\r\n            });\r\n          },\r\n          err=>{\r\n            console.log(err)\r\n          });\r\n      });\r\n  }, []);\r\n\r\n\r\n  /**\r\n   * Handle form changes\r\n   * @param {*} event input onChange event\r\n   */\r\n  const handleChange = (event) => {\r\n   \r\n    setState({\r\n      ...state,\r\n      formState: {...state.formState,\r\n        [event.target.name]:\r\n        event.target.name === \"commune\"\r\n          ? state.listC.find((el) => el.id === event.target.value).baladiya\r\n          : event.target.value},\r\n      formStructure: state.formStructure.map((row) => {\r\n        return row.map((el) => {\r\n            // Change Commune's possible values according to choosed Wilaya\r\n          if (event.target.name === \"wilaya\" && el.props.name === \"commune\") {\r\n            const filteredCommunes = state.listC\r\n              .filter((commune) => commune.wilaya === event.target.value)\r\n              .map((item) => ({\r\n                key: item.id,\r\n                value: item.id,\r\n                label: item.baladiya,\r\n              }));\r\n            return {\r\n              ...el,\r\n              children: filteredCommunes,\r\n\r\n              props: { ...el.props, value: filteredCommunes[0].value },\r\n            };\r\n          } else \r\n\r\n            // New changes by mahdi\r\n          if (event.target.name === \"matiere\" && el.props.name === \"cycle\") {\r\n            const  labels= Array.from( new Set(state.listeAnnes\r\n              .filter((classe) => typeof (classe.matieres.find(el=> el.id===event.target.value)) !==\"undefined\")\r\n              .map((classe) => classe.cycle\r\n              ))); \r\n              console.log(event.target.value,'LABELS : ',labels)\r\n              const filteredCycles=labels.map((codeCycle)=>({\r\n                key: codeCycle,\r\n                value: codeCycle,\r\n                label: codeCycle===1?\"Primaire\":codeCycle===2?\"Moyen\":\"Lycé\",\r\n                }))\r\n           \r\n            return {\r\n              ...el,\r\n              children: filteredCycles,\r\n\r\n              props: { ...el.props,value: \"\" },\r\n            };\r\n          }\r\n          if (event.target.name === \"matiere\" && el.props.name === \"classes\") {     \r\n            return {\r\n              ...el,\r\n              children: [],\r\n\r\n              props: { ...el.props, value: \"\" },\r\n            };\r\n          }\r\n          else\r\n       \r\n            // New changes by mahdi\r\n          if (event.target.name === \"cycle\" && el.props.name === \"classes\") {\r\n            const  filteredClasses= state.listeAnnes\r\n              .filter((classe) => classe.cycle === event.target.value && classe.matieres.find(el=>el.id===state.formState.matiere))\r\n              .map((classe) => (\r\n                {key: `${classe.id}`,\r\n                value: `${classe.id}`,\r\n                label: `${(classe.dexription && classe.dexription!==\"\" && classe.dexription) || classe.codeCl}`\r\n            })\r\n              );\r\n        \r\n            return {\r\n              ...el,\r\n              children: filteredClasses,\r\n\r\n              props: { ...el.props, value: [] },\r\n            };\r\n          }else\r\n          \r\n            // Else, Standard process, update form input values\r\n          if (el.props.name === event.target.name)\r\n            return {\r\n              ...el,\r\n              props: { ...el.props, value: event.target.value },\r\n            };\r\n          return el;\r\n        });\r\n      }),\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Handle Submit form\r\n   * @param {*} data the data returned from Formik\r\n   */\r\n  const handleSubmit = (data) => {\r\n    console.log(data);\r\n    console.log(state.formState);\r\n    const {username,nom,prenom,email,phone,wilaya,commune,matiere,classes}=state.formState;\r\n   \r\n    \r\n    setisLoading(true);\r\n    TeacherService.register({\r\n      username,nom,prenom,\r\n      email,phone,wilaya,commune,\r\n      // matieresIds,\r\n      matiereId:matiere,\r\n      // classesIds,\r\n      classesIds:classes,\r\n      adminType: \"manager\",\r\n    }).then(\r\n      (res) => {\r\n        console.log(\"Registration results : \",res);\r\n        setAlertProps({\r\n          severity : \"success\",\r\n          message: 'Enseignant enregistré avec succès'\r\n        });\r\n        setToasterOpen(true);\r\n        setisLoading(false);\r\n        // Reset form and formState values\r\n        setState({\r\n          ...state,\r\n          formState: initialState,\r\n          formStructure: defaultFormValues\r\n        })\r\n      },\r\n\r\n      (err) => {\r\n        console.error(err);\r\n        setAlertProps({\r\n          severity:'error',\r\n          message : `Une erreur s'est produite ${(err.message && err.message) || err }`\r\n        });\r\n        setToasterOpen(true);\r\n        setisLoading(false);\r\n      }\r\n    );\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <ToasterSnackBar\r\n          open={toasterOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={<Alert variant=\"filled\" severity={alertProps.severity}>\r\n          {alertProps.message}\r\n        </Alert>}\r\n        \r\n        />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Ajouter un nouvel enseignant\r\n        </Typography>\r\n\r\n        <LoadingComponent\r\n          component={\r\n            <CustomForm\r\n              ref={formRef}\r\n              validationSchema={validationSchema}\r\n              fieldsHiearchy={state.formStructure}\r\n              initialState={state.formState}\r\n              onChange={handleChange}\r\n              onSubmit={handleSubmit}\r\n              submitLabel={\"Enregistrer\"}\r\n              state={state}\r\n            />\r\n          }\r\n          controller={isLoading}\r\n        />\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nfunction CustomModal(props) {\r\n  const [open, setOpen] = React.useState(props.open);\r\n\r\n  useEffect(()=>{\r\n      setOpen(props.open)\r\n\r\n  },[props.open])\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <Dialog onClose={props.handleClose} aria-labelledby=\"customized-dialog-title\" open={open} maxWidth=\"lg\" fullWidth>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={props.handleClose || handleClose}>\r\n          {props.title}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          {props.body}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {props.actions && props.actions.map((action,index)=><Button autoFocus key={index} onClick={action.clickHandler} {...action} color={action.color || \"primary\"}>\r\n            {action.label}\r\n          </Button>)}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nCustomModal.prototype={\r\n    open: PropTypes.bool.isRequired,\r\n    title: PropTypes.any.isRequired,\r\n    body: PropTypes.any.isRequired\r\n}\r\n\r\n\r\nexport default  CustomModal\r\n\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Paper,Card,CardContent,Divider} from '@material-ui/core';\r\n\r\n// Components\r\nimport ProfileAvatar from \"../../../../shared/ProfileAvatar\";\r\n\r\nfunction InfoCard(props) {\r\n    return (\r\n<Paper elevation={3}>\r\n<Card\r\n            >\r\n              <CardContent>\r\n                <ProfileAvatar\r\n                  firstname={props.nom}\r\n                  lastname={props.prenom}\r\n                  avatar={props.image}\r\n                  descriptionTitle={props.jobTitle}\r\n                  classes={props.classes}\r\n                />\r\n              </CardContent>\r\n              <Divider />\r\n              {props.additionalContent}\r\n              \r\n            </Card>\r\n    \r\n\r\n</Paper>\r\n    )\r\n}\r\n\r\nInfoCard.propTypes = {\r\n    nom: PropTypes.string.isRequired,\r\n    prenom: PropTypes.string.isRequired,\r\n    image: PropTypes.string.isRequired,\r\n    jobTitle: PropTypes.string.isRequired,\r\n    classes: PropTypes.array.isRequired,\r\n\r\n}\r\n\r\nexport default InfoCard\r\n\r\n","const customersHeadCells = [\r\n    // { id: \"id\", numeric: false, disablePadding: true, label: \"id\" },\r\n    { id: \"nom\", numeric: false, disablePadding: true, label: \"Nom\" },\r\n    { id: \"prenom\", numeric: false, disablePadding: false, label: \"Prénom\" },\r\n    { id: \"eleves\", numeric: false, disablePadding: true, label: \"Eleves\",withChip: true,usesInnerTheme: true },\r\n    { id: \"wilaya\", numeric: false, disablePadding: false, label: \"Wilaya\" },\r\n    { id: \"commune\", numeric: false, disablePadding: false, label: \"Commune\" },\r\n    { id: \"phone\", numeric: false, disablePadding: false, label: \"Télephone\" },\r\n    { id: \"status\", numeric: false, disablePadding: false, label: \"Etat\", withChip: true },\r\n  ];\r\n  const ordersHeadCells = [\r\n    { id: \"code_achat\", numeric: false, disablePadding: true, label: \"Code d'achat\" },\r\n    { id: \"date_debut\", numeric: false, disablePadding: false, label: \"Date\" },\r\n    { id: \"type\", numeric: false, disablePadding: true, label: \"Type\" },\r\n    { id: \"duree\", numeric: false, disablePadding: true, label: \"Durre\" },\r\n    { id: \"classesLabels\", numeric: false, disablePadding: true, label: \"Classes Inscrites\",withChip: true,usesInnerTheme: true },\r\n    { id: \"owner\", numeric: false, disablePadding: false, label: \"Client\" },\r\n    { id: \"status\", numeric: false, disablePadding: false, label: \"Etat\", withChip: true },\r\n  ];\r\n  const profsHeadCells = [\r\n    // { id: \"id\", numeric: false, disablePadding: true, label: \"id\" },\r\n    { id: \"nom\", numeric: false, disablePadding: true, label: \"Nom\" ,withAvatar:true},\r\n    { id: \"prenom\", numeric: false, disablePadding: false, label: \"Prénom\" },\r\n    { id: \"classes\", numeric: false, disablePadding: false, label: \"Classes\",withChip: true,usesInnerTheme: true },\r\n    { id: \"matiere\", numeric: false, disablePadding: false, label: \"Matière\" },\r\n    { id: \"wilaya\", numeric: false, disablePadding: false, label: \"Wilaya\" },\r\n    { id: \"commune\", numeric: false, disablePadding: false, label: \"Commune\" },\r\n    { id: \"date_ajout\", numeric: false, disablePadding: false, label: \"Date d'ajout \" },\r\n  ];\r\n  const elevesHeadCells = [\r\n    { id: \"nom\", numeric: false, disablePadding: true, label: \"Nom\" ,withAvatar:true},\r\n    { id: \"classe\", numeric: false, disablePadding: false, label: \"Classe\",withChip: true,usesInnerTheme: true },\r\n    { id: \"age\", numeric: false, disablePadding: false, label: \"Age\" },\r\n    { id: \"sexe\", numeric: false, disablePadding: false, label: \"Genre\" },\r\n    { id: \"date_ajout\", numeric: false, disablePadding: false, label: \"Date d'ajout \" },\r\n  ];\r\n  const pubsHeadCells = [\r\n    { id: \"titre\", numeric: false, disablePadding: true, label: \"Titre\" },\r\n    { id: \"sponsor\", numeric: false, disablePadding: false, label: \"Publicateur\" },\r\n    { id: \"thumbnail\", numeric: false, disablePadding: false, label: \"Aperçu\",withChildComponent:true },\r\n    { id: \"actions\", numeric: false, disablePadding: false, label: \"Actions\",withChildComponent:true },\r\n    \r\n  ];\r\n  const coursHeadCells = [\r\n    // { id: \"id\", numeric: false, disablePadding: true, label: \"id\" },\r\n    { id: \"titre\", numeric: false, disablePadding: true, label: \"Titre\" },\r\n    { id: \"video\", numeric: false, disablePadding: false, label: \"URL Vidéo\" },\r\n    { id: \"thumbnail\", numeric: false, disablePadding: false, label: \"Apérçu\" },\r\n    { id: \"date_ajout\", numeric: false, disablePadding: false, label: \"Date d'ajout\" },\r\n   \r\n  ];\r\n\r\n  export {customersHeadCells,ordersHeadCells,profsHeadCells,elevesHeadCells,pubsHeadCells,coursHeadCells}","import React, { useState,useEffect } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  MuiThemeProvider,\r\n  createMuiTheme,\r\n} from \"@material-ui/core/styles\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Box,\r\n  TextField,\r\n  InputAdornment,\r\n  SvgIcon,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport Timeline from '@material-ui/lab/Timeline';\r\nimport TimelineItem from '@material-ui/lab/TimelineItem';\r\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\r\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\r\nimport {TimelineContent,TimelineOppositeContent}  from '@material-ui/lab';\r\nimport TimelineDot from '@material-ui/lab/TimelineDot';\r\n\r\n\r\nimport {red,indigo,deepPurple} from \"@material-ui/core/colors\"\r\nimport { Search as SearchIcon } from \"react-feather\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\n//themes\r\nimport { defaultTheme, bootstraptheme } from \"../../../../../themes/palettes\";\r\n\r\n// components\r\nimport CustomTable from \"../../../../shared/tables/CustomTable\";\r\nimport AddEnseignantsForm from \"./Add\";\r\nimport Page from \"../../../../shared/Page\";\r\nimport LoadingComponent from '../../../../shared/LoadingComponent' \r\nimport Modal from '../../../../shared/Modal' \r\nimport InforCard from './InfoCard' \r\n\r\n// Data\r\nimport { profsHeadCells } from \"../../../../data/tableHeads\";\r\n// import {ManagerActions} from \"../../../../../redux/actions/\";\r\nimport TeacherService from \"../../../../../services/teacherServices\";\r\n\r\nconst actions = [\r\n  {\r\n    color: \"primary\",\r\n    label: \"Signaler\",\r\n    clickHandler: (id) => console.log(id),\r\n    startIcon: ErrorOutlineIcon,\r\n  },\r\n  {\r\n    color: \"secondary\",\r\n    label: \"Résilier\",\r\n    clickHandler: (id) => console.log(id),\r\n    startIcon: RemoveIcon,\r\n  },\r\n];\r\n\r\nconst successtheme = createMuiTheme({\r\n  palette: {\r\n    primary: { main: \"#4caf50\" },\r\n    secondary: {\r\n      main: \"#f44336\",\r\n    },\r\n  },\r\n});\r\nconst cyclesTheme = createMuiTheme({\r\n  palette: {\r\n    primary: red,\r\n    secondary: deepPurple,\r\n    error: indigo,\r\n  },\r\n});\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function Enseignants(props) {\r\n  const classes = useStyles();\r\n  // States\r\n  const [profsRows, setProfsRows] = useState([]); //the original rows\r\n  const [filtredProfsRows, setFiltredProfsRows] = useState([]); // The filtered rows after searching changes\r\n  const [isLoading, setisLoading] = useState(false); // Loading spinners controller\r\n  const [showAddForm, setShowAddForm] = useState(false); // Loading spinners controller\r\n  const [popupOpen, setPopupOpen] = useState(false); // info card modal controller\r\n\r\n    // On component did mount, fetch teachers infos\r\n  useEffect(()=>{\r\n    setisLoading(true);\r\n\r\n    TeacherService.getAll({adminType:\"manager\"}).then(\r\n      res=>{\r\n        setisLoading(false);\r\n        console.log('Suceess Fetch profs',res);\r\n        const rows=res.enseignants.map((ens)=>({\r\n          ...ens,\r\n          matiere: ens.matiere.titre,\r\n          classes: ens.classes.map(cl=>({\r\n      \r\n            // avatar: <Avatar alt={eleve.username}  src={eleve.avatar} />,\r\n            label:cl.codeCl,\r\n            // variant:\"outlined\" ,\r\n            clickable : true\r\n          }))\r\n        }))\r\n        setFiltredProfsRows(rows);\r\n        setProfsRows(rows);\r\n\r\n      },\r\n      err=>{\r\n        setisLoading(false);\r\n        console.log('Error ',err)\r\n      }\r\n    )\r\n    \r\n\r\n  },[])\r\n\r\n  const [popupBody,setpopupBody]=useState((<></>));\r\n\r\n  // SearcheBar handle changes\r\n  const handleSearchInputChange = (e) => {\r\n\r\n    if (e.target.value.length < 4) {\r\n      setFiltredProfsRows(profsRows);\r\n      return;\r\n    }\r\n    const value = e.target.value;\r\n    setFiltredProfsRows(\r\n      profsRows.filter(\r\n        (row) =>\r\n          (row.nom && row.nom.indexOf(value) !== -1) ||\r\n          (row.prenom && row.prenom.indexOf(value) !== -1)\r\n      )\r\n    );\r\n  };\r\n\r\n  const rowClickHandler=(profId)=>{\r\n    // const prof=profsRows.find(ens=>ens.id===profId);\r\n    // if(!prof) {\r\n    //   console.error(\"Le prof clciké n'a pas été trouvé\");\r\n    //   return;\r\n    // }\r\n    TeacherService.getById({id: profId, adminType: \"manager\"}).then(\r\n      res=>{\r\n        const prof=res;\r\n\r\n        const {nom,prenom,image,classes}=prof;\r\n        setPopupOpen(true);\r\n        setpopupBody(\r\n          (\r\n            <Container >\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12} sm={5}>\r\n            <InforCard \r\n            nom={nom}\r\n            prenom={prenom}\r\n            image={image}\r\n            jobTitle={`Enseignant en ${prof.matiere.titre}`}\r\n            classes={classes}\r\n    \r\n            />\r\n    \r\n          </Grid>\r\n          <Grid item xs={12} sm={7}>\r\n    \r\n        <Paper elevation={3} style={{padding: \"1rem\"}}>\r\n          <Typography color=\"textPrimary\" variant=\"h6\">\r\n            Derniers cours ajoutés\r\n          </Typography>\r\n          <Timeline align=\"alternate\">\r\n            {!prof.cours.length && <Typography color=\"textSecondary\" variant=\"caption\">\r\n           Aucun cours n'est ajouté par cet enseignant\r\n          </Typography>}\r\n          {prof.cours.map((cours,index)=> \r\n          <TimelineItem key={index}>\r\n            <TimelineOppositeContent>\r\n          <Typography color=\"textSecondary\">{new Date(cours.date_ajout).toLocaleDateString('fr-FR')} {new Date(cours.date_ajout).toLocaleTimeString('fr-FR')}</Typography>\r\n              </TimelineOppositeContent>\r\n              <TimelineSeparator>\r\n                <TimelineDot color={index%2===0?\"primary\":\"secondary\"} />\r\n                <TimelineConnector />\r\n              </TimelineSeparator>\r\n              <TimelineContent>\r\n                <Typography>{cours.titre}</Typography>\r\n              </TimelineContent>\r\n          </TimelineItem>)}\r\n          \r\n        </Timeline>\r\n        </Paper>\r\n    \r\n          </Grid>\r\n    \r\n        </Grid>\r\n    \r\n      </Container>\r\n          )\r\n        )\r\n      },\r\n      err=>{\r\n\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Enseignants\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          <Modal \r\n          open={popupOpen}\r\n          title={\"Carte Informative\"}\r\n          body={popupBody}\r\n          handleClose={()=>setPopupOpen(false)}\r\n           />\r\n          <Grid container spacing={3}>\r\n            {/* Liste des enseignants */}\r\n            <Grid container justify=\"flex-end\"></Grid>\r\n            {/* Recherche d'abonnes */}\r\n            <Grid item xs={12} sm={8}>\r\n              <Box mt={3}>\r\n                \r\n                    <Box maxWidth={500}>\r\n                      <TextField\r\n                        fullWidth\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                              <SvgIcon fontSize=\"small\" color=\"action\">\r\n                                <SearchIcon />\r\n                              </SvgIcon>\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                        placeholder=\"Rechercher un enseignants ...\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e) => handleSearchInputChange(e)}\r\n                      />\r\n                    </Box>\r\n                 \r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <Box mt={3} alignItems=\"center\" justifyContent=\"center\" display=\"flex\" flexDirection=\"row\">\r\n                <MuiThemeProvider theme={successtheme}>\r\n                  <Button\r\n                    size=\"medium\"\r\n                    variant=\"contained\"\r\n                    className={classes.button}\r\n                    startIcon={<AddIcon />}\r\n                    color=\"primary\"\r\n                    onClick={(e)=>setShowAddForm(true)}\r\n                  >\r\n                    Ajouter\r\n                  </Button>\r\n                </MuiThemeProvider>\r\n              </Box>\r\n            </Grid>\r\n            {/* Liste des enseignants */}\r\n            <Grid item xs={12}>\r\n              <Paper className={classes.paper}>\r\n                <MuiThemeProvider theme={bootstraptheme}>\r\n                  <LoadingComponent component={<CustomTable\r\n                    tableTitle={\"Liste des enseignants\"}\r\n                    headCells={profsHeadCells}\r\n                    rows={filtredProfsRows}\r\n                    rowClickHandler={rowClickHandler}\r\n                    indexName={\"id\"}\r\n                    withActions={true}\r\n                    actionButtons={actions}\r\n                    innerTheme={cyclesTheme}\r\n                  />}\r\n                  controller={isLoading}\r\n\r\n                  />\r\n                </MuiThemeProvider>\r\n              </Paper>\r\n            </Grid>\r\n            {showAddForm && (<Grid item xs={12}>\r\n              <Paper className={classes.paper}>\r\n                <MuiThemeProvider theme={defaultTheme}>\r\n                  <AddEnseignantsForm />\r\n                </MuiThemeProvider>\r\n              </Paper>\r\n            </Grid>)}\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\n","import React, {useState,useEffect} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { red, green } from \"@material-ui/core/colors\";\r\nimport {\r\n  Container,\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  TextField,\r\n  InputAdornment,\r\n  SvgIcon,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Avatar,\r\n  MuiThemeProvider,\r\n} from \"@material-ui/core\";\r\nimport { Search as SearchIcon } from \"react-feather\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport clsx from \"clsx\";\r\n\r\n//themes\r\nimport {\r\n  defaultTheme,\r\n  bootstraptheme,\r\n  cyclesTheme,\r\n} from \"../../../../themes/palettes\";\r\n// components\r\nimport CustomTable from \"../../../shared/tables/CustomTable\";\r\nimport Page from \"../../../shared/Page\";\r\nimport LoadingComponent from '../../../shared/LoadingComponent' \r\n\r\n// Data\r\nimport { ordersHeadCells,customersHeadCells} from \"../../../data/tableHeads\";\r\nimport ManagerService from \"../../../../services/managerServices\";\r\n\r\nconst actions = [\r\n  {\r\n    color: \"secondary\",\r\n    label: \"Desabonner\",\r\n    clickHandler: (id) => console.log(id),\r\n    startIcon: RemoveIcon,\r\n  },\r\n];\r\n\r\nconst activeInactiveTheme = createMuiTheme({\r\n  palette: {\r\n    primary: green,\r\n    secondary: red,\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(2),\r\n  },\r\n  grid: {\r\n    margin: theme.spacing(2),\r\n    padding: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  chip: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\nexport default function Abonnes(props) {\r\n  // Styles\r\n  const classes = useStyles(bootstraptheme);\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  \r\n      // States\r\n     \r\n    const [customersRows,setCutomersRows]=useState([]);   // Original rows \r\n    const [filtredCustomersRows,setFiltredCutomersRows]=useState([]);   // Filtered rows after search changes\r\n    const [ordersRows,setOrdersRows]=useState([]);   // Original rows \r\n  \r\n    \r\n\r\n  const [isLoading, setisLoading] = useState(false);\r\n  \r\n  useEffect(()=>{\r\n    setisLoading(true);\r\n    ManagerService.getAllAbonnes({adminType: \"manager\"}).then(\r\n      res=>{ \r\n        const rows=res.clients.map((row)=>{\r\n          const modified=row.eleves.map((eleve)=>({\r\n            \r\n            avatar: <Avatar alt={eleve.nom}  src={eleve.avatar} />,\r\n            label:eleve.nom,\r\n            variant:\"outlined\" ,\r\n            component:Link ,\r\n            to:`/eleves?eleveId=${eleve.id}`,\r\n            clickable : true\r\n          }));\r\n          \r\n          return {\r\n            ...row,\r\n            eleves: modified,\r\n            status: {\r\n              color :row.is_abonne?\"primary\":\"secondary\",\r\n              label: row.is_abonne?\"Actif\":\"Non Actif\"}\r\n          }\r\n          \r\n        })\r\n        setFiltredCutomersRows(rows);\r\n        setCutomersRows(rows);\r\n        setisLoading(false);\r\n\r\n      },\r\n      err=>{ \r\n        console.log(err);\r\n        setisLoading(false);\r\n\r\n      }\r\n    )\r\n      // Fetch all abonnements\r\n    ManagerService.getAllAbonnements({adminType: \"manager\"}).then(\r\n      res=>{ \r\n        console.log(res);\r\n        const rows=res.abonnements.map((row)=>{\r\n          \r\n          \r\n          return {\r\n            ...row,\r\n            type: row.type[0]===\"3\"?\"3 classes\":row.type[0]===\"1\"? \"1 classe\": \"Autre\",\r\n            owner: row.client.username,\r\n            classesLabels:row.classes.map(el=>({\r\n              label: el.codeCl\r\n\r\n            })),\r\n            status: {\r\n              color :row.is_abonne?\"primary\":\"secondary\",\r\n              label: row.is_abonne?\"Actif\":\"Expiré\"}\r\n          }\r\n          \r\n        })\r\n        setOrdersRows(rows);\r\n        setisLoading(false);\r\n\r\n      },\r\n      err=>{ \r\n        console.error(\"An Error occured when fetching abonnements :\",err);\r\n        setisLoading(false);\r\n\r\n      }\r\n    )\r\n\r\n\r\n  },[])\r\n\r\n    // SearcheBar handle changes\r\n  const handleSearchInputChange=(e)=>{\r\n\r\n    if(e.target.value.length<4) {\r\n      setFiltredCutomersRows(customersRows); \r\n      return;\r\n    }\r\n    const value=e.target.value;\r\n    setFiltredCutomersRows(\r\n      customersRows.filter((row)=> ((row.nom && row.nom.indexOf(value)!==-1) || (row.prenom && row.prenom.indexOf(value)!==-1) ) )\r\n    );\r\n\r\n  }  \r\n  return (\r\n    <Page className={classes.root} title=\"Abonnements\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          <Grid container spacing={3}>\r\n            {/* Derniers abonnements */}\r\n            <MuiThemeProvider theme={activeInactiveTheme}>\r\n              <Grid item container className={`${classes.grid}`} xs={12}>\r\n                <Grid item xs={12} sm={12}>\r\n                  <LoadingComponent\r\n                   component={<Paper className={fixedHeightPaper}>\r\n                    <CustomTable\r\n                      tableTitle={\"Liste des derniers abonnements\"}\r\n                      headCells={ordersHeadCells}\r\n                      rows={ordersRows}\r\n                      indexName={\"code_achat\"}\r\n                      withStartCheckbox={true}\r\n                      withActions={false}\r\n                      innerTheme={cyclesTheme}\r\n                    />\r\n                  </Paper>}\r\n                  controller={isLoading}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </MuiThemeProvider>\r\n            {/* Top abonnes */}\r\n            {/* <MuiThemeProvider theme={activeInactiveTheme}>\r\n              <Grid\r\n                item\r\n                container\r\n                className={`${classes.grid}`}\r\n                xs={12}\r\n                spacing={3}\r\n              >\r\n                <Grid item xs={12} sm={8}>\r\n                <LoadingComponent\r\n                   component={<Paper className={fixedHeightPaper}>\r\n                    <CustomTable\r\n                      tableTitle={\"Les abonnées les plus fidèles\"}\r\n                      headCells={customersHeadCells}\r\n                      rows={customersRows}\r\n                      indexName={\"id\"}\r\n                      withStartCheckbox={false}\r\n                      withActions={false}\r\n                      innerTheme={cyclesTheme}\r\n                    />\r\n                  </Paper>}\r\n                  controller={isLoading}\r\n\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                  <Typography variant=\"h6\">Carte Informative</Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </MuiThemeProvider> */}\r\n\r\n            {/* Recherche d'abonnes */}\r\n            <Grid item xs={12}>\r\n              <Box mt={3}>\r\n                <Card>\r\n                  <CardContent>\r\n                    <Box maxWidth={500}>\r\n                      <TextField\r\n                        fullWidth\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                              <SvgIcon fontSize=\"small\" color=\"action\">\r\n                                <SearchIcon />\r\n                              </SvgIcon>\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                        placeholder=\"Rechercher un abonné ...\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e)=>handleSearchInputChange(e)}\r\n                      />\r\n                    </Box>\r\n                  </CardContent>\r\n                </Card>\r\n              </Box>\r\n            </Grid>\r\n\r\n            {/* Liste des abonnes */}\r\n            <MuiThemeProvider theme={activeInactiveTheme}>\r\n              <Grid item xs={12}>\r\n              <LoadingComponent\r\n                   component={<Paper className={classes.paper}>\r\n                  <CustomTable\r\n                    tableTitle={\"Tous les abonnées\"}\r\n                    headCells={customersHeadCells}\r\n                    rows={filtredCustomersRows}\r\n                    indexName={\"id\"}\r\n                    withActions={true}\r\n                    actionButtons={actions}\r\n                    innerTheme={cyclesTheme}\r\n                  />\r\n                </Paper>}\r\n                controller={isLoading}\r\n                />\r\n              </Grid>\r\n            </MuiThemeProvider>\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport MUIDataTable from \"mui-datatables\";\r\n\r\n//themes\r\nimport { defaultTheme } from \"../../../../themes/palettes\";\r\n\r\n// components\r\nimport Page from \"../../../shared/Page\";\r\nimport LoadingComponent from \"../../../shared/LoadingComponent\";\r\n\r\n// Data\r\nimport { elevesHeadCells } from \"../../../data/tableHeads\";\r\nimport ManagerService from \"../../../../services/managerServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n}));\r\nexport default function Eleves(props) {\r\n  const classes = useStyles();\r\n\r\n  const dataColumns = elevesHeadCells.map((el) => el.label);\r\n\r\n\r\n  // States\r\n  const [filtredElevesRows, setFiltredElevesRows] = useState([]);\r\n  const [isLoading, setisLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setisLoading(true);\r\n    ManagerService.getAllEleves({ adminType: \"manager\" }).then(\r\n      (res) => {\r\n        console.log(res)\r\n\r\n        setFiltredElevesRows(\r\n          res.eleves.map((row) => \r\n          elevesHeadCells.map((column) => \r\n          column.id===\"classe\"?row.classe.codeCl:row[column.id]\r\n          ))\r\n          );\r\n          setisLoading(false);\r\n      },\r\n      (err) => {\r\n        setisLoading(false);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Eleves\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <LoadingComponent\r\n                component={\r\n                  <Paper className={classes.paper}>\r\n                    <MUIDataTable\r\n                      title=\"Liste des élèves\"\r\n                      data={filtredElevesRows}\r\n                      columns={dataColumns}\r\n                      options={{\r\n                        filterType: \"checkbox\",\r\n                      }}\r\n                    />\r\n                  </Paper>\r\n                }\r\n                controller={isLoading}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\n","import tinycolor from \"tinycolor2\";\r\nimport {createMuiTheme} from \"@material-ui/core/styles\"\r\nconst primary = \"#536DFE\";\r\nconst secondary = \"#FF5C93\";\r\nconst warning = \"#FFC260\";\r\nconst success = \"#3CD4A0\";\r\nconst info = \"#9013FE\";\r\n\r\nconst lightenRate = 7.5;\r\nconst darkenRate = 15;\r\n\r\nexport default createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: primary,\r\n      light: tinycolor(primary)\r\n        .lighten(lightenRate)\r\n        .toHexString(),\r\n      dark: tinycolor(primary)\r\n        .darken(darkenRate)\r\n        .toHexString(),\r\n    },\r\n    secondary: {\r\n      main: secondary,\r\n      light: tinycolor(secondary)\r\n        .lighten(lightenRate)\r\n        .toHexString(),\r\n      dark: tinycolor(secondary)\r\n        .darken(darkenRate)\r\n        .toHexString(),\r\n      contrastText: \"#FFFFFF\",\r\n    },\r\n    warning: {\r\n      main: warning,\r\n      light: tinycolor(warning)\r\n        .lighten(lightenRate)\r\n        .toHexString(),\r\n      dark: tinycolor(warning)\r\n        .darken(darkenRate)\r\n        .toHexString(),\r\n    },\r\n    success: {\r\n      main: success,\r\n      light: tinycolor(success)\r\n        .lighten(lightenRate)\r\n        .toHexString(),\r\n      dark: tinycolor(success)\r\n        .darken(darkenRate)\r\n        .toHexString(),\r\n    },\r\n    info: {\r\n      main: info,\r\n      light: tinycolor(info)\r\n        .lighten(lightenRate)\r\n        .toHexString(),\r\n      dark: tinycolor(info)\r\n        .darken(darkenRate)\r\n        .toHexString(),\r\n    },\r\n    text: {\r\n      primary: \"#4A4A4A\",\r\n      secondary: \"#6E6E6E\",\r\n      hint: \"#B9B9B9\",\r\n    },\r\n    background: {\r\n      default: \"#F6F7FF\",\r\n      light: \"#F3F5FF\",\r\n    },\r\n  },\r\n  customShadows: {\r\n    widget:\r\n      \"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n    widgetDark:\r\n      \"0px 3px 18px 0px #4558A3B3, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n    widgetWide:\r\n      \"0px 12px 33px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n  },\r\n  overrides: {\r\n    MuiBackdrop: {\r\n      root: {\r\n        backgroundColor: \"#4A4A4A1A\",\r\n      },\r\n    },\r\n    MuiMenu: {\r\n      paper: {\r\n        boxShadow:\r\n          \"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n      },\r\n    },\r\n    MuiSelect: {\r\n      icon: {\r\n        color: \"#B9B9B9\",\r\n      },\r\n    },\r\n    MuiListItem: {\r\n      root: {\r\n        \"&$selected\": {\r\n          backgroundColor: \"#F3F5FF !important\",\r\n          \"&:focus\": {\r\n            backgroundColor: \"#F3F5FF\",\r\n          },\r\n        },\r\n      },\r\n      button: {\r\n        \"&:hover, &:focus\": {\r\n          backgroundColor: \"#F3F5FF\",\r\n        },\r\n      },\r\n    },\r\n    MuiTouchRipple: {\r\n      child: {\r\n        backgroundColor: \"white\",\r\n      },\r\n    },\r\n    MuiTableRow: {\r\n      root: {\r\n        height: 56,\r\n      },\r\n    },\r\n    MuiTableCell: {\r\n      root: {\r\n        borderBottom: \"1px solid rgba(224, 224, 224, .5)\",\r\n      },\r\n      head: {\r\n        fontSize: \"0.95rem\",\r\n      },\r\n      body: {\r\n        fontSize: \"0.95rem\",\r\n      },\r\n    },\r\n  },\r\n});\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Grid,\r\n  Container,\r\n  Button,\r\n  IconButton,\r\n  Card,\r\n  CardHeader,\r\n  CardActions,\r\n  CardContent,\r\n  Divider,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { InputAdornment } from \"@material-ui/core\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport * as Yup from \"yup\";\r\n// import { ToastContainer, toast } from \"react-toastify\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { ManagerActions as Actions } from \"../../../../redux/actions/\";\r\n\r\n// components\r\nimport Page from \"../../../shared/Page\";\r\nimport ProfileAvatar from \"../../../shared/ProfileAvatar\";\r\nimport CustomForm from \"../../../shared/CustomForm\";\r\nimport LoadingComponent from \"../../../shared/LoadingComponent\";\r\nimport tinyTheme from \"../../../../themes/tinyTheme\";\r\nimport ToasterSnackBar from \"../../../shared/notifiers/toaster/ToasterSnackBar\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n  card: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    height: 100,\r\n    width: 100,\r\n    color: theme.palette.secondary.contrastText,\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  nom: Yup.string()\r\n    .max(20, \"Le nom de famille ne doit pas dépasser 20 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  prenom: Yup.string()\r\n    .max(50, \"Le prénom ne doit pas dépasser 50 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  email: Yup.string()\r\n    .email(\"Adresse Email invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  phone: Yup.string()\r\n    .trim()\r\n    .matches(/^0[5679]\\d{8}$/, \"Numéro de télephone invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  newpassword: Yup.string(),\r\n  currentpassword: Yup.string()\r\n  .test('passwords-match', \"Vous devez saisir le mot de passe actuel\", function(value) {\r\n    // console.log(this.parent);\r\n    return !this.parent.newpassword || (this.parent.newpassword === \"\") || (this.parent.newpassword !== \"\" && value && value!==\"\");\r\n    // return false;\r\n  }),\r\n});\r\nconst nom = {\r\n  type: \"input\",\r\n  props: { name: \"nom\", required: true, type: \"text\", label: \"Nom\" },\r\n};\r\nconst prenom = {\r\n  type: \"input\",\r\n  props: { name: \"prenom\", required: true, type: \"text\", label: \"Prenom\" },\r\n};\r\nconst email = {\r\n  type: \"input\",\r\n  props: { name: \"email\", required: true, type: \"email\", label: \"Email\" },\r\n};\r\nconst phone = {\r\n  type: \"input\",\r\n  props: { name: \"phone\", required: true, type: \"tel\", label: \"Télephone\" },\r\n};\r\n\r\nconst constructPasswordField = (params) => ({\r\n  endAdornment: (\r\n    <InputAdornment position=\"end\">\r\n      <IconButton\r\n        aria-label=\"toggle password visibility\"\r\n        onClick={params.handleClickShowPassword}\r\n      >\r\n        {params.showPassword ? <Visibility /> : <VisibilityOff />}\r\n      </IconButton>\r\n    </InputAdornment>\r\n  ),\r\n});\r\n\r\nexport const Profile = ({ className, cardProps, ...props }) => {\r\n  const classes = useStyles();\r\n  const user = props.user;\r\n  // const {username,nom,prenom,email,image,phone,_id}\r\n    // States\r\n  const [isLoding, setisLoding] = useState(false);\r\n  const [state, setState] = useState({...user, newpassword:\"\",currentpassword: \"\"});\r\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false);\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n\r\n  // Define notification state\r\n  const [alertOpen, setAlertOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({\r\n    severity : \"success\",\r\n    message: 'Profile mis à jours avec succès'\r\n  });\r\n  const toasterContent = (\r\n    <Alert variant=\"filled\" severity={alertProps.severity}>\r\n      {alertProps.message}\r\n    </Alert>\r\n  );\r\n  const closeToaster = () => setAlertOpen(false);\r\n  // const [progressValue, setProgressValue] = useState(0);\r\n  // Update field's initial values\r\n  nom.props.value = state.nom;\r\n  prenom.props.value = state.prenom;\r\n  email.props.value = state.email;\r\n  phone.props.value = state.phone;\r\n\r\n    // Show/Hide password trigger\r\n  const handleShowPassword = (name) => {\r\n    if (name === \"currentpassword\")\r\n      setShowCurrentPassword(!showCurrentPassword);\r\n    if (name === \"newpassword\") setShowNewPassword(!showNewPassword);\r\n  };\r\n  const currentpassword = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"currentpassword\",\r\n      type: showCurrentPassword ? \"text\" : \"password\",\r\n      label: \"Mot de passe actuel\",\r\n      InputProps: constructPasswordField({\r\n        showPassword: showCurrentPassword,\r\n        handleClickShowPassword: (e) => handleShowPassword(\"currentpassword\"),\r\n      }),\r\n    },\r\n  };\r\n  const newpassword = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"newpassword\",\r\n      type: showNewPassword ? \"text\" : \"password\",\r\n      label: \"Nouveau mot de passe\",\r\n      InputProps: constructPasswordField({\r\n        showPassword: showNewPassword,\r\n        handleClickShowPassword: (e) => handleShowPassword(\"newpassword\"),\r\n      }),\r\n    },\r\n  };\r\n  \r\n\r\n  // Define the shape of the form\r\n  const formStructure = [\r\n    [nom, prenom], // This is a row in the form grid\r\n    [email, phone],\r\n    [currentpassword, newpassword],\r\n  ];\r\n\r\n  const handleLoadImg=(event)=>{\r\n    const file = event.currentTarget.files[0];\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      const fileToAdd = {\r\n        file: file,\r\n        data: fileReader.result,\r\n        isUploading: false,\r\n      };\r\n      const changesObj={\r\n        ...state,\r\n        imgFile: fileToAdd,\r\n      };\r\n      setState(changesObj);\r\n\r\n    };\r\n    fileReader.onerror = () => {\r\n      console.log(\"Une est s'est produite lors de chargement de l'image depuis le disque\");\r\n    };\r\n\r\n    fileReader.readAsDataURL(file);\r\n\r\n  }\r\n\r\n\r\n  const handleChange = (event) => {\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  \r\n\r\n  const handleSubmit = (data) => {\r\n      // Grap only changed fields\r\n    const changes=Object.assign({}, ...(Object.keys(user).map((key)=>{\r\n      if(data[key] && user[key]!==data[key] && data[key]!==\"\")\r\n      return {\r\n        [key]: data[key]\r\n      } \r\n      else return undefined\r\n    }).filter((el)=> !(typeof el===\"undefined\"))));\r\n\r\n    if(state.imgFile)\r\n      changes.image=state.imgFile.file;\r\n\r\n    if(data.currentpassword && data.newpassword){\r\n      changes.oldPassword=data.currentpassword;\r\n      changes.newPassword=data.newpassword;\r\n    }\r\n    console.log(changes);\r\n\r\n  \r\n    \r\n      // If no field is changed, do not do anything, quit\r\n    if (! Object.keys(changes).length) return;\r\n    changes.id=user.id\r\n\r\n    setisLoding(true)\r\n    props.updateProfile({...changes,adminType: \"manager\",id: user.id}).then(\r\n      res=>{\r\n        setAlertProps({\r\n                severity : \"success\",\r\n                message: 'Profile mis à jours avec succès'\r\n              });\r\n              setAlertOpen(true)\r\n              setisLoding(false)\r\n        \r\n      },\r\n      err=>{\r\n        // props.updateProfile({ type: \"UPDATE_PROFILE_FAILED\", err });\r\n            setAlertProps({\r\n                    severity:'error',\r\n                    message : `Une erreur s'est produite ${err.message ? err.message:\"\"}`\r\n                  });\r\n            setAlertOpen(true);\r\n            setisLoding(false)\r\n\r\n      }\r\n      )\r\n   \r\n  };\r\n  return (\r\n    <Page className={classes.root} title=\"Compte\">\r\n      <Container maxWidth=\"lg\">\r\n        <ToasterSnackBar\r\n          open={alertOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={toasterContent}\r\n        />\r\n\r\n        <Grid container spacing={3}>\r\n          <Grid item lg={4} md={6} xs={12}>\r\n            <Card\r\n              //   className={clsx(classes.root, className)}\r\n              {...cardProps}\r\n            >\r\n              <CardContent>\r\n                <ProfileAvatar\r\n                  firstname={user.nom}\r\n                  lastname={user.prenom}\r\n                  avatar={(state.imgFile && state.imgFile.data ) || user.image}\r\n                  descriptionTitle={user.jobTitle}\r\n                  classes={classes}\r\n                />\r\n              </CardContent>\r\n              <Divider />\r\n              <CardActions>\r\n              <input \r\n                type=\"file\" \r\n                id=\"profilePicture\" name=\"profilePicture\" \r\n                hidden\r\n                accept=\"image/png, image/jpeg\"\r\n                onChange={handleLoadImg}\r\n                />\r\n                <Button component=\"label\"  htmlFor=\"profilePicture\" \r\n                color=\"primary\" fullWidth variant=\"text\"\r\n                >\r\n                  Modifier votre avatar\r\n                </Button>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item lg={8} md={6} xs={12}>\r\n            <Card>\r\n              <CardHeader\r\n                subheader=\"Vous pouvez modifier vos informations\"\r\n                title=\"Paramètres du profile\"\r\n              />\r\n              <Divider />\r\n              <MuiThemeProvider theme={tinyTheme}>\r\n                <LoadingComponent \r\n                component={<CustomForm\r\n                  validationSchema={validationSchema}\r\n                  fieldsHiearchy={formStructure}\r\n                  initialState={state}\r\n                  onChange={handleChange}\r\n                  onSubmit={handleSubmit}\r\n                  submitLabel={\"Mettre à jours\"}\r\n                />}\r\n                controller={isLoding}\r\n                />\r\n              </MuiThemeProvider>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Page>\r\n  );\r\n};\r\n\r\nProfile.propTypes = {\r\n  className: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // user: state.managerReducer.user,\r\n  user: state.adminReducer.user,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateProfile: (params) => dispatch(Actions.updateProfile(params)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Fab, Box, LinearProgress, Typography } from \"@material-ui/core\";\r\n\r\nfunction CustomUploaderButton({\r\n  name,\r\n  inputValue,\r\n  id,\r\n  btnColor,\r\n  btnLabel,\r\n  btnSize,\r\n  setParentInput,\r\n  clickhandler,\r\n  handleProgress,\r\n  withProgress,\r\n  ...props\r\n}) {\r\n  const [input, setInput] = useState(null);\r\n\r\n  const handleUploadClick = (e) => {\r\n    const file = e.currentTarget.files[0];\r\n    console.log('Current value of file input : ',e.currentTarget.value);\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      const fileToAdd = {\r\n        file: file,\r\n        data: fileReader.result,\r\n        isUploading: false,\r\n        progress: 0,\r\n      };\r\n      console.log(\"File object assigned\");\r\n      //Add file to both inner and parent State\r\n      setParentInput(fileToAdd);\r\n    };\r\n    fileReader.onabort = () => {\r\n      alert(\"Reading Aborted\");\r\n    };\r\n    fileReader.onerror = () => {\r\n      console.log(\"Error occuren when Uploading file from disk\");\r\n    };\r\n\r\n    fileReader.readAsDataURL(file);\r\n  };\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\" width=\"100%\">\r\n      {withProgress && (\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n          <Box width=\"100%\" mr={1}>\r\n            <LinearProgress\r\n              variant=\"determinate\"\r\n              color={btnColor || \"primary\"}\r\n              {...props}\r\n            />\r\n          </Box>\r\n          <Box minWidth={35}>\r\n            <Typography variant=\"body2\" color=\"textSecondary\">\r\n              {`${Math.round(props.value)}%`}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n      )}\r\n      <Box\r\n        display=\"flex\"\r\n        alignSelf=\"center\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <label style={{ textAlign: \"center\", width: \"100%\" }}>\r\n          <input\r\n            {...props.inputProps}\r\n            style={{ display: \"none\" }}\r\n            id={id || name}\r\n            name={name}\r\n            type=\"file\"\r\n            ref={(input) => setInput(input)}\r\n            value={inputValue || \"\"}\r\n            onChange={(e) => handleUploadClick(e)}\r\n            onClick={(e) => console.log(e.target.value)}\r\n          />\r\n          <Fab\r\n            color={btnColor || \"primary\"}\r\n            size={btnSize || \"small\"}\r\n            // component=\"span\"\r\n            aria-label=\"add\"\r\n            variant=\"extended\"\r\n            onClick={(e) => input.click()}\r\n          >\r\n            {btnLabel}\r\n          </Fab>\r\n        </label>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nCustomUploaderButton.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  inputValue: PropTypes.string,\r\n  btnLabel: PropTypes.string.isRequired,\r\n  //   clickhandler: PropTypes.func.isRequired,\r\n  setParentInput: PropTypes.func.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default CustomUploaderButton;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  Box,\r\n  Container,\r\n  Card,\r\n  CardMedia,\r\n  CardHeader,\r\n  CardActions,\r\n  CardContent,\r\n  Divider,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport * as Yup from \"yup\";\r\n\r\n// components\r\nimport CustomForm from \"../../../../shared/CustomForm\";\r\nimport CustomUploadButton from \"../../../../shared/CustomUploaderButton\";\r\nimport tinyTheme from \"../../../../../themes/tinyTheme\";\r\nimport ToasterSnackBar from \"../../../../shared/notifiers/toaster/ToasterSnackBar\";\r\n\r\n\r\nimport managerService from \"../../../../../services/managerServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n  card: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    height: 200,\r\n    width: 200,\r\n  },\r\n  previewBox: {\r\n    minHeight: 200,\r\n    minWidth: 200,\r\n  },\r\n  thumbnail: {\r\n    maxHeight: 60,\r\n    maxWidth: 60,\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  titre: Yup.string()\r\n    .max(50, \"Le titre ne doit pas dépasser 20 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  sponsor: Yup.string()\r\n    .max(50, \"Le nom de la compagnie ne doit pas dépasser 50 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  type: Yup.string().required(\"Champs Obligatoire\"),\r\n});\r\n\r\nexport const UpdatePub = ({ className, cardProps,oldPubProps, ...props }) => {\r\n  const classes = useStyles();\r\n\r\n  \r\n  const [newPubState, setNewPubState] = useState({\r\n    titre: oldPubProps.titre,\r\n    sponsor: oldPubProps.sponsor,\r\n    type: oldPubProps.type,\r\n  });\r\n  const [progressValue, setProgressValue] = useState(0);\r\n  const [imageName, setImageName] = useState(\"\");\r\n  const [currentFile, setCurrentFile] = useState(null);\r\n\r\n  const inputChangeHandler = (file) => {\r\n    console.log(file.file.name);\r\n    setCurrentFile(file);\r\n    // setImageName();\r\n  };\r\n\r\n  // Define notification state\r\n  const [toasterOpen, setToasterOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({\r\n    severity: \"success\",\r\n    message: \"Annonce mise à jours avec succès\",\r\n  });\r\n\r\n  const closeToaster = () => setToasterOpen(false);\r\n\r\n  const titreField = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"titre\",\r\n      required: true,\r\n      type: \"text\",\r\n      label: \"Titre de l'annonce\",\r\n      value: newPubState.titre,\r\n    },\r\n  };\r\n  const sponsorField = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"sponsor\",\r\n      required: true,\r\n      type: \"text\",\r\n      label: \"Compagnie\",\r\n      value: newPubState.sponsor,\r\n    },\r\n  };\r\n  const typeAdField = {\r\n    type: \"select\",\r\n    props: {\r\n      name: \"type\",\r\n      required: true,\r\n      select: true,\r\n      label: \"Type de la banière publicitaire\",\r\n      value: newPubState.type,\r\n    },\r\n    children: [\r\n      {\r\n        key: 1,\r\n        value: 1,\r\n        label: \"Type 1 : Petite annonce latérale\",\r\n      },\r\n      { key: 2, value: 2, label: \"Type 2 : Large annonce en bas\" },\r\n      { key: 3, value: 3, label: \"Type 3 : Large annonce libre\" },\r\n    ],\r\n  };\r\n\r\n  // Define the shape of the form\r\n  const formStructure = [\r\n    [titreField, sponsorField], // This is a row in the form grid\r\n    [typeAdField],\r\n  ];\r\n\r\n  const resetStates = () => {\r\n    setProgressValue(0);\r\n    setNewPubState({\r\n      titre: \"\",\r\n      sponsor: \"\",\r\n      type: \"type1\",\r\n    });\r\n    setCurrentFile(null);\r\n    setImageName(\"\");\r\n  };\r\n\r\n  // Define handlers\r\n  const sendUpdate = () => {\r\n    const changes={}\r\n    Object.keys(newPubState).forEach(key=>{\r\n      if (newPubState[key]!== oldPubProps[key])\r\n      changes[key]=newPubState[key]\r\n    })\r\n    if(currentFile && currentFile!==null){\r\n      changes.image=currentFile.file\r\n\r\n      //Update file (Change its state to uploading)\r\n      setCurrentFile({\r\n        ...currentFile,\r\n        isUploading: true,\r\n        progress: 0,\r\n      });\r\n     \r\n    }\r\n    changes.id=oldPubProps._id\r\n\r\n    managerService\r\n      .updatePub(\r\n        { ...changes, adminType: \"manager\" },\r\n        {\r\n          onUploadProgress: (progressEvent) => {\r\n            setProgressValue(\r\n              (progressEvent.loaded / progressEvent.total) * 100\r\n            );\r\n          },\r\n        }\r\n      )\r\n      .then(\r\n        (res) => {\r\n          // then print response status\r\n          console.log(`Server result : ${res}`);\r\n\r\n          console.log(\"File successfullly uploaded.\");\r\n          // Display notification snackbar toaster\r\n          setTimeout(() => {\r\n            setProgressValue(0);\r\n          }, 3000);\r\n          setAlertProps({\r\n            severity: \"success\",\r\n            message: \"Annonce mise à jours avec succès\",\r\n          });\r\n          setToasterOpen(true);\r\n          resetStates();\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          setAlertProps({\r\n            severity: \"error\",\r\n            message: `Une erreur s'est produite ${\r\n              err.message ? err.message : err\r\n            }`,\r\n          });\r\n          setToasterOpen(true);\r\n        }\r\n      );\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setNewPubState({\r\n      ...newPubState,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  const handleSubmit = (data) => {\r\n    // Redux update action dispatch\r\n    sendUpdate();\r\n    console.log(data);\r\n  };\r\n  return (\r\n      <Container maxWidth=\"lg\">\r\n        <ToasterSnackBar\r\n          open={toasterOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={\r\n            <Alert variant=\"filled\" severity={alertProps.severity}>\r\n              {alertProps.message}\r\n            </Alert>\r\n          }\r\n        />\r\n\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item lg={4} md={6} xs={12}>\r\n            <Card\r\n              //   className={clsx(classes.root, className)}\r\n              {...cardProps}\r\n            >\r\n              <CardContent>\r\n                <Box justifyContent=\"center\" alignItems=\"center\" display=\"flex\">\r\n                  <CardMedia image={\"assets/Dummy/Avatars/avatar_4.png\"}>\r\n                    <Box\r\n                      justifyContent=\"center\"\r\n                      alignItems=\"center\"\r\n                      display=\"flex\"\r\n                      flexDirection=\"column\"\r\n                      bgcolor=\"lightgrey\"\r\n                      className={classes.previewBox}\r\n                    >\r\n                      <Typography\r\n                        align=\"center\"\r\n                        variant=\"h6\"\r\n                        color=\"textSecondary\"\r\n                      >\r\n                        {newPubState.type === 1 && \"Type 1\"}\r\n                        {newPubState.type === 2 && \"Type 2\"}\r\n                        {newPubState.type === 3 && \"Type 3\"}\r\n                      </Typography>\r\n                      <Typography\r\n                        align=\"center\"\r\n                        variant=\"h5\"\r\n                        color=\"textSecondary\"\r\n                      >\r\n                        {newPubState.type === 1 && \"365 X 720\"}\r\n                        {newPubState.type === 2 && \"480 X 844\"}\r\n                        {newPubState.type === 3 && \"560 X 1024\"}\r\n                      </Typography>\r\n                    </Box>\r\n                  </CardMedia>\r\n                </Box>\r\n              </CardContent>\r\n              <Divider />\r\n              <CardActions>\r\n                <CustomUploadButton\r\n                  name=\"upload-ad-image-input\"\r\n                  inputValue={imageName}\r\n                  btnLabel=\"Charger la photo de l'annonce\"\r\n                  setParentInput={inputChangeHandler}\r\n                  withProgress\r\n                  value={progressValue}\r\n                />\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item lg={8} md={6} xs={12}>\r\n            <Card>\r\n              <CardHeader\r\n                subheader=\"Modifiez les champs souhaités\"\r\n                title=\"Editer l'annonce\"\r\n              />\r\n              <Divider />\r\n              <MuiThemeProvider theme={tinyTheme}>\r\n                <CustomForm\r\n                  validationSchema={validationSchema}\r\n                  fieldsHiearchy={formStructure}\r\n                  initialState={newPubState}\r\n                  onChange={handleChange}\r\n                  onSubmit={handleSubmit}\r\n                  submitLabel={\"Mettre à jours\"}\r\n                />\r\n              </MuiThemeProvider>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n  );\r\n};\r\n\r\nexport default UpdatePub;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  Box,\r\n  Container,\r\n  IconButton,\r\n  Paper,\r\n  Card,\r\n  CardMedia,\r\n  CardHeader,\r\n  CardActions,\r\n  CardContent,\r\n  Divider,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Cancel as CancelIcon, Edit } from \"@material-ui/icons\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport * as Yup from \"yup\";\r\n\r\n// components\r\nimport Page from \"../../../../shared/Page\";\r\nimport CustomForm from \"../../../../shared/CustomForm\";\r\nimport CustomUploadButton from \"../../../../shared/CustomUploaderButton\";\r\nimport CustomTable from \"../../../../shared/tables/CustomTable\";\r\nimport tinyTheme from \"../../../../../themes/tinyTheme\";\r\nimport ToasterSnackBar from \"../../../../shared/notifiers/toaster/ToasterSnackBar\";\r\nimport Modal from \"../../../../shared/Modal\";\r\nimport UpdatePub from \"./Update\";\r\n// Data\r\nimport { pubsHeadCells } from \"../../../../data/tableHeads\";\r\nimport managerService from \"../../../../../services/managerServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n  card: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    height: 200,\r\n    width: 200,\r\n  },\r\n  previewBox: {\r\n    minHeight: 200,\r\n    minWidth: 200,\r\n  },\r\n  thumbnail: {\r\n    maxHeight: 60,\r\n    maxWidth: 60,\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  titre: Yup.string()\r\n    .max(50, \"Le titre ne doit pas dépasser 20 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  sponsor: Yup.string()\r\n    .max(50, \"Le nom de la compagnie ne doit pas dépasser 50 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  type: Yup.string().required(\"Champs Obligatoire\"),\r\n});\r\n\r\nexport const Pubs = ({ className, cardProps, ...props }) => {\r\n  const classes = useStyles();\r\n\r\n  const [pubsRows, setPubRows] = useState([]);\r\n  const [rows, setRows] = useState([]);\r\n\r\n  // Update pub modal states and handlers\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const modalActions = [\r\n    {\r\n      label: \"Annuler\",\r\n      clickHandler: (e) => {\r\n        setIsModalOpen(false);\r\n      },\r\n    },\r\n  ];\r\n\r\n  const openUpdatePub = (pubId) => {\r\n   \r\n    setPubToUpdate(rows.find(row=>row._id===pubId))\r\n    setIsModalOpen(true);\r\n  };\r\n  const deletePub = (pubId) => {\r\n    managerService.deletePub({ id: pubId, adminType: \"manager\" }).then(\r\n      (res) => {\r\n        setAlertProps({\r\n          severity: \"success\",\r\n          message: \"Annonce supprimée avec succès\",\r\n        });\r\n        setToasterOpen(true);\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        setAlertProps({\r\n          severity: \"error\",\r\n          message: `Une erreur s'est produite ${\r\n            err.message ? err.message : err\r\n          }`,\r\n        });\r\n        setToasterOpen(true);\r\n      }\r\n    );\r\n  };\r\n  // console.log(\"User from the Redux State : \", user);\r\n  const defaultState = {\r\n    titre: \"\",\r\n    sponsor: \"\",\r\n    type: 1,\r\n  };\r\n  const [newPubState, setNewPubState] = useState(defaultState);\r\n  const [pubToUpdate, setPubToUpdate] = useState(defaultState);\r\n  const [progressValue, setProgressValue] = useState(0);\r\n  const [imageName, setImageName] = useState(\"\");\r\n  const [currentFile, setCurrentFile] = useState(null);\r\n\r\n  const inputChangeHandler = (file) => {\r\n    console.log(file.file.name);\r\n    setCurrentFile(file);\r\n    // setImageName();\r\n  };\r\n\r\n  // Define notification state\r\n  const [toasterOpen, setToasterOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({\r\n    severity: \"success\",\r\n    message: \"Annonce ajoutée avec succès\",\r\n  });\r\n\r\n  const closeToaster = () => setToasterOpen(false);\r\n\r\n  const titreField = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"titre\",\r\n      required: true,\r\n      type: \"text\",\r\n      label: \"Titre de l'annonce\",\r\n      value: newPubState.titre,\r\n    },\r\n  };\r\n  const sponsorField = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"sponsor\",\r\n      required: true,\r\n      type: \"text\",\r\n      label: \"Compagnie\",\r\n      value: newPubState.sponsor,\r\n    },\r\n  };\r\n  const typeAdField = {\r\n    type: \"select\",\r\n    props: {\r\n      name: \"type\",\r\n      required: true,\r\n      select: true,\r\n      label: \"Type de la banière publicitaire\",\r\n      value: newPubState.type,\r\n    },\r\n    children: [\r\n      {\r\n        key: 1,\r\n        value: 1,\r\n        label: \"Type 1 : Petite annonce latérale\",\r\n      },\r\n      { key: 2, value: 2, label: \"Type 2 : Large annonce en bas\" },\r\n      { key: 3, value: 3, label: \"Type 3 : Large annonce libre\" },\r\n    ],\r\n  };\r\n  useEffect(() => {\r\n    managerService.getAllPubs({ adminType: \"manager\" }).then(\r\n      (res) => {\r\n        setRows(res.pubs);\r\n      },\r\n      (err) => {\r\n        console.log(\"Error when fetching all pubs : \", err);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(rows);\r\n    if (rows !== []) {\r\n      setPubRows(\r\n        rows.map((row) => ({\r\n          ...row,\r\n          thumbnail: (\r\n            <Paper variant=\"outlined\">\r\n              <img\r\n                src={row.image}\r\n                alt=\"Lien d'annonce brisé\"\r\n                className={classes.thumbnail}\r\n              />\r\n            </Paper>\r\n          ),\r\n          actions: (\r\n            <>\r\n              <IconButton\r\n                title=\"Modifier\"\r\n                color=\"primary\"\r\n                onClick={(e) => openUpdatePub(row._id)}\r\n              >\r\n                <Edit />\r\n              </IconButton>\r\n              <IconButton\r\n                title=\"Supprimer\"\r\n                color=\"secondary\"\r\n                onClick={(e) => deletePub(row._id)}\r\n              >\r\n                <CancelIcon />\r\n              </IconButton>\r\n            </>\r\n          ),\r\n        }))\r\n      );\r\n    }\r\n  }, [rows]);\r\n\r\n  // Define the shape of the form\r\n  const formStructure = [\r\n    [titreField, sponsorField], // This is a row in the form grid\r\n    [typeAdField],\r\n  ];\r\n\r\n  const resetStates = () => {\r\n    setProgressValue(0);\r\n    setNewPubState({\r\n      titre: \"\",\r\n      sponsor: \"\",\r\n      type: \"type1\",\r\n    });\r\n    setCurrentFile(null);\r\n    setImageName(\"\");\r\n  };\r\n\r\n  // Define handlers\r\n  const onUpload = () => {\r\n    console.log(\"Updating...\");\r\n\r\n    //Update file (Change its state to uploading)\r\n    setCurrentFile({\r\n      ...currentFile,\r\n      isUploading: true,\r\n      progress: 0,\r\n    });\r\n\r\n    managerService\r\n      .addPub(\r\n        { ...newPubState, image: currentFile.file, adminType: \"manager\" },\r\n        {\r\n          onUploadProgress: (progressEvent) => {\r\n            setProgressValue(\r\n              (progressEvent.loaded / progressEvent.total) * 100\r\n            );\r\n          },\r\n        }\r\n      )\r\n      .then(\r\n        (res) => {\r\n          // then print response status\r\n          console.log(`Server result : ${res}`);\r\n\r\n          console.log(\"File successfullly uploaded.\");\r\n          // Display notification snackbar toaster\r\n          setTimeout(() => {\r\n            setProgressValue(0);\r\n          }, 3000);\r\n          setAlertProps({\r\n            severity: \"success\",\r\n            message: \"Annonce ajoutée avec succès\",\r\n          });\r\n          setToasterOpen(true);\r\n          resetStates();\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          setAlertProps({\r\n            severity: \"error\",\r\n            message: `Une erreur s'est produite ${\r\n              err.message ? err.message : err\r\n            }`,\r\n          });\r\n          setToasterOpen(true);\r\n        }\r\n      );\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    console.log(pubsRows);\r\n    setNewPubState({\r\n      ...newPubState,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  const handleSubmit = (data) => {\r\n    // Redux update action dispatch\r\n    onUpload();\r\n    console.log(data);\r\n  };\r\n  return (\r\n    <Page className={classes.root} title=\"Espace Publicités\">\r\n      <Container maxWidth=\"lg\">\r\n        <ToasterSnackBar\r\n          open={toasterOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={\r\n            <Alert variant=\"filled\" severity={alertProps.severity}>\r\n              {alertProps.message}\r\n            </Alert>\r\n          }\r\n        />\r\n\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <CustomTable\r\n                tableTitle={\"Tables des annonces\"}\r\n                headCells={pubsHeadCells}\r\n                rows={pubsRows}\r\n                indexName={\"_id\"}\r\n                withStartCheckbox={true}\r\n                handleRowSelected={(e, n, defaultHandler) => {}}\r\n                withActions={false}\r\n              />\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={3}>\r\n          <Grid item lg={4} md={6} xs={12}>\r\n            <Card\r\n              //   className={clsx(classes.root, className)}\r\n              {...cardProps}\r\n            >\r\n              <CardContent>\r\n                <Box justifyContent=\"center\" alignItems=\"center\" display=\"flex\">\r\n                  <CardMedia image={\"assets/Dummy/Avatars/avatar_4.png\"}>\r\n                    <Box\r\n                      justifyContent=\"center\"\r\n                      alignItems=\"center\"\r\n                      display=\"flex\"\r\n                      flexDirection=\"column\"\r\n                      bgcolor=\"lightgrey\"\r\n                      className={classes.previewBox}\r\n                    >\r\n                      <Typography\r\n                        align=\"center\"\r\n                        variant=\"h6\"\r\n                        color=\"textSecondary\"\r\n                      >\r\n                        {newPubState.type === 1 && \"Type 1\"}\r\n                        {newPubState.type === 2 && \"Type 2\"}\r\n                        {newPubState.type === 3 && \"Type 3\"}\r\n                      </Typography>\r\n                      <Typography\r\n                        align=\"center\"\r\n                        variant=\"h5\"\r\n                        color=\"textSecondary\"\r\n                      >\r\n                        {newPubState.type === 1 && \"365 X 720\"}\r\n                        {newPubState.type === 2 && \"480 X 844\"}\r\n                        {newPubState.type === 3 && \"560 X 1024\"}\r\n                      </Typography>\r\n                    </Box>\r\n                  </CardMedia>\r\n                </Box>\r\n              </CardContent>\r\n              <Divider />\r\n              <CardActions>\r\n                <CustomUploadButton\r\n                  name=\"upload-ad-image-input\"\r\n                  inputValue={imageName}\r\n                  btnLabel=\"Charger la photo de l'annonce\"\r\n                  setParentInput={inputChangeHandler}\r\n                  withProgress\r\n                  // handleProgress={true}\r\n                  // progressChangeHandler={(value)=>handleProgressChange(value)}\r\n                  // clickhandler={(e)=> console.log(e.target)}\r\n                  value={progressValue}\r\n                />\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item lg={8} md={6} xs={12}>\r\n            <Card>\r\n              <CardHeader\r\n                subheader=\"Veuillez remplir les champs indiqués\"\r\n                title=\"Ajouter une nouvelle annonce\"\r\n              />\r\n              <Divider />\r\n              <MuiThemeProvider theme={tinyTheme}>\r\n                <CustomForm\r\n                  validationSchema={validationSchema}\r\n                  fieldsHiearchy={formStructure}\r\n                  initialState={newPubState}\r\n                  onChange={handleChange}\r\n                  onSubmit={handleSubmit}\r\n                  submitLabel={\"Ajouter\"}\r\n                />\r\n              </MuiThemeProvider>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container>\r\n          <Modal\r\n            open={isModalOpen}\r\n            title={\"Edition de publicité\"}\r\n            body={\r\n              <UpdatePub\r\n                className={className}\r\n                cardProps={cardProps}\r\n                oldPubProps={pubToUpdate}\r\n                {...props}\r\n              />\r\n            }\r\n            actions={modalActions}\r\n            handleClose={(e) => setIsModalOpen(false)}\r\n          />\r\n        </Grid>\r\n      </Container>\r\n    </Page>\r\n  );\r\n};\r\nexport default Pubs;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Paper,Box, Typography} from '@material-ui/core';\r\nimport {\r\n  Chart,\r\n  BarSeries,\r\n  Title,\r\n  ArgumentAxis,\r\n  ValueAxis,\r\n} from '@devexpress/dx-react-chart-material-ui';\r\nimport { Animation } from '@devexpress/dx-react-chart';\r\n\r\nconst COLORS=[\"#00429d\",\r\n\"#325ba8\",\r\n\"#4f75af\",\r\n\"#6990b3\",\r\n\"#83acb2\",\r\n\"#9dc9a9\",\r\n\"#90ee90\",\r\n\"#ffe3ca\",\r\n\"#ffc6b4\",\r\n\"#ffa89c\",\r\n\"#ff8781\",\r\n\"#ff6162\",\r\n\"#ff2812\",]\r\nfunction BarChart(props) {\r\n    const {chartData}= props\r\n    return (\r\n\r\n      \r\n          <Paper>\r\n            <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\">\r\n        <Typography variant=\"caption\" color=\"textSecondary\" align=\"center\">\r\n          {props.title}\r\n        </Typography>\r\n      </Box>\r\n            <Chart\r\n              data={chartData}\r\n            >\r\n              <ArgumentAxis />\r\n              <ValueAxis />\r\n    \r\n              <BarSeries\r\n                valueField={props.yName}\r\n                argumentField={props.xName}\r\n              />\r\n              {/* <Title text={props.title} /> */}\r\n              <Animation />\r\n            </Chart>\r\n          </Paper>\r\n      \r\n    )\r\n}\r\n\r\nBarChart.propTypes = {\r\n    chartData: PropTypes.array.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    xTitle: PropTypes.string.isRequired,\r\n    yTitle: PropTypes.string.isRequired,\r\n    xName: PropTypes.string.isRequired,\r\n    yName: PropTypes.string.isRequired,\r\n\r\n}\r\n\r\nexport default BarChart\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { PieChart, Pie, Cell, Tooltip } from \"recharts\";\r\nimport { Box, Typography } from \"@material-ui/core\";\r\n\r\nconst COLORS = [\r\n  \"#003f5c\",\r\n  \"#2f4b7c\",\r\n  \"#665191\",\r\n  \"#a05195\",\r\n  \"#d45087\",\r\n  \"#f95d6a\",\r\n  \"#ff7c43\",\r\n  \"#ffa600\",\r\n];\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent,\r\n  index,\r\n}) => { console.log('kjghdsfgkjshdfkgjsfdhj')\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"white\"\r\n      textAnchor={x > cx ? \"start\" : \"end\"}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {`${(percent * 100).toFixed(0)}%`}\r\n    </text>\r\n  );\r\n};\r\nconst CustomTooltip = ({ active, payload, label }) => {\r\n  if (active) {\r\n    return (\r\n      <Box\r\n        bgcolor=\"black\"\r\n        borderRadius=\"10px\"\r\n        px={2}\r\n        display=\"flex\"\r\n        flexDirection=\"row\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <p\r\n          style={{ color: \"white\" }}\r\n        >{`${payload[0].name} : ${payload[0].value}`}</p>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\nfunction PieChartComponent(props) {\r\n  // const {chartData}= props\r\n  const chartData =props.chartData.map((el) => ({\r\n    name: el._id,\r\n    value: el.count,\r\n  }));\r\n  return (\r\n    <Paper>\r\n      <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\">\r\n        <Typography variant=\"caption\" color=\"textSecondary\" align=\"center\">\r\n          {props.title}\r\n        </Typography>\r\n      </Box>\r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"row\"\r\n        justifyContent=\"center\"\r\n        justifyItems=\"center\"\r\n      >\r\n        <PieChart width={520} height={320}>\r\n          <Pie\r\n          isAnimationActive={false}\r\n            data={chartData}\r\n            cx={250}\r\n            cy={160}\r\n            labelLine={false}\r\n            label={renderCustomizedLabel}\r\n            outerRadius={120}\r\n            fill=\"#8884d8\"\r\n            dataKey=\"value\"\r\n          >\r\n            {chartData.map((entry, index) => (\r\n              <Cell\r\n                key={`cell-${index}`}\r\n                fill={COLORS[index % COLORS.length]}\r\n              />\r\n            ))}\r\n          </Pie>\r\n          <Tooltip content={<CustomTooltip />} />\r\n        </PieChart>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nPieChartComponent.propTypes = {\r\n  chartData: PropTypes.array.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  labelsTitle: PropTypes.string.isRequired,\r\n  valuesTitles: PropTypes.string.isRequired,\r\n  labelsName: PropTypes.string.isRequired,\r\n  valuesName: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default PieChartComponent;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, Box} from \"@material-ui/core\"\r\n    // Components\r\nimport BarChart from '../../../../shared/charts/BarChart'\r\nimport PieChart from '../../../../shared/charts/PieChart'\r\nimport LoadingComponent from '../../../../shared/LoadingComponent'\r\n\r\nfunction ElevesStatCharts(props) {\r\n    const {data}=props\r\n\r\n    return (\r\n        <Grid container spacing={3} >\r\n        <Grid item xs={12} sm={6}>\r\n\r\n        <Box display=\"flex\" justifyContent=\"center\" width=\"100%\">\r\n            <LoadingComponent\r\n            controller={props.isLoading}\r\n            component={\r\n                <PieChart \r\n                chartData={data.elevesBySexe}\r\n                labelsTitle={\"Sexe\"}\r\n                valuesTitles={\"Nombre\"}\r\n                valuesName={\"count\"}\r\n                labelsName={\"_id\"}\r\n                title={\"Distribution du genre des élèves\"}\r\n                />\r\n            }\r\n            />\r\n            \r\n        </Box>\r\n        </Grid>\r\n\r\n\r\n        <Grid item xs={12} sm={6}>\r\n\r\n        <Box display=\"flex\" justifyContent=\"center\" width=\"100%\">\r\n            <LoadingComponent\r\n            controller={props.isLoading}\r\n            component={\r\n                <BarChart \r\n                chartData={data.elevesByAge}\r\n                xName={\"_id\"}\r\n                yName={\"count\"}\r\n                xTitle={\"Age\"}\r\n                yTitle={\"Nombre\"}\r\n               \r\n               \r\n                title={\"Répartition d'âge des élèves\"}\r\n                />\r\n            }\r\n            />\r\n            \r\n        </Box>\r\n        </Grid>\r\n        </Grid>\r\n          \r\n    )\r\n}\r\n\r\nElevesStatCharts.propTypes = {\r\n    data: PropTypes.object.isRequired,\r\n    isLoading: PropTypes.bool.isRequired\r\n\r\n}\r\n\r\nexport default ElevesStatCharts\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n    // Components\r\nimport PieChart from '../../../../shared/charts/PieChart'\r\nimport LoadingComponent from '../../../../shared/LoadingComponent'\r\nimport { Box } from '@material-ui/core'\r\n\r\nfunction ProfsGeoPartition(props) {\r\n    const {data}=props\r\n\r\n    return (\r\n        <Box display=\"flex\" justifyContent=\"center\" width=\"100%\">\r\n            <LoadingComponent\r\n            controller={props.isLoading}\r\n            component={\r\n                <PieChart \r\n                chartData={data}\r\n                labelsTitle={\"Wilaya\"}\r\n                valuesTitles={\"Nombre\"}\r\n                valuesName={\"count\"}\r\n                labelsName={\"_id\"}\r\n                title={\"Répartition géographique des enseignants\"}\r\n                />\r\n            }\r\n            />\r\n            \r\n        </Box>\r\n    )\r\n}\r\n\r\nProfsGeoPartition.propTypes = {\r\n    data: PropTypes.array.isRequired,\r\n    isLoading: PropTypes.bool.isRequired\r\n\r\n}\r\n\r\nexport default ProfsGeoPartition\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { FunnelChart, Funnel, Tooltip } from \"recharts\";\r\nimport { Box, Typography } from \"@material-ui/core\";\r\n\r\nconst COLORS = [\r\n    \"#941191\",\"#a34e8b\",\"#c69464\",\"#e9da3c\",\"#d2dc6c\",\"#bade9c\",\"#8ae1fc\",\"#48b8d0\"\r\n];\r\n\r\nconst CustomTooltip = ({ active, payload, label }) => {\r\n  if (active) {\r\n    return (\r\n      <Box\r\n        bgcolor=\"black\"\r\n        borderRadius=\"10px\"\r\n        px={2}\r\n        display=\"flex\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <p\r\n          style={{ color: \"white\" }}\r\n        >{`${payload[0].name} : ${payload[0].value}`}</p>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\nfunction FunnelChartComponent(props) {\r\n  // const {chartData}= props\r\n  const chartData = props.chartData.map((el, index) => ({\r\n    name: el._id,\r\n    value: el.count,\r\n    fill: COLORS[index % COLORS.length],\r\n  }));\r\n  return (\r\n    <Paper>\r\n      <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\">\r\n        <Typography variant=\"caption\" color=\"textSecondary\" align=\"center\">\r\n          {props.title}\r\n        </Typography>\r\n      </Box>\r\n      <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\">\r\n        {/* <ResponsiveContainer > */}\r\n        <FunnelChart height={280} width={320}>\r\n          <Tooltip content={<CustomTooltip />} />\r\n          <Funnel dataKey=\"value\" data={chartData} isAnimationActive>\r\n            {/* <LabelList position=\"right\" fill=\"#000\" stroke=\"none\" dataKey=\"name\" /> */}\r\n          </Funnel>\r\n        </FunnelChart>\r\n        {/* </ResponsiveContainer> */}\r\n      </Box>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nFunnelChartComponent.propTypes = {\r\n  chartData: PropTypes.array.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  // labelsTitle: PropTypes.string.isRequired,\r\n  // valuesTitles: PropTypes.string.isRequired,\r\n  // labelsName: PropTypes.string.isRequired,\r\n  // valuesName: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default FunnelChartComponent;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n    // Components\r\nimport PieChart from '../../../../shared/charts/PieChart'\r\nimport FunnelChart from '../../../../shared/charts/FunnelChart'\r\nimport LoadingComponent from '../../../../shared/LoadingComponent'\r\n\r\nfunction ClassesByProfDist(props) {\r\n    // const {data}=props\r\n    const data=props.data && props.data.map(el=>({_id: `${el.nom} ${el.prenom}`,count: el.count })).sort((a,b)=>b.count-a.count)\r\n\r\n\r\n    return (\r\n        <div>\r\n            <LoadingComponent\r\n            controller={props.isLoading}\r\n            component={\r\n                <FunnelChart\r\n                title=\"Classes enseignées par les enseignants\"\r\n                chartData={data}\r\n                />\r\n                \r\n            }\r\n            />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nClassesByProfDist.propTypes = {\r\n    data: PropTypes.array.isRequired,\r\n    isLoading: PropTypes.bool.isRequired\r\n\r\n}\r\n\r\nexport default ClassesByProfDist\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { Grid, Typography, Paper, Box } from \"@material-ui/core\";\r\nimport { People as PeopleIcon, LocalLibrary,AttachMoney } from \"@material-ui/icons\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    redBg: {\r\n      backgroundColor: theme.palette.secondary.main,\r\n      color: \"white\",\r\n      borderRadius: \"50%\",\r\n      padding: theme.spacing(2),\r\n      fontSize: 60,\r\n    },\r\n    blueBg: {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: \"white\",\r\n      borderRadius: \"50%\",\r\n      padding: theme.spacing(2),\r\n      fontSize: 60,\r\n    },\r\n    greenBg: {\r\n      backgroundColor: theme.palette.success.main,\r\n      color: \"white\",\r\n      borderRadius: \"50%\",\r\n      padding: theme.spacing(2),\r\n      fontSize: 60,\r\n    },\r\n  }));\r\n  \r\n\r\nfunction Summary(props) {\r\n    const classes = useStyles();\r\n    return (\r\n        <Grid container spacing={3} >\r\n        <Grid item xs={12}>\r\n          <Typography variant=\"h5\" color=\"textSecondary\">\r\n            Quelques chiffres\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}>\r\n          <Paper height=\"100%\" width=\"100%\">\r\n            <Grid container>\r\n              <Grid item xs={12} sm={9}>\r\n                <Box\r\n                  display=\"flex\"\r\n                  flexDirection=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                  height=\"100%\"\r\n                  width=\"100%\"\r\n                  p={5}\r\n                >\r\n                  <Box display=\"flex\" justifyContent=\"center\">\r\n                    <Typography variant=\"h6\" color=\"textSecondary\" align=\"center\">\r\n                      Total enseignants\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    flexDirection=\"column\"\r\n                    alignItems=\"center\"\r\n                  >\r\n                    <Typography variant=\"h4\" color=\"primary\">\r\n                      4454\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={3}>\r\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" height=\"100%\">\r\n                  {\" \"}\r\n                  <PeopleIcon\r\n                    className={classes.redBg}\r\n                    color=\"secondary\"\r\n                    fontSize=\"large\"\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}>\r\n          <Paper height=\"100%\" width=\"100%\">\r\n            <Grid container>\r\n              <Grid item xs={12} sm={9}>\r\n                <Box\r\n                  display=\"flex\"\r\n                  flexDirection=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                  height=\"100%\"\r\n                  width=\"100%\"\r\n                  p={5}\r\n                >\r\n                  <Box display=\"flex\" justifyContent=\"center\">\r\n                    <Typography variant=\"h6\" color=\"textSecondary\" align=\"center\">\r\n                      Nombre d'élèves\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    flexDirection=\"column\"\r\n                    alignItems=\"center\"\r\n                  >\r\n                    <Typography variant=\"h4\" color=\"primary\">\r\n                      4454\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={3}>\r\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" height=\"100%\">\r\n                  {\" \"}\r\n                  <LocalLibrary\r\n                    className={classes.blueBg}\r\n                    fontSize=\"large\"\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}>\r\n          <Paper height=\"100%\" width=\"100%\">\r\n            <Grid container>\r\n              <Grid item xs={12} sm={9}>\r\n                <Box\r\n                  display=\"flex\"\r\n                  flexDirection=\"column\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                  height=\"100%\"\r\n                  width=\"100%\"\r\n                  p={5}\r\n                >\r\n                  <Box display=\"flex\" justifyContent=\"center\">\r\n                    <Typography variant=\"h6\" color=\"textSecondary\" align=\"center\">\r\n                      Total des abonnements\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    flexDirection=\"column\"\r\n                    alignItems=\"center\"\r\n                  >\r\n                    <Typography variant=\"h4\" color=\"primary\">\r\n                      4454\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} sm={3}>\r\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" height=\"100%\">\r\n                  {\" \"}\r\n                  <AttachMoney\r\n                    className={classes.greenBg}\r\n                    fontSize=\"large\"\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    )\r\n}\r\n\r\nSummary.propTypes = {\r\n    summary: PropTypes.object.isRequired\r\n\r\n}\r\n\r\nexport default Summary\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Grid, Container, Typography, Paper, Box } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n\r\n// Components\r\nimport Page from \"../../../shared/Page\";\r\nimport ElevesStatCharts from \"../components/charts/ElevesStatCharts\";\r\nimport ProfsGeoPartitionPie from \"../components/charts/ProfsGeoPartition\";\r\nimport ClassesByProfDist from \"../components/charts/ClassesByProfDist\";\r\nimport Summary from \"../components/charts/Summary\";\r\n\r\n// Services\r\nimport ManagerService from \"../../../../services/managerServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n  \r\n}));\r\n\r\nfunction Statistiques(props) {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n      // Fetch profs related statistics\r\n    ManagerService.getProfsStatistics({ adminType: \"manager\" }).then(\r\n      (res) => {\r\n        console.log(res);\r\n        setProfsSummary(res);\r\n        setProfsSummaryisLoading(false);\r\n      },\r\n      (err) => {}\r\n    );\r\n      // Fetch eleves related statistics\r\n    ManagerService.getElevesStatistics({ adminType: \"manager\" }).then(\r\n      (res) => {\r\n        console.log(res);\r\n        setElevesSummary(res);\r\n        setElevesSummaryisLoading(false);\r\n      },\r\n      (err) => {}\r\n    );\r\n  }, []);\r\n\r\n  // Loading flags states\r\n  const [profsSummaryisLoading, setProfsSummaryisLoading] = useState(true);\r\n  const [elevesSummaryisLoading, setElevesSummaryisLoading] = useState(true);\r\n  // Data states\r\n  const [profsSummary, setProfsSummary] = useState({ profsByWilaya: [],\r\n    classesByprof: [] });\r\n  const [elevesSummary, setElevesSummary] = useState({ \r\n    elevesByAge: [] ,\r\n    elevesBySexe: [] ,\r\n  });\r\n  return (\r\n    <Page className={classes.root} title=\"Statistiques\">\r\n    <Container>\r\n      {/* Quelques chifres */}\r\n      <Summary summary={{}}/>\r\n\r\n      \r\n      {/* Statistiques reliées aux enseignants */}\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Typography variant=\"h5\" color=\"textSecondary\">\r\n            Enseignants\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <ProfsGeoPartitionPie\r\n            isLoading={profsSummaryisLoading}\r\n            data={profsSummary.profsByWilaya}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <ClassesByProfDist\r\n            isLoading={profsSummaryisLoading}\r\n            data={profsSummary.classesByprof}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      {/* Statistiques reliées aux élèves */}\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Typography variant=\"h6\" color=\"textPrimary\">Elèves</Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12}>\r\n            <ElevesStatCharts \r\n            isLoading={elevesSummaryisLoading}\r\n            data={elevesSummary}\r\n\r\n\r\n            />\r\n\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Statistiques;\r\n","import { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport StepConnector from \"@material-ui/core/StepConnector\";\r\n\r\nconst useColorlibStepIconStyles = makeStyles((theme)=>({\r\n  root: {\r\n    backgroundColor: \"#ccc\",\r\n    zIndex: 1,\r\n    color: \"#fff\",\r\n    width: 50,\r\n    height: 50,\r\n    display: \"flex\",\r\n    borderRadius: \"50%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  active: {\r\n    background: theme.palette.secondary.light,\r\n      \r\n    boxShadow: \"0 4px 10px 0 rgba(0,0,0,.25)\",\r\n  },\r\n  completed: {\r\n    background: theme.palette.primary.main,\r\n      \r\n  },\r\n  form: {\r\n    // width: \"100%\", // Fix IE 11 issue.\r\n    margin: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  sucess: {\r\n    color: theme.palette.success.light\r\n  },\r\n  error: {\r\n    color: theme.palette.error.light\r\n\r\n  }\r\n//   active: {\r\n//     backgroundImage:\r\n//       \"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)\",\r\n//     boxShadow: \"0 4px 10px 0 rgba(0,0,0,.25)\",\r\n//   },\r\n//   completed: {\r\n//     backgroundImage:\r\n//       \"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)\",\r\n//   },\r\n}));\r\n\r\nconst ColorlibConnector = withStyles((theme)=>({\r\n  alternativeLabel: {\r\n    top: 22,\r\n  },\r\n  active: {\r\n    \"& $line\": {\r\n        background: theme.palette.primary.main,\r\n    },\r\n  },\r\n  completed: {\r\n    \"& $line\": {\r\n        background: theme.palette.primary.main,\r\n    },\r\n  },\r\n  line: {\r\n    height: 3,\r\n    border: 0,\r\n    backgroundColor: \"#eaeaf0\",\r\n    borderRadius: 1,\r\n  },\r\n}))(StepConnector);\r\n\r\nexport { useColorlibStepIconStyles, ColorlibConnector };\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport { StepContent } from \"@material-ui/core\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nfunction ColorlibStepIcon({ icons, classes, ...props }) {\r\n  //   const classes = useColorlibStepIconStyles();\r\n  const { active, completed } = props;\r\n\r\n  return (\r\n    <div\r\n      className={clsx(classes.root, {\r\n        [classes.active]: active,\r\n        [classes.completed]: completed,\r\n      })}\r\n    >\r\n      {icons[String(props.icon)]}\r\n    </div>\r\n  );\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n  active: PropTypes.bool,\r\n\r\n  completed: PropTypes.bool,\r\n\r\n  icon: PropTypes.node,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  button: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  instructions: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n    color: theme.palette.success.contrastText\r\n  },\r\n}));\r\n\r\nfunction CustomStepper({\r\n  StepConnector,\r\n  labelStepsIconsClasses,\r\n  icons,\r\n  steps,\r\n  ...props\r\n}) {\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = useState(2);\r\n\r\n  const handleNext = () => {\r\n    const feedBack=(props.nexHandler ? props.nexHandler(activeStep): true);\r\n    if(feedBack) setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setActiveStep(0);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Stepper\r\n        alternativeLabel\r\n        activeStep={activeStep}\r\n        connector={<StepConnector />}\r\n      >\r\n        {steps.map((step) => (\r\n          <Step key={step.title}>\r\n            <StepLabel\r\n              StepIconComponent={(props) => (\r\n                <ColorlibStepIcon classes={labelStepsIconsClasses} icons={icons} {...props}/>\r\n              )}\r\n              \r\n            >\r\n              {step.title}\r\n            </StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <div>\r\n          {activeStep !== steps.length && steps[activeStep].children}\r\n\r\n      </div>\r\n      <div>\r\n        {activeStep === steps.length ? (\r\n          <div>\r\n            {!props.finalStep && (<Typography className={classes.instructions}  align=\"center\">\r\n              C'est fini ! Toutes les étapes sont accomplies\r\n            </Typography>)}\r\n            {props.finalStep && props.finalStep}\r\n            <Button onClick={handleReset} className={classes.button}>\r\n              Réinitialiser\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <div>\r\n              <Button\r\n                disabled={activeStep === 0}\r\n                onClick={handleBack}\r\n                className={classes.button}\r\n                {...props.backBtnIcon}\r\n              >\r\n                Précédent\r\n              </Button>\r\n              {activeStep !== steps.length - 1 && (<Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleNext}\r\n                className={classes.button}\r\n                {...props.nextBtnIcon}\r\n                \r\n              >\r\n                Suivant\r\n              \r\n              </Button>)}\r\n              {activeStep === steps.length - 1 && (<Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleNext}\r\n                className={classes.button}\r\n                \r\n              >\r\n                Terminer\r\n              \r\n              </Button>)}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nCustomStepper.prototype = {\r\n  steps: PropTypes.array.isRequired,\r\n  labelStepsIconsClasses: PropTypes.object.isRequired,\r\n  icons: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default CustomStepper;\r\n","\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  CssBaseline,\r\n  Button,\r\n  Typography,\r\n  Paper,\r\n  TextField,\r\n  MenuItem\r\n} from \"@material-ui/core\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport teacherService from \"../../../../../../services/teacherServices\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n\r\nconst validationSchema = Yup.object({\r\n  titre: Yup.string()\r\n    .min(5, \"Le titre du cours doit contenir au minimum 5 caractères\")\r\n    .max(70, \"Le titre du cours ne doit pas dépasser 70 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  trimestre: Yup.number()\r\n    .integer()\r\n    .oneOf([1,2,3])\r\n    .required(\"Champs Obligatoire\"),\r\n  ordre: Yup.number()\r\n    .integer()\r\n    .positive()\r\n    .required(\"Champs Obligatoire\"),\r\n  lien: Yup.string()\r\n    .url(\"Le lien de la vidéo est invalide\")\r\n    .matches(/https:\\/\\/vimeo.com\\/\\d{8,}(?=\\b|\\/)/, \"L'URL de la vidéo semble invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  thumbnail: Yup.string()\r\n    .url(\"Le lien de l'aperçu la vidéo est invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n});\r\n\r\nconst titreField = {\r\n  type: \"input\",\r\n  props: {\r\n    name: \"titre\",\r\n    required: true,\r\n    type: \"text\",\r\n    label: \"Titre du cours\",\r\n  },\r\n};\r\nconst trimestreField= {\r\n  type: \"select\",\r\n  props: {\r\n    name: \"trimestre\",\r\n    required: true,\r\n    select: true,\r\n    label: \"Trimestre\",\r\n  },\r\n  children: [1,2,3].map((item) => ({\r\n    key: item,\r\n    value: item,\r\n    label: item,\r\n  })),\r\n}\r\nconst lienField = {\r\n  type: \"input\",\r\n  props: {\r\n    name: \"lien\",\r\n    required: true,\r\n    type: \"text\",\r\n    label: \"URL de la vidéo\",\r\n  },\r\n};\r\nconst thumbnailField = {\r\n  type: \"input\",\r\n  props: {\r\n    name: \"thumbnail\",\r\n    required: true,\r\n    type: \"text\",\r\n    label: \"URL de l'aperçu de la vidéo\",\r\n  },\r\n};\r\n\r\nfunction AjouterVideo(props) {\r\n  const { classes } = props;\r\n  // const { titre, lien, thumbnail } = props.state;\r\n  const formRef = useRef();\r\n  useEffect(() => {\r\n    if (props.linkRefHandle) props.linkRefHandle(formRef,0);\r\n  }, [formRef]);\r\n\r\n  const initialState = {\r\n    titre: props.state.titre,\r\n    trimestre: props.state.trimestre,\r\n    ordre: props.state.ordre,\r\n    lien: props.state.lien,\r\n    thumbnail: props.state.thumbnail,\r\n  };\r\n\r\n  const [state, setState] = useState({\r\n    ...initialState,\r\n    // thumbnail: props.state.thumbnail,\r\n  });\r\n  const [preview, setpreview] = useState(false);\r\n    // Update fields initial values if they already filled before\r\n  if (props.withTitle) titreField.props.value = state.titre;\r\n  lienField.props.value = state.lien;\r\n  trimestreField.props.value = state.trimestre;\r\n  thumbnailField.props.value = state.thumbnail;\r\n  // Define form hiearchy\r\n  const [formStructure,setFormStructure]=useState([]);\r\n  \r\n  useEffect(()=>{\r\n    teacherService.getProfCourses({adminType: \"enseignant\", id:props.user._id}).then(\r\n      res=>{\r\n        console.log(res);\r\n        const actualClassCourses=res.courses.filter(cours=>cours.classe===props.currentClasse)\r\n        const index=props.withTitle ? 1:0\r\n        const dup=formStructure;\r\n        setFormStructure((props.withTitle ? [[titreField]] : []).concat([\r\n          [trimestreField,{\r\n            type: \"select\",\r\n            props: {\r\n              name: \"ordre\",\r\n              required: true,\r\n              select: true,\r\n              label: \"Ce cours est placé après\",\r\n              value: actualClassCourses.length?actualClassCourses[0].ordre:0\r\n            },\r\n            children: actualClassCourses.map((item) => ({\r\n              key: item._id,\r\n              value: item.ordre,\r\n              label: item.titre,\r\n            })),\r\n          }],\r\n          [lienField],\r\n          [thumbnailField],\r\n        ]))\r\n       \r\n\r\n      },\r\n      err=>{\r\n        console.log('an error occured when fetching courses of the professor: ',err)\r\n\r\n      }\r\n    )\r\n\r\n  },[])  \r\n\r\n  const onChangeHandler = (event) => {\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n    if(props.updateStepsStatus) props.updateStepsStatus(0);\r\n  };\r\n\r\n  const onSubmitHandler = (data) => {\r\n    setState({ ...state, ...data });\r\n    props.submitHandler(data, 0);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Ajouter la vidéo du cours\r\n        </Typography>\r\n        <Paper>\r\n          <Formik\r\n            initialValues={state}\r\n            validationSchema={validationSchema}\r\n            onSubmit={onSubmitHandler}\r\n          >\r\n            {({\r\n              errors,\r\n              handleBlur,\r\n              handleChange,\r\n              handleSubmit,\r\n              isSubmitting,\r\n              touched,\r\n              values,\r\n            }) => (\r\n              <form className={classes.form} onSubmit={handleSubmit}>\r\n                <Grid container spacing={2}>\r\n                  {formStructure.map((gridRow, rowidx) => {\r\n                    return gridRow.map((field, columnidx) => (\r\n                      <Grid\r\n                        item\r\n                        xs={12}\r\n                        sm={Math.floor(12 / gridRow.length)}\r\n                        key={`${rowidx}-${columnidx}`}\r\n                      >\r\n                        {field.type === \"input\" && (\r\n                          <TextField\r\n                            key={field.props.name}\r\n                            error={Boolean(\r\n                              touched[field.props.name] &&\r\n                                errors[field.props.name]\r\n                            )}\r\n                            helperText={\r\n                              touched[field.props.name] &&\r\n                              errors[field.props.name]\r\n                            }\r\n                            onBlur={handleBlur}\r\n                            onChange={(e)=> {handleChange(e); onChangeHandler(e)}}\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            id={`${field.props.name}-input`}\r\n                            {...field.props}\r\n                          />\r\n                        )}\r\n                        {field.type === \"select\" && (\r\n                    <TextField \r\n                      error={Boolean(touched[field.props.name] && errors[field.props.name])}\r\n                      helperText={touched[field.props.name] && errors[field.props.name]}\r\n                      onBlur={handleBlur}\r\n                      onChange={(e)=> {handleChange(e); if(props.onChange) props.onChange(e)} }\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      id={`${field.props.name}-input`}\r\n                      {...field.props}\r\n                    >\r\n                      {field.children &&\r\n                        field.children.map((option, idx) => (\r\n                          <MenuItem key={option.key} value={option.value} >\r\n                            {option.label}\r\n                          </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                  )}\r\n                      </Grid>\r\n                    ));\r\n                  })}\r\n                  <Grid item xs={12} sm={4}>\r\n                    <Button \r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    onClick={()=> setpreview(true)}\r\n                    > Aperçu\r\n\r\n                    </Button>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={8}>\r\n\r\n{preview && (<div> \r\n  <div><iframe title=\"aperç\"src={state.lien.replace('vimeo.com','player.vimeo.com/video')} width=\"240\" height=\"160\" frameborder=\"0\" allow=\"autoplay; fullscreen\" allowfullscreen></iframe> </div>\r\n  {/* <div><img src={videoLink.thumbnail} alt=\"display it\" />  </div> */}\r\n  </div>)}\r\n\r\n                  </Grid>\r\n\r\n  \r\n                </Grid>\r\n                <Grid container justify=\"flex-end\">\r\n                  <Grid item xs={12} sm={4}>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      style={{visibility: \"hidden\"}}\r\n                      ref={formRef}\r\n\r\n                    ></Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            )}\r\n          </Formik>\r\n        </Paper>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nAjouterVideo.propTypes = {\r\n  state: PropTypes.object.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  submitHandler: PropTypes.func.isRequired,\r\n  withTitle: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.adminReducer.user,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AjouterVideo);\r\n\r\n","import React, { useState, useEffect, useRef,createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  CssBaseline,\r\n  Button,\r\n  Typography,\r\n  Paper,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\n// Components\r\nimport CustomUploadButton from \"../../../../../shared/CustomUploaderButton\";\r\n\r\nconst validationSchema = Yup.object({\r\n  titrePdf: Yup.string()\r\n    .min(5, \"Le titre du document doit contenir au minimum 5 caractères\")\r\n    .max(40, \"Le titre du document ne doit pas dépasser 40 caractères\")\r\n    .required('Champs Obligatoire'),\r\n});\r\n\r\nconst titre = {\r\n  type: \"input\",\r\n  props: {\r\n    name: \"titrePdf\",\r\n    required: false,\r\n    type: \"text\",\r\n    label: \"Titre de document\",\r\n  },\r\n};\r\nconst document = {\r\n  type: \"file\",\r\n  props: {\r\n    name: \"document\",\r\n    type: \"file\",\r\n    accept: \"application/pdf\"\r\n    // required: true\r\n  },\r\n};\r\n\r\nfunction AjouterDocument(props) {\r\n  const { classes } = props;\r\n  const initialState = {\r\n    titrePdf: props.state.titrePdf!==\"\"?props.state.titrePdf:\"\",\r\n    pdfFile: props.state.pdfFile!==null?props.state.pdfFile:null,\r\n    DOC: props.state.pdfFile!==null?props.state.pdfFile.file.name:\"\"\r\n  };\r\n  const labelRef=createRef();\r\n\r\n  const [uploadRequired, setUploadRequired] = useState(false);\r\n  const [state, setState] = useState({\r\n    ...initialState,\r\n  });\r\n  titre.props.value=state.titrePdf;\r\n  document.children = (\r\n    <CustomUploadButton\r\n      btnLabel=\"Charger\"\r\n      btnColor={\"primary\"}\r\n      name=\"document\"\r\n      // inputValue=\"\"\r\n      inputProps={document.props}\r\n      value={0}\r\n      setParentInput={(file) => setState({ ...state, pdfFile: file,DOC: file.file.name })}\r\n    />\r\n  );\r\n  const formStructure=[\r\n        [titre],\r\n        [\r\n          {\r\n            type: \"formControl\",\r\n            children: (\r\n              <Grid container>\r\n                <Grid item xs={12} sm={4}>\r\n                  <label ref={labelRef}>Choisissez le fichier</label>\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                  {document.children}\r\n                </Grid>\r\n              </Grid>\r\n            ),\r\n          },\r\n          {\r\n            type: \"formControl\",\r\n          },\r\n        ],\r\n      ];\r\n  const formRef = useRef();\r\n  useEffect(() => {\r\n    if (props.linkRefHandle) props.linkRefHandle(formRef, 1);\r\n  }, [formRef]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"State updated on Resume\",state);\r\n  }, [state]);\r\n\r\n  const onChangeHandler = (event) => {\r\n    if (event.target.name === \"titrePdf\" && event.target.value !== \"\")\r\n      setUploadRequired(true);\r\n    if (event.target.name === \"titrePdf\" && event.target.value === \"\") {\r\n      setUploadRequired(false);\r\n    }\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n\r\n    if(props.updateStepsStatus) props.updateStepsStatus(1);\r\n  };\r\n\r\n  const onSubmitHandler = (data) => {\r\n    console.log(data)\r\n    if (uploadRequired && state.pdfFile === null) {\r\n      return;\r\n    }\r\n    props.submitHandler({ ...data, pdfFile: state.pdfFile }, 1);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Associer un document au cours\r\n        </Typography>\r\n\r\n        <Paper>\r\n          <Formik\r\n            initialValues={state}\r\n            validationSchema={validationSchema}\r\n            onSubmit={onSubmitHandler}\r\n          >\r\n            {({\r\n              errors,\r\n              handleBlur,\r\n              handleChange,\r\n              handleSubmit,\r\n              isSubmitting,\r\n              touched,\r\n              values,\r\n            }) => (\r\n              <form className={classes.form} onSubmit={handleSubmit}>\r\n                <Grid container spacing={2}>\r\n                  {formStructure.map((gridRow, rowidx) => {\r\n                    return gridRow.map((field, columnidx) => (\r\n                      <Grid\r\n                        item\r\n                        xs={12}\r\n                        sm={Math.floor(12 / gridRow.length)}\r\n                        key={`${rowidx}-${columnidx}`}\r\n                      >\r\n                        {field.type === \"input\" && (\r\n                          <TextField\r\n                            key={field.props.name}\r\n                            error={Boolean(\r\n                              touched[field.props.name] &&\r\n                                errors[field.props.name]\r\n                            )}\r\n                            helperText={\r\n                              touched[field.props.name] &&\r\n                              errors[field.props.name]\r\n                            }\r\n                            onBlur={handleBlur}\r\n                            onChange={(e) => {\r\n                              handleChange(e);\r\n                              onChangeHandler(e);\r\n                            }}\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            id={`${field.props.name}-input`}\r\n                            {...field.props}\r\n                          />\r\n                        )}\r\n                        {/* {field.type === \"formControl\" && (<>{field.children}</>)} */}\r\n                      </Grid>\r\n                    ));\r\n                  })}\r\n\r\n                  <Grid item xs={12} sm={4}>\r\n                  <label ref={labelRef} style={{color: uploadRequired && state.pdfFile===null?\"red\":\"inherit\"}}>\r\n                    {state.DOC!==\"\"?state.DOC: \"Choisissez un fichier\"}\r\n                  </label>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                  {document.children}\r\n                  </Grid>\r\n                </Grid>\r\n\r\n\r\n                <Grid container justify=\"flex-end\">\r\n                  <Grid item xs={12} sm={4}>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      style={{ visibility: \"hidden\" }}\r\n                      ref={formRef}\r\n                    ></Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            )}\r\n          </Formik>\r\n        </Paper>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nAjouterDocument.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  submitHandler: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AjouterDocument;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Box,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  TextField,\r\n  Switch,\r\n  FormControlLabel,\r\n  FormGroup,\r\n} from \"@material-ui/core\";\r\nimport {red} from \"@material-ui/core/colors\"\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\"\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(2),\r\n  },\r\n  grid: {\r\n    margin: theme.spacing(2),\r\n    padding: theme.spacing(1),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(3),\r\n  },\r\n  invalidQuestion: {\r\n    backgroundColor: red[100]\r\n  },\r\n  typography: {\r\n    fontWeight: \"bold\",\r\n  },\r\n  uploadLabel: {\r\n    display: \"inline-block\",\r\n    backgroundColor: \"indigo\",\r\n    boxShadow: theme.shadows[10],\r\n    color: \"white\",\r\n    padding: \"0.5rem\",\r\n    cursor: \"pointer\",\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  questionText: Yup.string()\r\n    .min(5, \"Le contenu de la question doit contenir au minimum 5 caractères\"),\r\n  answerText: Yup.string()\r\n    \r\n});\r\nfunction QuizQuestion(props) {\r\n  const classes = useStyles();\r\n\r\n  const { questionText, questionImg, answerText, answerImg } = props.question;\r\n  const {valid}=props;\r\n    // States\r\n  const [state, setState] = useState({\r\n    questionText,\r\n    questionImg,\r\n    answerText,\r\n    answerImg,\r\n  });\r\n   \r\n\r\n  const [questIsImg, setQuestionIsImg] = useState(false);\r\n  const toggleQuestType = () => setQuestionIsImg(!questIsImg);\r\n\r\n  const [answerIsImg, setAnswerIsImg] = useState(false);\r\n  const toggleAnswerType = () => setAnswerIsImg(!answerIsImg);\r\n\r\n  /**\r\n   * Handle Question/Answer image loading\r\n   * @param {*} e event\r\n   * @param {*} name name of the field to update the state according to\r\n   */\r\n  const handleLoadImg = (e, name) => {\r\n    const file = e.currentTarget.files[0];\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      const fileToAdd = {\r\n        file: file,\r\n        data: fileReader.result,\r\n        isUploading: false,\r\n        progress: 0,\r\n      };\r\n      const changesObj={\r\n        ...state,\r\n        [name]: fileToAdd,\r\n      };\r\n      setState(changesObj);\r\n\r\n      if (props.updateState) props.updateState(changesObj);\r\n    };\r\n    fileReader.onabort = () => {\r\n      alert(\"Reading Aborted\");\r\n    };\r\n    fileReader.onerror = () => {\r\n      console.log(\"Error occuren when Uploading file from disk\");\r\n    };\r\n\r\n    fileReader.readAsDataURL(file);\r\n  };\r\n\r\n  const onBlurHandler = (event) => {\r\n    const changesObj={\r\n      ...state,\r\n      [event.target.name]: event.target.value,\r\n    };\r\n    setState(changesObj);\r\n\r\n    if (props.updateState) props.updateState(changesObj);\r\n  };\r\n\r\n  const onSubmitHandler=(data)=>{\r\n\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Paper className={clsx(classes.paper,!valid && classes.invalidQuestion)}>\r\n        <Typography variant=\"body1\">\r\n          Question n ° {props.numQuestion}\r\n        </Typography>\r\n        <Formik\r\n          initialValues={{questionText,answerText}}\r\n          validationSchema={validationSchema}\r\n          onSubmit={onSubmitHandler}\r\n        >\r\n          {({\r\n            errors,\r\n            handleBlur,\r\n            handleChange,\r\n            handleSubmit,\r\n            isSubmitting,\r\n            touched,\r\n            values,\r\n          }) => (\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <Grid container spacing={2}>\r\n\r\n                {/* QUESTION SECTION */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    flexDirection=\"column\"\r\n                    width=\"100%\"\r\n                  >\r\n                    <Container>\r\n                      <Box display=\"flex\" width=\"100%\">\r\n                        <Box display=\"flex\" width=\"50%\" alignItems=\"center\">\r\n                          <Typography variant=\"body1\">Question</Typography>\r\n                        </Box>\r\n                        <Box display=\"flex\" width=\"50%\">\r\n                          <FormGroup row>\r\n                            <FormControlLabel\r\n                              control={\r\n                                <Switch\r\n                                  checked={!questIsImg}\r\n                                  onChange={() => toggleQuestType()}\r\n                                  name=\"questTypeSwitch\"\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                              label={questIsImg?\"Image\":\"Textuelle\"}\r\n                            />\r\n                          </FormGroup>\r\n                        </Box>\r\n                      </Box>\r\n                    </Container>\r\n\r\n                    <Container>\r\n                      {questIsImg && (\r\n                        <Container>\r\n                          <Box\r\n                            display=\"flex\"\r\n                            justifyContent=\"flex-end\"\r\n                            width=\"100%\"\r\n                          >\r\n                            <input\r\n                              type=\"file\"\r\n                              id={`questionImg-${props.numQuestion}`}\r\n                              name=\"questionImg\"\r\n                              hidden\r\n                              accept=\"image/png, image/jpeg\"\r\n                              \r\n                              onChange={(e) => handleLoadImg(e, \"questionImg\")}\r\n                            />\r\n                            <label\r\n                              htmlFor={`questionImg-${props.numQuestion}`}\r\n                              className={classes.uploadLabel}\r\n                            >\r\n                              Charger\r\n                            </label>\r\n                          </Box>\r\n                          <Box\r\n                            display=\"flex\"\r\n                            justifyContent=\"center\"\r\n                            width=\"100%\"\r\n                          >\r\n                            {state.questionImg &&\r\n                              state.questionImg !== null && (\r\n                                <img\r\n                                  src={state.questionImg.data}\r\n                                  alt=\"Aperçu de la question\"\r\n                                  width={70}\r\n                                  height={70}\r\n                                />\r\n                              )}\r\n                          </Box>\r\n                        </Container>\r\n                      )}\r\n                      {!questIsImg && (\r\n                        <Container>\r\n                          <TextField\r\n                            error={Boolean(touched.questionText && errors.questionText)}\r\n                            helperText={touched.questionText && errors.questionText}\r\n                            onBlur={(e)=>{handleBlur(e); onBlurHandler(e); }}\r\n                            // value={state.questionText}\r\n                            onChange={handleChange}\r\n                            // value={state.questionText}\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            multiline\r\n                            label=\"Text de la question\"\r\n                            name=\"questionText\"\r\n                          />\r\n                        </Container>\r\n                      )}\r\n                    </Container>\r\n                  </Box>\r\n                </Grid>\r\n\r\n\r\n\r\n\r\n                {/* ANSWER SECTION */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    flexDirection=\"column\"\r\n                    width=\"100%\"\r\n                  >\r\n                    <Container>\r\n                      <Box display=\"flex\" width=\"100%\">\r\n                        <Box display=\"flex\" width=\"50%\" alignItems=\"center\">\r\n                          <Typography variant=\"body1\">Réponse</Typography>\r\n                        </Box>\r\n                        <Box display=\"flex\" width=\"50%\">\r\n                          <FormGroup row>\r\n                            <FormControlLabel\r\n                              control={\r\n                                <Switch\r\n                                  checked={!answerIsImg}\r\n                                  onChange={() => toggleAnswerType()}\r\n                                  name=\"answerTypeSwitch\"\r\n                                  color=\"secondary\"\r\n                                />\r\n                              }\r\n                              label={answerIsImg?\"Image\":\"Textuelle\"}\r\n                            />\r\n                          </FormGroup>\r\n                        </Box>\r\n                      </Box>\r\n                    </Container>\r\n\r\n                    <Container>\r\n                      {answerIsImg && (\r\n                        <Container>\r\n                         \r\n                          <Box\r\n                            display=\"flex\"\r\n                            justifyContent=\"flex-end\"\r\n                            width=\"100%\"\r\n                          >\r\n                            <input\r\n                              type=\"file\"\r\n                              id={`answerImg-${props.numQuestion}`}\r\n                              name=\"answerImg\"\r\n                              hidden\r\n                              accept=\"image/png, image/jpeg\"\r\n                              onChange={(e) => handleLoadImg(e, \"answerImg\")}\r\n                            />\r\n                            <label\r\n                              htmlFor={`answerImg-${props.numQuestion}`}\r\n                              className={classes.uploadLabel}\r\n                            >\r\n                              Charger\r\n                            </label>\r\n                          </Box>\r\n                          <Box\r\n                            display=\"flex\"\r\n                            justifyContent=\"center\"\r\n                            width=\"100%\"\r\n                          >\r\n                            {state.answerImg &&\r\n                              state.answerImg !== null && (\r\n                                <img\r\n                                  src={state.answerImg.data}\r\n                                  alt=\"Aperçu de la question\"\r\n                                  width={70}\r\n                                  height={70}\r\n                                />\r\n                              )}\r\n                          </Box>\r\n                        </Container>\r\n                      )}\r\n                      {!answerIsImg && (\r\n                        <Container>\r\n                          <TextField\r\n                            error={Boolean(touched.answerText && errors.answerText)}\r\n                            helperText={touched.answerText && errors.answerText}\r\n                            onBlur={(e)=>{handleBlur(e); onBlurHandler(e); }}\r\n                            // value={state.answerText}\r\n                            onChange={handleChange}\r\n                            // value={state.answerText}\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            multiline\r\n                            label=\"Text de la réponse\"\r\n                            name=\"answerText\"\r\n                          />\r\n                        </Container>\r\n                      )}\r\n                    </Container>\r\n                  </Box>\r\n                </Grid>\r\n\r\n                {/* CONFIRM SECTION */}\r\n                {/* <Grid item xs={12} sm={2}>\r\n                <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      >\r\n                        Confimer\r\n                      </Button>\r\n\r\n                </Grid> */}\r\n              </Grid>\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </Paper>\r\n    </Container>\r\n    \r\n  );\r\n}\r\n\r\nQuizQuestion.propTypes = {\r\n  numQuestion: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default QuizQuestion;\r\n","import React, { useState,useEffect,useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  CssBaseline,\r\n  Button,\r\n  Typography,\r\n  Slider,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  FormGroup,\r\n} from \"@material-ui/core\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\n\r\n// import {Vimeo} from \"vimeo\"\r\n\r\n// Components\r\nimport QuestionComponent from './QuizQuestion'\r\n\r\nconst validationSchema = Yup.object({\r\n  titre: Yup.string()\r\n    .min(5, \"Le titre du document doit contenir au minimum 5 caractères\")\r\n    .max(20, \"Le titre du document ne doit pas dépasser 20 caractères\"),\r\n});\r\n\r\n\r\nconst makeEmptyArray=(size)=>[...Array(size).keys()].map((el)=>({\r\n  question: {\r\n  questionText: \"\",\r\n  questionImg: null,\r\n  answerText: \"\",\r\n  answerImg: null,},\r\n  valid: true\r\n})); \r\n\r\n// const client = new Vimeo(\"6a9e2c0bbf4de91ba3b36aabdc35372bfcec1566\", \"wJ3RSrdsVd3WeGxRTLF6K94zkBtHy94OHYUi03QYznbcxHAmWzvtOLaSIoWKpKkwHJSTHLev6mB1E773Lq73ku615od3RR2m5HU2tDHUO9x3kn3ODY7EDXN7yYAqiRKU\", \"0c7176360df3d2c0e47b48f87a3fb7ba\");\r\nfunction AjouterQuiz(props) {\r\n  // const [videoLink,setVideolink]=useState({});\r\n  useEffect(()=>{\r\n    \r\n  //   client.request({\r\n  //   method: 'GET',\r\n  //   path: '/me/videos/473470147',\r\n  // //   headers: {\r\n  // //     Authorization: `basic base64_encode(6a9e2c0bbf4de91ba3b36aabdc35372bfcec1566:wJ3RSrdsVd3WeGxRTLF6K94zkBtHy94OHYUi03QYznbcxHAmWzvtOLaSIoWKpKkwHJSTHLev6mB1E773Lq73ku615od3RR2m5HU2tDHUO9x3kn3ODY7EDXN7yYAqiRKU)`,\r\n  // //     'Content-Type': 'application/json',\r\n  // //     Accept: 'application/vnd.vimeo.*+json;version=3.4'\r\n  // //   },\r\n  // //   body: {\r\n  // //     \"grant_type\": \"client_credentials\",\r\n  // // \"scope\": \"private\"\r\n  // //   }\r\n    \r\n  // }, function (error, body, status_code, headers) {\r\n  //   if (error) {\r\n  //     console.log(error);\r\n  //   }\r\n  \r\n  //   console.log(\"BODY : \",body);\r\n  //   setVideolink({link: body.link, html: body.embed.html,thumbnail: body.pictures.sizes[1].link})\r\n  //   // videoLink.link=body.link\r\n  //   // videoLink.html=body.embed.html\r\n  // })\r\n    \r\n\r\n\r\n\r\n\r\n},[])\r\n    // Styles\r\n  const { classes } = props;\r\n    // Refs\r\n  const formRef = useRef();\r\n  useEffect(() => {\r\n    if (props.linkRefHandle) props.linkRefHandle(formRef, 2);\r\n  }, [formRef]);\r\n  \r\n  \r\n  // States\r\n  const initialState = {\r\n    questionsList: props.state.questionsList.length>0\r\n      ? props.state.questionsList.map((el)=>({question: el, valid: true}))\r\n      : makeEmptyArray(10)\r\n      \r\n  };\r\n  const [state, setState] = useState({\r\n    ...initialState,\r\n  });\r\n  const updateState=(data,questIndex)=>{\r\n\r\n    setState({\r\n      ...state,\r\n      questionsList: state.questionsList.map((el,idx)=> idx!==questIndex?el: {\r\n        ...el,\r\n        question: data\r\n      } )\r\n    })\r\n\r\n\r\n  }\r\n\r\n  // useEffect(()=>console.log(\"Ajouter Qui state : \",state),[state])\r\n\r\n  const updateQuestList = (size) => {\r\n    if (size>state.questionsList.length)\r\n      setState({\r\n        ...state,\r\n        questionsList: [...state.questionsList,...makeEmptyArray(size-state.questionsList.length)]\r\n      })\r\n    else if (size<state.questionsList.length)\r\n      setState({\r\n        ...state,\r\n        questionsList: state.questionsList.slice(0,size)\r\n      })\r\n\r\n  };\r\n\r\n  \r\n  const onSubmitHandler = (e) => {\r\n    const changes=state.questionsList.map((el)=>({\r\n      ...el,\r\n      valid: !((el.question.questionText===\"\" && el.question.questionImg===null) ||  (el.question.answerText===\"\" && el.question.answerImg===null))\r\n    }));\r\n    \r\n    setState({\r\n      questionsList: changes\r\n    });\r\n    const failFlag=changes.find(el=> el.valid===false);\r\n\r\n    if(failFlag) return;\r\n\r\n    props.submitHandler({ \r\n      questionsList: state.questionsList.map((el)=> el.question)\r\n     }, 2);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Associer un Quiz au cours\r\n        </Typography>\r\n\r\n        <Formik\r\n          initialValues={state}\r\n          validationSchema={validationSchema}\r\n          onSubmit={onSubmitHandler}\r\n        >\r\n          {({\r\n            errors,\r\n            handleBlur,\r\n            handleChange,\r\n            handleSubmit,\r\n            isSubmitting,\r\n            touched,\r\n            values,\r\n          }) => (\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <Grid container spacing={2}>\r\n                <FormGroup row>\r\n                  \r\n                    \r\n                    <label>Spécifiez le nombre de question de ce Quiz</label>\r\n                  \r\n                  <Slider\r\n                        defaultValue={10}\r\n                        aria-labelledby=\"nbr-quest-slider\"\r\n                        step={1}\r\n                        marks\r\n                        min={5}\r\n                        max={30}\r\n                        valueLabelDisplay=\"on\"\r\n                        onChange={(e,v)=>updateQuestList(v)}\r\n                      />\r\n                </FormGroup>\r\n\r\n              </Grid>\r\n            </form>\r\n          )}\r\n        </Formik>\r\n                <Grid item xs={12}>\r\n                  {state.questionsList.map((question,idx)=> (\r\n                  <QuestionComponent \r\n                  key={idx} \r\n                  numQuestion={idx+1}\r\n                  question={question.question}\r\n                  valid={question.valid} \r\n                  updateState={(data)=>updateState(data,idx)} />))}\r\n\r\n                </Grid>  \r\n                <Grid item xs={12} sm={2}>\r\n                <Button\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      ref={formRef}\r\n                      onClick={onSubmitHandler}\r\n                      style={{display: \"none\"}}\r\n                      >\r\n                      </Button>\r\n\r\n                </Grid>\r\n      </div>\r\n     \r\n    </Container>\r\n  );\r\n}\r\nAjouterQuiz.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  submitHandler: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AjouterQuiz;\r\n","import React, {createRef, useEffect, useState} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {PictureAsPdf as PDFIcon, \r\n    Movie as MovieIcon,\r\n    LiveHelp as LiveHelpIcon,\r\n    ArrowBackIos as BackIcon,\r\n    ArrowForwardIos as NextIcon,\r\n    CheckCircle as SuccessIcon,\r\n    Error as ErrorIcon\r\n\r\n} \r\n    from \"@material-ui/icons\"\r\nimport {Box, Grid, Typography} from \"@material-ui/core\"\r\n\r\n// Styles\r\nimport {useColorlibStepIconStyles,ColorlibConnector} from './styles'\r\n\r\n\r\n\r\n// Components\r\nimport CustomStepper from \"../../../../../shared/CustomStepper\"\r\nimport AjouterVideo from './AjouterVideo'\r\nimport AjouterDocument from './AjouterResume'\r\nimport AjouterQuiz from './AjouterQuiz'\r\n\r\n// Services\r\nimport TeacherService from '../../../../../../services/teacherServices'\r\n\r\n\r\nconst icons={\r\n    1: <MovieIcon/>,\r\n    2: <PDFIcon/>,\r\n    3: <LiveHelpIcon/>,\r\n    \r\n}\r\nconst steps=[\r\n    {\r\n        title: 'Contenu principale',\r\n    },\r\n    {\r\n        title: 'Résumé du cours',\r\n    },\r\n    {\r\n        title: 'Quiz',\r\n    },\r\n    \r\n    \r\n]\r\n\r\nfunction AjouterCours(props) {\r\n    const stepIconStyles=useColorlibStepIconStyles();\r\n    const classes=stepIconStyles;\r\n\r\n    const [registerCourseFeedback,setregisterCourseFeedback]=useState((\r\n        < >\r\n        </>\r\n    ))\r\n    const defaultState={\r\n        titre:'',\r\n        ordre: 1,\r\n        trimestre: 1,\r\n        lien:'',\r\n        thumbnail: '',\r\n        titrePdf:'',\r\n        pdfFile:null,\r\n        questionsList: []\r\n        \r\n    }\r\n    const [globalState,SetGlobalState]=useState(defaultState);\r\n    // Only for test\r\n    // useEffect(()=>{\r\n    //     console.log(\"Global State changed. Here's the updated version : \",globalState)\r\n\r\n    // },[globalState])\r\n\r\n    const [stepsPassed,setStepsPassed]=useState([false,false,false]);\r\n    \r\n    \r\n    const [addVideoRef,setaddVideoRef]=useState(createRef());\r\n    const [addResumeRef,setaddResumeRef]=useState(createRef());\r\n    const [addQuizRef,setaddQuizRef]=useState(createRef());\r\n    \r\n    /**\r\n     * Link the Submit button Ref to this state\r\n     * @param {*} ref Step submit button Reference\r\n     * @param {*} step Step number\r\n     */\r\n    const linkRefHandle=(ref,step)=>{\r\n        if(step===0) setaddVideoRef(ref);\r\n        if(step===1) setaddResumeRef(ref);\r\n        if(step===2) setaddQuizRef(ref);\r\n        \r\n    }\r\n\r\n    const submitRefHandle=(ref)=>{\r\n        setaddVideoRef(ref);\r\n        \r\n    }\r\n    /**\r\n     * Turn the passed step to invalid, after changind any field of its form.\r\n     * @param {*} step Step number\r\n     */\r\n    const updateStepsStatus=(step)=> setStepsPassed(stepsPassed.map((val,idx)=> step===idx?false:val )) ;\r\n    \r\n    const validateStep=(step)=>{\r\n        if(step===2 && stepsPassed.filter(el=> el===true).length===3){\r\n            console.log('Sending cours ...');\r\n            \r\n            console.log(\"Questions List : \",globalState.questionsList);\r\n            TeacherService.addNewCourse({\r\n                adminType: \"enseignant\",\r\n                ...globalState,\r\n                matiere: props.teacher.matiere._id,\r\n                classe: props.currentClasse,\r\n                ordre: globalState.ordre+1,\r\n                video: globalState.lien,\r\n                pdf: globalState.pdfFile.file,\r\n                enseignant: props.teacher.id,\r\n                \r\n            }).then(\r\n                res=>{\r\n                    setregisterCourseFeedback((\r\n                        < >\r\n                            <SuccessIcon className={classes.sucess} fontSize=\"large\"  />\r\n                            <Typography className={classes.sucess} variant=\"body1\" >Cours enregistré avec succès.</Typography>\r\n                        </>\r\n                    ));\r\n\r\n                    if(props.onApprendNewCours)\r\n                        props.onApprendNewCours(res.newCours)\r\n\r\n\r\n                    SetGlobalState(defaultState)\r\n\r\n                },\r\n                err=>{\r\n                    console.log(err)\r\n                    setregisterCourseFeedback((\r\n                        < >\r\n                            <ErrorIcon fontSize=\"large\" className={classes.error}  />\r\n                            <Typography className={classes.error}  variant=\"body1\" >Une erreur s'est produite. Impossible d'ajouter le cours.</Typography>\r\n                                    <p>{(err.message && err.message)|| err}</p>\r\n                        </>\r\n                    ))\r\n\r\n                }\r\n            )\r\n            \r\n            return stepsPassed[step];\r\n        }\r\n        if(step===0) addVideoRef.current.click()\r\n        if(step===1) addResumeRef.current.click()\r\n        if(step===2) addQuizRef.current.click()\r\n       \r\n        return stepsPassed[step];\r\n    }\r\n    \r\n    const updateState=(state,step)=>{\r\n        SetGlobalState({\r\n            ...globalState,\r\n            ...state\r\n        });\r\n        setStepsPassed(stepsPassed.map((val,idx)=> val || step===idx ))\r\n        \r\n     \r\n        return true;\r\n        \r\n    }\r\n    \r\n    const wrapper=(component)=>(\r\n        <Grid container spacing={3}>\r\n            {component}\r\n            </Grid>\r\n    )\r\n        //Define each step Component\r\n    steps[0].children= (wrapper(<AjouterVideo withTitle \r\n        state={globalState} linkRefHandle={linkRefHandle} \r\n        updateStepsStatus={updateStepsStatus} submitRefTracker={submitRefHandle} \r\n        classes={classes} \r\n        currentClasse={props.currentClasse}\r\n        submitHandler={updateState}\r\n        />))\r\n    steps[1].children= (wrapper(<AjouterDocument  \r\n        state={globalState} linkRefHandle={linkRefHandle} \r\n        updateStepsStatus={updateStepsStatus} \r\n        classes={classes} \r\n        submitHandler={updateState}\r\n        />))\r\n    steps[2].children= (wrapper(<AjouterQuiz  \r\n        state={globalState} linkRefHandle={linkRefHandle} \r\n        updateStepsStatus={updateStepsStatus} \r\n        classes={classes} \r\n        submitHandler={updateState}\r\n        />))\r\n\r\n    return (\r\n        <div>\r\n            <CustomStepper  \r\n            StepConnector={ColorlibConnector} \r\n            labelStepsIconsClasses={stepIconStyles} \r\n            icons={icons}\r\n            steps={steps}\r\n            nextBtnIcon={{endIcon:(<NextIcon/>)}}\r\n            // nexHandler={(step)=>(stepsPassed[step]===true) }\r\n            nexHandler={(step)=> validateStep(step) }\r\n            backBtnIcon={{startIcon:(<BackIcon/>)}}\r\n            finalStep={<Box display=\"flex\" flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" style={{minHeight: \"100px\"}}>\r\n                {registerCourseFeedback}\r\n\r\n            </Box>}\r\n            />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nAjouterCours.propTypes = {\r\n    currentClasse: PropTypes.string.isRequired\r\n\r\n}\r\n\r\nexport default AjouterCours\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  MuiThemeProvider,\r\n  createMuiTheme,\r\n} from \"@material-ui/core/styles\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  IconButton,\r\n  Box,\r\n  Typography,\r\n  Tooltip,\r\n  TextField,\r\n  InputAdornment,\r\n  SvgIcon,\r\n  Grid,\r\n  Paper,\r\n  MenuItem,\r\n} from \"@material-ui/core\";\r\nimport { purple } from \"@material-ui/core/colors\";\r\nimport { Search as SearchIcon } from \"react-feather\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport {\r\n  Cancel as CancelIcon,\r\n  Edit as EditIcon,\r\n  PictureAsPdf as PDFIcon,\r\n  LiveHelp as QuizIcon,\r\n} from \"@material-ui/icons\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n\r\n//themes\r\nimport { defaultTheme, bootstraptheme } from \"../../../../../themes/palettes\";\r\n\r\n// components\r\nimport CustomTable from \"../../../../shared/tables/CustomTable\";\r\nimport AddCoursForm from \"./Add/AjouterCours\";\r\nimport Page from \"../../../../shared/Page\";\r\nimport Modal from '../../../../shared/Modal' ;\r\nimport ToasterSnackBar from \"../../../../shared/notifiers/toaster/ToasterSnackBar\";\r\nimport LoadingComponent from \"../../../../shared/LoadingComponent\";\r\n\r\n// Services\r\nimport TeacherService from \"../../../../../services/teacherServices\";\r\n\r\n// Data\r\nimport { coursHeadCells } from \"../../../../data/tableHeads\";\r\n\r\nconst successtheme = createMuiTheme({\r\n  palette: {\r\n    primary: { main: \"#4caf50\" },\r\n    secondary: {\r\n      main: \"#f44336\",\r\n    },\r\n  },\r\n});\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n  grid: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  red: {\r\n    color: theme.palette.error.light,\r\n    cursor: \"pointer\",\r\n  },\r\n  purple: {\r\n    color: purple[300],\r\n    cursor: \"pointer\",\r\n  },\r\n  buttonRed: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n    backgroundColor: theme.palette.error.light,\r\n    cursor: \"pointer\",\r\n  },\r\n  buttonPurple: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n    backgroundColor: purple[300],\r\n    cursor: \"pointer\",\r\n  },\r\n}));\r\n\r\nexport function Contenu(props) {\r\n  // Styles\r\n  const classes = useStyles();\r\n\r\n  // States\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [toasterOpen, setToasterOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({});\r\n\r\n  const [coursRows, setCoursRows] = useState([]);\r\n  const [filtredCoursRows, setFiltredCoursRows] = useState([]);\r\n  const [displayedCourses, setDisplayedCourses] = useState([]);\r\n  const [currentClasse, setCurrentClasse] = useState(\"\");\r\n  const [showAddForm, setShowAddForm] = useState(false); // Loading spinners controller\r\n  const [deleteCoursPopup, setDeleteCoursPopup] = useState(false);\r\n  const [coursToDelete, setCoursToDelete] = useState(\"\");\r\n  const [deleteCoursActions, setDeleteCoursActions] = useState([]);\r\n\r\n  const parseCoursRow=(DBrow)=>({\r\n    ...DBrow,\r\n    actions: (\r\n      <>\r\n        <Tooltip title=\"Modifier\">\r\n          <IconButton\r\n            size=\"medium\"\r\n            color=\"primary\"\r\n            onClick={(e) => console.log(DBrow)}\r\n          >\r\n            <EditIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"Supprimer\">\r\n          <IconButton\r\n            size=\"medium\"\r\n            color=\"secondary\"\r\n            onClick={(e) => deleteCours(DBrow)}\r\n          >\r\n            <CancelIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </>\r\n    ),\r\n    attachements: (\r\n      <>\r\n        <Tooltip title={`Ce cours contient un ${\"résumé\"} en PDF`}>\r\n          <IconButton disabled={!DBrow.pdf || DBrow.pdf === null}>\r\n            {\" \"}\r\n            <PDFIcon fontSize=\"large\" className={classes.red} />{\" \"}\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip\r\n          title={`Ce cours contient un quiz de ${DBrow.quiz.length} questions`}\r\n        >\r\n          <IconButton>\r\n            {\" \"}\r\n            <QuizIcon fontSize=\"large\" className={classes.purple} />{\" \"}\r\n          </IconButton>\r\n        </Tooltip>\r\n      </>\r\n    ),\r\n  })\r\n  useEffect(() => {\r\n    props.teacher.classes &&\r\n      props.teacher.classes &&\r\n      setCurrentClasse(props.teacher.classes[0]._id);\r\n    coursHeadCells.push({\r\n      id: \"attachements\",\r\n      numeric: false,\r\n      disablePadding: false,\r\n      label: \"Attachements\",\r\n      withChildComponent: true,\r\n    });\r\n    coursHeadCells.push({\r\n      id: \"actions\",\r\n      numeric: false,\r\n      disablePadding: false,\r\n      label: \"Actions\",\r\n      withChildComponent: true,\r\n    });\r\n    setisLoading(true);\r\n\r\n\r\n    TeacherService.getProfCourses({\r\n      adminType: \"enseignant\",\r\n      id: props.teacher.id,\r\n    }).then(\r\n      (res) => {\r\n        console.log(\"Les cours de ce prof : \", res);\r\n        const rows = res.courses.map((row) => parseCoursRow(row));\r\n        const firstClasseRows = rows.filter(\r\n          (row) => row.classe === props.teacher.classes[0]._id\r\n        );\r\n        setCoursRows(rows);\r\n        setFiltredCoursRows(firstClasseRows);\r\n        setDisplayedCourses(firstClasseRows);\r\n        setisLoading(false);\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        setisLoading(false);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  const appendNewCours=(newCours)=>{\r\n    setCoursRows([...coursRows,parseCoursRow(newCours)])\r\n    setFiltredCoursRows([...filtredCoursRows,parseCoursRow(newCours)])\r\n  }\r\n\r\n  const deleteCours = (row)=>{\r\n    setDeleteCoursActions([\r\n      {\r\n        label:\"Supprimer\",\r\n        className: classes.buttonRed,\r\n        clickHandler: (e)=>{\r\n          TeacherService.deleteCourse({id: row._id, adminType:\"enseignant\"}).then(\r\n            res=>{\r\n                // Show success alert toaster\r\n              setAlertProps({\r\n                severity : \"success\",\r\n                message: 'Cours supprimé avec succès'\r\n              });\r\n              setToasterOpen(true);\r\n                // Update current rows states\r\n              const newcourses=coursRows.filter(el=>el._id!==row._id);\r\n              setCoursRows(newcourses);\r\n              const ofCurrentYear=newcourses.filter(el=>el.classe===currentClasse);\r\n              setDisplayedCourses(ofCurrentYear)\r\n              setFiltredCoursRows(ofCurrentYear);\r\n                // Close the pop-up\r\n              setTimeout(() => {\r\n                setDeleteCoursPopup(false);\r\n                \r\n              }, 1000);\r\n\r\n            },\r\n            err=>{\r\n              // Show fail alert toaster\r\n              setAlertProps({\r\n                severity:'error',\r\n                message : `Une erreur s'est produite ${(err.message && err.message) || err }`\r\n              });\r\n              setToasterOpen(true);\r\n\r\n            }\r\n          )\r\n\r\n        }\r\n      },\r\n      {\r\n        label:\"Annuler\",\r\n        className: classes.buttonPurple,\r\n        clickHandler: (e)=>setDeleteCoursPopup(false)\r\n      }\r\n    ])\r\n    setDeleteCoursPopup(true);\r\n\r\n  }\r\n  const closeToaster=(e)=> setToasterOpen(false);\r\n\r\n  const changeYearcourses = (e) => {\r\n    setCurrentClasse(e.target.value);\r\n    const newRows = coursRows.filter((row) => row.classe === e.target.value);\r\n    setDisplayedCourses(newRows);\r\n    setFiltredCoursRows(newRows);\r\n  };\r\n\r\n  // SearcheBar handle changes\r\n  const handleSearchInputChange = (e) => {\r\n    if (e.target.value.length < 4) {\r\n      setFiltredCoursRows(displayedCourses);\r\n      return;\r\n    }\r\n    const value = e.target.value;\r\n    setFiltredCoursRows(\r\n      displayedCourses.filter(\r\n        (row) =>\r\n          (row.titre && row.titre.indexOf(value) !== -1) ||\r\n          (row.titrePdf && row.titrePdf.indexOf(value) !== -1)\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Contenu Pédagogique\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n        <ToasterSnackBar\r\n          open={toasterOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={<Alert variant=\"filled\" severity={alertProps.severity}>\r\n          {alertProps.message}\r\n        </Alert>}\r\n        \r\n        />\r\n        <Modal \r\n          open={deleteCoursPopup}\r\n          title={\"Suppression Du Cours\"}\r\n          body={<Typography variant=\"body1\" color=\"textSecondary\">ëtes-vous sûrs de vouloir supprimer {coursToDelete} ?</Typography>}\r\n          actions={deleteCoursActions}\r\n          handleClose={()=>setDeleteCoursPopup(false)}\r\n           />\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12} sm={6}>\r\n              <Box\r\n                mt={3}\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n                display=\"flex\"\r\n                flexDirection=\"row\"\r\n              >\r\n                <TextField\r\n                  select\r\n                  fullWidth\r\n                  value={currentClasse}\r\n                  onChange={changeYearcourses}\r\n                  label=\"Choisissez la classe à afficher\"\r\n                >\r\n                  {props.teacher.classes &&\r\n                    props.teacher.classes.map((cl) => (\r\n                      <MenuItem key={cl._id} value={cl._id}>\r\n                        {cl.codeCl}\r\n                      </MenuItem>\r\n                    ))}\r\n                </TextField>\r\n              </Box>\r\n            </Grid>\r\n            {/* Recherche de cours */}\r\n            <Grid item xs={12} sm={8}>\r\n              <Box mt={3}>\r\n                <Box maxWidth={500}>\r\n                  <TextField\r\n                    fullWidth\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <SvgIcon fontSize=\"small\" color=\"action\">\r\n                            <SearchIcon />\r\n                          </SvgIcon>\r\n                        </InputAdornment>\r\n                      ),\r\n                    }}\r\n                    placeholder=\"Rechercher un cours ...\"\r\n                    variant=\"outlined\"\r\n                    onChange={(e) => handleSearchInputChange(e)}\r\n                  />\r\n                </Box>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <Box\r\n                mt={3}\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n                display=\"flex\"\r\n                flexDirection=\"row\"\r\n              >\r\n                <MuiThemeProvider theme={successtheme}>\r\n                  <Button\r\n                    size=\"medium\"\r\n                    variant=\"contained\"\r\n                    className={classes.button}\r\n                    startIcon={<AddIcon />}\r\n                    color=\"primary\"\r\n                    onClick={(e) => setShowAddForm(true)}\r\n                  >\r\n                    Ajouter\r\n                  </Button>\r\n                </MuiThemeProvider>\r\n              </Box>\r\n            </Grid>\r\n            {/* Liste des cours */}\r\n            <Grid item xs={12}>\r\n              <Paper className={classes.paper}>\r\n                <MuiThemeProvider theme={bootstraptheme}>\r\n                  <LoadingComponent\r\n                    component={\r\n                      <CustomTable\r\n                        withStartCheckbox={false}\r\n                        tableTitle={\"Liste des cours\"}\r\n                        headCells={coursHeadCells}\r\n                        rows={filtredCoursRows}\r\n                        indexName={\"id\"}\r\n                        withActions={false}\r\n                        rowClickHandler={() => {}}\r\n                      />\r\n                    }\r\n                    controller={isLoading}\r\n                  />\r\n                </MuiThemeProvider>\r\n              </Paper>\r\n            </Grid>\r\n            {showAddForm && (\r\n              <Grid item xs={12}>\r\n                <Paper\r\n                  className={classes.paper}\r\n                  style={{ padding: defaultTheme.spacing(2) }}\r\n                >\r\n                  <Typography variant=\"h4\" color=\"textPrimary\" align=\"center\">\r\n                    Ajouter Un Nouveau Cours\r\n                  </Typography>\r\n                  <MuiThemeProvider theme={defaultTheme}>\r\n                    <AddCoursForm\r\n                      teacher={props.teacher}\r\n                      currentClasse={currentClasse}\r\n                      onApprendNewCours={(newCours)=>appendNewCours(newCours)}\r\n                    />\r\n                  </MuiThemeProvider>\r\n                </Paper>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  // teacher : state.managerReducer.user\r\n  teacher: state.adminReducer.user,\r\n});\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Contenu);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport { Container, Grid, Paper } from \"@material-ui/core\";\r\nimport MUIDataTable from \"mui-datatables\";\r\n\r\n//themes\r\nimport { defaultTheme } from \"../../../../themes/palettes\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n// components\r\nimport Page from \"../../../shared/Page\";\r\nimport LoadingComponent from \"../../../shared/LoadingComponent\";\r\n\r\n// Data\r\nimport { profsHeadCells } from \"../../../data/tableHeads\";\r\nimport TeacherService from \"../../../../services/teacherServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"white\",\r\n  },\r\n}));\r\nexport function Eleves(props) {\r\n  const classes = useStyles();\r\n\r\n  const dataColumns = profsHeadCells.map((el) => el.label);\r\n\r\n  // States\r\n  const [filtredElevesRows, setFiltredElevesRows] = useState([]);\r\n  const [isLoading, setisLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setisLoading(true);\r\n    TeacherService.getProfEleves({\r\n      adminType: \"enseignant\",\r\n      id: props.user._id,\r\n    }).then(\r\n      (res) => {\r\n        console.log(\"Tous les élèves concernés par ce prof : \", res);\r\n\r\n        setFiltredElevesRows(\r\n          res.eleves.map((row) =>\r\n            profsHeadCells.map((column) => row[column.id])\r\n          )\r\n        );\r\n        setisLoading(false);\r\n      },\r\n      (err) => {\r\n        setisLoading(false);\r\n        console.log(err);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Eleves\">\r\n      <MuiThemeProvider theme={defaultTheme}>\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <LoadingComponent\r\n                component={\r\n                  <Paper className={classes.paper}>\r\n                    <MUIDataTable\r\n                      title=\"Liste des élèves\"\r\n                      data={filtredElevesRows}\r\n                      columns={dataColumns}\r\n                      options={{\r\n                        filterType: \"checkbox\",\r\n                      }}\r\n                    />\r\n                  </Paper>\r\n                }\r\n                controller={isLoading}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </MuiThemeProvider>\r\n    </Page>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // user: state.managerReducer.user,\r\n  user: state.adminReducer.user,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Eleves);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Grid,\r\n  Container,\r\n  Button,\r\n  IconButton,\r\n  Card,\r\n  CardHeader,\r\n  CardActions,\r\n  CardContent,\r\n  Divider,\r\n  makeStyles,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\nimport { InputAdornment } from \"@material-ui/core\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n// import { MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\n\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { TeacherActions as Actions } from \"../../../../redux/actions/\";\r\n\r\n// components\r\nimport Page from \"../../../shared/Page\";\r\nimport ProfileAvatar from \"../../../shared/ProfileAvatar\";\r\nimport CustomForm from \"../../../shared/CustomForm\";\r\nimport LoadingComponent from \"../../../shared/LoadingComponent\";\r\nimport ToasterSnackBar from \"../../../shared/notifiers/toaster/ToasterSnackBar\";\r\n// import TeacherService from \"../../../../services/teacherServices\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n  card: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    height: 100,\r\n    width: 100,\r\n  },\r\n}));\r\n\r\nconst validationSchema = Yup.object({\r\n  nom: Yup.string()\r\n    .max(20, \"Le nom de famille ne doit pas dépasser 20 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  prenom: Yup.string()\r\n    .max(50, \"Le prénom ne doit pas dépasser 50 caractères\")\r\n    .required(\"Champs Obligatoire\"),\r\n  email: Yup.string()\r\n    .email(\"Adresse Email invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  phone: Yup.string()\r\n    .trim()\r\n    .matches(/^0[5679]\\d{8}$/, \"Numéro de télephone invalide\")\r\n    .required(\"Champs Obligatoire\"),\r\n  newpassword: Yup.string(),\r\n  currentpassword: Yup.string().test(\r\n    \"passwords-match\",\r\n    \"Vous devez saisir le mot de passe actuel\",\r\n    function (value) {\r\n      // console.log(this.parent);\r\n      return (\r\n        !this.parent.newpassword ||\r\n        this.parent.newpassword === \"\" ||\r\n        (this.parent.newpassword !== \"\" && value && value !== \"\")\r\n      );\r\n      // return false;\r\n    }\r\n  ),\r\n});\r\nconst nom = {\r\n  type: \"input\",\r\n  props: { name: \"nom\", required: true, type: \"text\", label: \"Nom\" },\r\n};\r\nconst prenom = {\r\n  type: \"input\",\r\n  props: { name: \"prenom\", required: true, type: \"text\", label: \"Prenom\" },\r\n};\r\nconst email = {\r\n  type: \"input\",\r\n  props: { name: \"email\", required: true, type: \"email\", label: \"Email\" },\r\n};\r\nconst phone = {\r\n  type: \"input\",\r\n  props: { name: \"phone\", required: true, type: \"text\", label: \"Télephone\" },\r\n};\r\n\r\nconst constructPasswordField = (params) => ({\r\n  endAdornment: (\r\n    <InputAdornment position=\"end\">\r\n      <IconButton\r\n        aria-label=\"toggle password visibility\"\r\n        onClick={params.handleClickShowPassword}\r\n      >\r\n        {params.showPassword ? <Visibility /> : <VisibilityOff />}\r\n      </IconButton>\r\n    </InputAdornment>\r\n  ),\r\n});\r\n\r\nexport const Profile = ({ className, cardProps, ...props }) => {\r\n  const classes = useStyles();\r\n  const user = props.user;\r\n  // States\r\n  const [state, setState] = useState({\r\n    ...user,\r\n    currentpassword: \"\",\r\n    newpassword: \"\",\r\n  });\r\n  const [isLoding, setisLoding] = useState(false);\r\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false);\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n\r\n  // Define notification state\r\n  const [alertOpen, setAlertOpen] = useState(false);\r\n  const [alertProps, setAlertProps] = useState({\r\n    severity: \"success\",\r\n    message: \"Profile mis à jours avec succès\",\r\n  });\r\n  const toasterContent = (\r\n    <Alert variant=\"filled\" severity={alertProps.severity}>\r\n      {alertProps.message}\r\n    </Alert>\r\n  );\r\n  const closeToaster = () => setAlertOpen(false);\r\n  const [progressValue, setProgressValue] = useState(0);\r\n\r\n  // Update field's initial falues\r\n  nom.props.value = state.nom;\r\n  prenom.props.value = state.prenom;\r\n  email.props.value = state.email;\r\n  phone.props.value = state.phone;\r\n  // const formState=\r\n\r\n  /**\r\n   * Handle toggle show/hide password\r\n   * @param {*} name\r\n   */\r\n  const handleShowPassword = (name) => {\r\n    if (name === \"currentpassword\")\r\n      setShowCurrentPassword(!showCurrentPassword);\r\n    if (name === \"newpassword\") setShowNewPassword(!showNewPassword);\r\n  };\r\n\r\n  const currentpassword = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"currentpassword\",\r\n      type: showCurrentPassword ? \"text\" : \"password\",\r\n      label: \"Mot de passe actuel\",\r\n      InputProps: constructPasswordField({\r\n        showPassword: showCurrentPassword,\r\n        handleClickShowPassword: (e) => handleShowPassword(\"currentpassword\"),\r\n      }),\r\n    },\r\n  };\r\n  const newpassword = {\r\n    type: \"input\",\r\n    props: {\r\n      name: \"newpassword\",\r\n      type: showNewPassword ? \"text\" : \"password\",\r\n      label: \"Nouveau mot de passe\",\r\n      InputProps: constructPasswordField({\r\n        showPassword: showNewPassword,\r\n        handleClickShowPassword: (e) => handleShowPassword(\"newpassword\"),\r\n      }),\r\n    },\r\n  };\r\n  // Define the shape of the form\r\n  const formStructure = [\r\n    [nom, prenom], // This is a row in the form grid\r\n    [email, phone],\r\n    [currentpassword, newpassword],\r\n  ];\r\n\r\n  const handleLoadImg = (event) => {\r\n    const file = event.currentTarget.files[0];\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      const fileToAdd = {\r\n        file: file,\r\n        data: fileReader.result,\r\n        isUploading: false,\r\n      };\r\n      const changesObj = {\r\n        ...state,\r\n        imgFile: fileToAdd,\r\n      };\r\n      setState(changesObj);\r\n    };\r\n    fileReader.onerror = () => {\r\n      console.log(\r\n        \"Une est s'est produite lors de chargement de l'image depuis le disque\"\r\n      );\r\n    };\r\n\r\n    fileReader.readAsDataURL(file);\r\n  };\r\n\r\n  const uploadImage = () => {\r\n    //Update file (Change its state to uploading)\r\n    setState({\r\n      ...state,\r\n      imgFile: {\r\n        ...state.imgFile,\r\n        isUploading: true,\r\n      },\r\n    });\r\n\r\n    // Send files to Server\r\n    const data = new FormData();\r\n    data.append(\"file\", state.imgFile.file);\r\n    return axios\r\n      .post(\"http://localhost:4000/upload/admins/profileImg\", data, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n        onUploadProgress: (progressEvent) => {\r\n          setProgressValue((progressEvent.loaded / progressEvent.total) * 100);\r\n        },\r\n      })\r\n      .then(\r\n        (res) => {\r\n          console.log(`Server result : ${res}`);\r\n          if (res.status === 200) {\r\n            console.log(\"File successfullly uploaded.\");\r\n            return Promise.resolve({ ok: true, res: res });\r\n          }\r\n          return Promise.reject(\"L'image n'a pas pu chargée correcttement\");\r\n        },\r\n        (err) => {\r\n          return Promise.reject(\r\n            `Une erreur est survenu lors de chargement : ${err}`\r\n          );\r\n        }\r\n      );\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (data) => {\r\n    const changes = Object.assign(\r\n      {},\r\n      ...Object.keys(user)\r\n        .map((key) => {\r\n          if (data[key] && user[key] !== data[key] && data[key] !== \"\")\r\n            return {\r\n              [key]: data[key],\r\n            };\r\n          else return undefined  \r\n        })\r\n        .filter((el) => !(typeof el === \"undefined\"))\r\n    );\r\n    console.log(state.imgFile);\r\n    if (state.imgFile) changes.image = state.imgFile.file;\r\n    if (data.currentpassword && data.newpassword) {\r\n      changes.oldPassword = data.currentpassword;\r\n      changes.newPassword = data.newpassword;\r\n    }\r\n\r\n    // If no field is changed, do not do anything, quit\r\n    if (!Object.keys(changes).length) return;\r\n    changes.id = user.id;\r\n\r\n    setisLoding(true)\r\n    props\r\n      .updateProfile({ ...changes, adminType: \"enseignant\", id: user.id })\r\n      .then(\r\n        (res) => {\r\n          setAlertProps({\r\n            severity: \"success\",\r\n            message: \"Profile mis à jours avec succès\",\r\n          });\r\n          setAlertOpen(true);\r\n          setisLoding(false)\r\n        },\r\n        (err) => {\r\n          // props.updateProfile({ type: \"UPDATE_PROFILE_FAILED\", err });\r\n          setAlertProps({\r\n            severity: \"error\",\r\n            message: `Une erreur s'est produite ${\r\n              err.message ? err.message : \"\"\r\n            }`,\r\n          });\r\n          setAlertOpen(true);\r\n          setisLoding(false)\r\n        }\r\n      );\r\n  };\r\n  return (\r\n    <Page className={classes.root} title=\"Compte\">\r\n      <Container maxWidth=\"lg\">\r\n        <ToasterSnackBar\r\n          open={alertOpen}\r\n          onClose={closeToaster}\r\n          autoHideDuration={6000}\r\n          children={toasterContent}\r\n        />\r\n\r\n        <Grid container spacing={3}>\r\n          <Grid item lg={4} md={6} xs={12}>\r\n            <Card {...cardProps}>\r\n              <CardContent>\r\n                <ProfileAvatar\r\n                  firstname={user.nom}\r\n                  lastname={user.prenom}\r\n                  avatar={(state.imgFile && state.imgFile.data) || user.image}\r\n                  descriptionTitle={user.jobTitle}\r\n                  classes={classes}\r\n                />\r\n              </CardContent>\r\n              <Divider />\r\n              <CardActions>\r\n                <form encType=\"multipart/form-data\">\r\n                  <input\r\n                  type=\"file\"\r\n                  id=\"profilePicture\"\r\n                  name=\"profilePicture\"\r\n                  hidden\r\n                  accept=\"image/png, image/jpeg\"\r\n                  onChange={handleLoadImg}\r\n                />\r\n                </form>\r\n                <Button\r\n                  component=\"label\"\r\n                  htmlFor=\"profilePicture\"\r\n                  color=\"primary\"\r\n                  fullWidth\r\n                  variant=\"text\"\r\n                >\r\n                  Modifier votre avatar\r\n                </Button>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item lg={8} md={6} xs={12}>\r\n            <Card>\r\n              <CardHeader\r\n                subheader=\"Vous pouvez modifier vos informations\"\r\n                title=\"Paramètres du profile\"\r\n              />\r\n              <Divider />\r\n              {/* <MuiThemeProvider theme={tinyTheme}> */}\r\n              <LoadingComponent \r\n                component={<CustomForm\r\n                  validationSchema={validationSchema}\r\n                  fieldsHiearchy={formStructure}\r\n                  initialState={state}\r\n                  onChange={handleChange}\r\n                  onSubmit={handleSubmit}\r\n                  submitLabel={\"Mettre à jours\"}\r\n                />}\r\n                controller={isLoding}\r\n                />\r\n              {/* </MuiThemeProvider> */}\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container justify=\"center\">\r\n          <Grid item xs={12} sm={8}>\r\n            {state.avatar != null && progressValue > 0 && (\r\n              <LinearProgress\r\n                variant=\"determinate\"\r\n                color={\"primary\"}\r\n                value={progressValue}\r\n              />\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Page>\r\n  );\r\n};\r\n\r\nProfile.propTypes = {\r\n  className: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  // user: state.managerReducer.user,\r\n  user: state.adminReducer.user,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    // updateProfile: (params) =>dispatch(params),\r\n    updateProfile: (params) => dispatch(Actions.updateProfile(params)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import React from 'react'\r\nimport {Box,Typography} from \"@material-ui/core\"\r\nfunction Statistiques(props) {\r\n    return (\r\n        <div>\r\n            <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" justifyContent=\"center\" style={{height: \"100vh\"}}>\r\n\r\n            <Typography variant=\"h1\" color=\"textSecondary\"> Not Implemented Yet</Typography>\r\n            <Typography variant=\"h5\" color=\"textSecondary\"> Coming Soon</Typography>\r\n            </Box>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Statistiques\r\n\r\n","import React from \"react\";\r\nimport { Route, BrowserRouter as Router, Routes,Navigate } from \"react-router-dom\";\r\n\r\n// View\r\nimport Auth from \"./Admin/auth/pages/Auth\";\r\nimport Logout from \"./Admin/auth/pages/Logout\";\r\nimport ManagerDashboardLayout from \"./Admin/Manager/dashboard/pages/DashboardLayout\";\r\nimport TeacherDashboardLayout from \"./Admin/Teacher/dashboard/pages/Dashboard\";\r\n// Manager's views\r\nimport Dashboard from \"./Admin/Manager/dashboard/pages/dashboard/Dashboard\";\r\nimport Enseignants from \"./Admin/Manager/dashboard/pages/enseignants/Enseignants\";\r\nimport Abonnes from \"./Admin/Manager/dashboard/pages/Abonnes\";\r\nimport Eleves from \"./Admin/Manager/dashboard/pages/Eleves\";\r\nimport Profile from \"./Admin/Manager/dashboard/pages/Profile\";\r\nimport Pubs from \"./Admin/Manager/dashboard/pages/pubs/Pubs\";\r\nimport Statistiques from \"./Admin/Manager/dashboard/pages/Statistiques\";\r\n\r\n// Teacher's views\r\nimport Contenu from \"./Admin/Teacher/dashboard/pages/contenu/Contenu\";\r\nimport ElevesClasse from \"./Admin/Teacher/dashboard/pages/Eleves\";\r\nimport TeacherProfile from \"./Admin/Teacher/dashboard/pages/Profile\";\r\nimport TeacherStatistiques from \"./Admin/Teacher/dashboard/pages/Statistiques\";\r\n\r\n \r\n// Redux\r\nimport { connect } from \"react-redux\";\r\n\r\nconst isLoggedIn = (adminType) => {\r\n  const admin = localStorage.getItem(\r\n    adminType === \"manager\" ? \"manager\" : \"enseignant\"\r\n  );\r\n  return admin !== null;\r\n};\r\n\r\n\r\n\r\nfunction PrivateRoute({ component: Component, adminType,from,...rest }) {\r\n\r\n  return (\r\n    // <Provider store={from===\"/\"?ManagerStore:TeacherStore} >\r\n    <Route\r\n      {...rest}\r\n      element={((props) =>\r\n        isLoggedIn(adminType) ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Navigate\r\n          \r\n            to={{ pathname: \"/login\", state: { from: from } }}\r\n          />\r\n        )\r\n      )()\r\n      }\r\n    />\r\n    // </Provider>\r\n  );\r\n}\r\n\r\nfunction router(props) {\r\n\r\n  return (\r\n    <Router>\r\n    <Routes>\r\n    \r\n      <Route path='/login' element={<Auth /> } />\r\n      <Route path='/logout' element={<Logout /> } />\r\n      {props.currentAdminType===\"manager\" && (<Route path=\"/\"   element={<PrivateRoute component={ManagerDashboardLayout} adminType='manager' from='/' path='/'/>}>\r\n       \r\n        <Route path=\"\" element={<Dashboard />} />\r\n        <Route path=\"enseignants\" element={<Enseignants />} />\r\n        <Route path=\"cyclesannes\" element={<Dashboard />} />\r\n        <Route path=\"abonnes\" element={<Abonnes />} />\r\n        <Route path=\"eleves\" element={<Eleves/>} />\r\n        <Route path=\"statistiques\" element={<Statistiques/>} />\r\n        <Route path=\"profile\" element={<Profile/>} />\r\n        <Route path=\"pubs\" element={<Pubs/>} />\r\n      </Route>)} \r\n      {props.currentAdminType===\"enseignant\" &&(<Route path=\"/teacher\"   element={<PrivateRoute component={TeacherDashboardLayout} adminType='enseignant' from='/teacher' path='/teacher'/>}>\r\n       \r\n        <Route path=\"contenu\" element={<Contenu />} />\r\n        <Route path=\"eleves\" element={<ElevesClasse/>} />\r\n        <Route path=\"statistiques\" element={<TeacherStatistiques/>} />\r\n        <Route path=\"profile\" element={<TeacherProfile/>} />\r\n      </Route> )}\r\n      {/* <Route path=\"*\" element={<Navigate\r\n          \r\n            to={{ pathname: \"/login\"}}\r\n          />}\r\n      /> */}\r\n    </Routes>\r\n  </Router>\r\n  )\r\n}\r\n\r\nrouter.propTypes = {\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => { return ({\r\n  currentAdminType: state.adminReducer.adminType,\r\n})};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(router);\r\n\r\n\r\n","/**\r\n * This script manages GUI layout related state changes\r\n */\r\nimport React from \"react\";\r\n\r\nvar LayoutStateContext = React.createContext();\r\nvar LayoutDispatchContext = React.createContext();\r\n\r\nfunction layoutReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"TOGGLE_SIDEBAR\":\r\n      return { ...state, isSidebarOpened: !state.isSidebarOpened };\r\n    case \"CHANGE_SELECTED_LINK\":\r\n      return { ...state, selectedLink: action.payload.link };\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n}\r\n\r\nfunction LayoutProvider({ children }) {\r\n  var [state, dispatch] = React.useReducer(layoutReducer, {\r\n    isSidebarOpened: true,\r\n    selectedLink:'/'\r\n    \r\n  });\r\n  return (\r\n    <LayoutStateContext.Provider value={state}>\r\n      <LayoutDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </LayoutDispatchContext.Provider>\r\n    </LayoutStateContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useLayoutState() {\r\n  var context = React.useContext(LayoutStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useLayoutState must be used within a LayoutProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nfunction useLayoutDispatch() {\r\n  var context = React.useContext(LayoutDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useLayoutDispatch must be used within a LayoutProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nfunction toggleSidebar(dispatch) {\r\n  dispatch({\r\n    type: \"TOGGLE_SIDEBAR\",\r\n  });\r\n}\r\nfunction changeLink(dispatch,link) {\r\n  dispatch({\r\n    type: \"CHANGE_SELECTED_LINK\",\r\n    payload:{\r\n      link:link\r\n    } \r\n  });\r\n}\r\nexport { LayoutProvider, useLayoutState, useLayoutDispatch, toggleSidebar,changeLink };\r\n\r\n","import {combineReducers} from \"redux\"\r\n\r\nconst layoutState={\r\n    theme: 'main',\r\n    selectedLink: 'dashboard'\r\n}\r\nconst userState={\r\n    user: JSON.parse(localStorage.getItem('manager')) || {},\r\n    adminType: \"manager\"\r\n    \r\n}\r\n\r\nfunction managerReducer(state=userState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_PROFILE\":\r\n            return {user:{...state.user, ...action.payload}};\r\n        case \"SET_CURRENT_MANAGER\":\r\n            return {...state,user:{...state.user, ...action.payload}};\r\n        case \"MANAGER_LOGIN_FAILED\":\r\n            return {loginStatus:{success: false, message: action.payload}};\r\n        case \"LOGOUT\":\r\n            return userState\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\nfunction managerLayoutReducer(state=layoutState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_SELECTED_NAVLINK\":\r\n            return {...state, selectedLink:action.payload.selectedLink};\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\n\r\nconst combined=combineReducers({\r\n    managerReducer,\r\n    managerLayoutReducer\r\n})\r\n\r\nexport default combined","import {combineReducers} from \"redux\"\r\n\r\nconst layoutState={\r\n    theme: 'main',\r\n    selectedLink: 'dashboard'\r\n}\r\nconst userState={\r\n    user: JSON.parse(localStorage.getItem('enseignant')) || {},\r\n    adminType: \"enseignant\"\r\n}\r\n\r\nfunction managerReducer(state=userState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_PROFILE\":\r\n            return {user:{...state.user, ...action.payload}};\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\nfunction managerLayoutReducer(state=layoutState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_SELECTED_NAVLINK\":\r\n            return {...state, selectedLink:action.payload.selectedLink};\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\n\r\nconst combined=combineReducers({\r\n    managerReducer,\r\n    managerLayoutReducer\r\n})\r\n\r\nexport default combined","import {combineReducers} from \"redux\"\r\n\r\nconst layoutState={\r\n    theme: 'main',\r\n    selectedLink: 'dashboard'\r\n}\r\nconst userState={\r\n    user: JSON.parse(localStorage.getItem('manager')) || JSON.parse(localStorage.getItem('enseignant')) || {},\r\n    adminType: JSON.parse(localStorage.getItem('enseignant'))!==null?\"enseignant\" : \"manager\",\r\n    status:{\r\n        // loginStatus:{success: true, message: \"Connexion réussie\"}\r\n    }\r\n    \r\n}\r\n\r\nfunction adminReducer(state=userState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_PROFILE\":\r\n            return {...state,user:{...state.user, ...action.payload}};\r\n        case \"SET_CURRENT_MANAGER\":\r\n            return {...state,user:{...state.user, ...action.payload},adminType:\"manager\"};\r\n        case \"SET_CURRENT_TEACHER\":\r\n            return {...state,user:{...state.user, ...action.payload},adminType:\"enseignant\"};\r\n        case \"MANAGER_LOGIN_FAILED\":\r\n            return {...state,status: {...state.status,loginStatus:{success: false, message: action.payload}}};\r\n        case \"LOGOUT\":\r\n            return userState\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\nfunction managerLayoutReducer(state=layoutState,action){\r\n    switch(action.type){\r\n        case \"UPDATE_SELECTED_NAVLINK\":\r\n            return {...state, selectedLink:action.payload.selectedLink};\r\n\r\n        default: return state//throw Error('Invalid action!');\r\n    }   \r\n}\r\n\r\n\r\nconst combined=combineReducers({\r\n    adminReducer,\r\n    managerLayoutReducer\r\n})\r\n\r\n\r\nexport default combined","import { createStore } from \"redux\";\r\n\r\nimport {ManagerReducers} from \"../reducers/\";\r\n\r\nconst store = createStore(ManagerReducers,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nexport default store;","import { createStore,compose,applyMiddleware } from \"redux\";\r\nimport thunk from'redux-thunk'\r\nimport {AdminReducer} from \"../reducers/\";\r\n\r\nconst store = createStore(AdminReducer,compose(applyMiddleware(thunk),window.__REDUX_DEVTOOLS_EXTENSION__()));\r\n\r\nexport default store;","import { createStore,compose,applyMiddleware } from \"redux\";\r\nimport thunk from'redux-thunk'\r\nimport {TeacherReducer} from \"../reducers/\";\r\n\r\nconst store = createStore(TeacherReducer,compose(applyMiddleware(thunk),window.__REDUX_DEVTOOLS_EXTENSION__()));\r\n\r\nexport default store;","\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport \"./App.css\";\r\n\r\nimport Routes from './router';\r\n\r\nimport {LayoutProvider} from './Admin/statecontexts/LayoutContext';\r\n// import {ManagerStore} from './redux/stores/';\r\nimport {AdminStore} from './redux/stores/';\r\n// import {configureFakeBackend} from './fake/fakeBackend'\r\nfunction App() {\r\n  // configureFakeBackend();\r\n\r\n  return (\r\n    <LayoutProvider>\r\n    <Provider store={AdminStore}>\r\n    <Routes/>\r\n    </Provider>\r\n    </LayoutProvider>\r\n\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport AppAdmin from './AppAdmin';\r\n\r\nfunction App() {\r\n  return (\r\n    // <Router>\r\n    <div>\r\n      <AppAdmin/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}